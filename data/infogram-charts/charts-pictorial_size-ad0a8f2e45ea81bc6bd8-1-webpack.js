(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/charts-pictorial_size"],{"1Kuc":function(t,e,n){"use strict";n.r(e),n.d(e,"PictorialSize",(function(){return V}));var r=n("LvDl"),i=n.n(r),a=n("vBe5"),o=n("ziQ1"),c=n("+3eq"),s=n("3y/1"),l=n("LWvD"),u=n("x+1q"),h=n("ZHFg"),f=n("x5YE"),p=n("VLlq"),d=n("2YLo"),g=n("XKI8"),y=n("pYxU"),b=n("RTfP"),v=n("3UmV"),m=n("D3ez"),x=n("kGVT");function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,n){return(j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}Object(m.putGraph)("pictorial-size",x.PictorialSize);var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&D(t,e)}(m,t);var e,n,r,l=I(m);function m(){return w(this,m),l.apply(this,arguments)}return e=m,r=[{key:"getClassName",value:function(){return"PictorialSize"}}],(n=[{key:"preRenderLabels",value:function(t,e){var n={height:0,baseLineOffset:0};if(!i.a.get(this.runtime.sheet,"series[0].showValues",!0))return n;for(var r=i.a.get(this.options.style,"graph.item.value"),a=parseInt(r["font-size"],10),o=Object(s.getTextDimensions)(t,r),c=o.width<=e;!c&&a>8;)r["font-size"]="".concat(--a,"px"),c=(o=Object(s.getTextDimensions)(t,r)).width<=e;return c?o:(this.runtime.showValues=!1,n)}},{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.root,n=this.options,r=new d.Renderer({instance:this}),l=this.getSheetData(),g=Object(u.default)(l),b=this.runtime={width:n.width,height:n.height,sheet:l,formatter:g},m=n.fixedHeight,x=n.style,w=v.PictorialGrid.prototype.prepareSheetData.call(this,l,this.sheetIndex),O=w.data;b.showValues=i.a.get(l,"series[0].showValues",!0),Object(p.default)(this,{width:n.width}),Object(y.DownloadButton)(this,x.legend);var j=Object(f.legendHelper)({instance:this});if(j&&j.chartType("pictorial-size"),!this.sheetsNotFound()){var S=b.height;if(S<1)this.stopRender();else{var L={top:10,right:10,bottom:10,left:10,pictorial:5},D=this.createAnimationCounter(2),E=b.width-L.left-L.right,I=b.height-L.top-L.bottom,V=O.length,R=O.map((function(t){return t.valueLabel})),T=Math.floor(E/V),z=this.preRenderLabels(R,T),P=i.a.get(z,"baseLineOffset",0),k=i.a.get(z,"height",0),A=b.showValues;A||(L.pictorial=0),I-k<1&&(L.top=0,L.bottom=0,L.pictorial=0,I=b.height),k>I/2&&(k=0,L.pictorial=0,A=!1);var _=I-k-L.pictorial,C=Object(o.scaleBand)().range([0,E]).domain(Object(a.range)(0,V)).paddingOuter(0).paddingInner(.05).bandwidth(),M=l.categories.shapes;M.length||(M=this.defaults().shapes.map((function(t){return t.title})).slice(0));var q=Object(h.availableShapesMetrics)(n.shapes)(M),B=Object(a.max)(O,(function(t){return t.value})),G=0,K=1/0,U=0,W=O.some((function(t){var e=q[t.shape],n=Math.sqrt(t.value/B),r=C/e.bbox.width*n,i=e.bbox.height*r;return _<i}));O.forEach((function(t){var e=q[t.shape],n=Math.sqrt(t.value/B),r=W?_/e.bbox.height*n:C/e.bbox.width*n,i=e.bbox.height*r;G=Math.max(i,G);var a=r*e.bbox.width;t.shapeWidth=a,U+=a,t.scale=r,t.fillRule=e.fillRule,t.color=Object(s.getColor)(t.categoryIdx,l.categories.colors)}));var H,Y=(E-U)/V;O.forEach((function(t,e){t.x=0===e?Y/2:H.x+H.shapeWidth+Y,t.xText=t.x+t.shapeWidth/2,H=t}));var F=i.a.get(l,"series[0].align","middle");O.forEach((function(t){var e=0,n=q[t.shape].bbox.height*t.scale;switch(F){case"middle":e+=(G-n)/2;break;case"bottom":e+=G-n}K=Math.min(K,e),t.y=e})),O.forEach((function(t){t.yText=K+G+L.pictorial+P}));var J={igc:{x:L.left,y:L.top+(m?(_-G)/2:0)}};m||(S=L.top+Math.min(_,G)+(k?L.pictorial+k:0)+L.bottom),this.containerSetup(),e.attr("width",b.width).attr("height",S);var N=e.select(".igc");r.add((function(){e.datum(t).transition().ease(c[n.animation.ease]).duration(n.animation.duration).on("start",(function(){t.events.call("startAnimation")})).on("end",(function(){D()})),N.attr("transform","translate(".concat(J.igc.x,", ").concat(J.igc.y,")"))})),r.addGraph([{graphs:[w],transitionDuration:n.animation.duration,legend:j,animationEnd:D,shapes:q,textStyle:i.a.get(x,"graph.item.value"),showValues:A}]),r.start()}}}},{key:"graphInstanceSetup",value:function(t,e,n,r,i){var a=this.runtime.formatter;t.data(e.data).colors(e.colors).groupId(i).legend(r.legend).shapes(r.shapes).showValues(r.showValues).tooltip(Object(g.createStyledTooltip)(this)).tooltipText((function(t){return t.category})).tooltipValue((function(t){return a.tooltip.x.format(t.valueLabel)})).textStyle(r.textStyle).transitionDuration(r.transitionDuration),t.dispatch().on("animationEnd",r.animationEnd)}},{key:"defaults",value:function(){var t={};return i.a.merge(t,j(S(m.prototype),"defaults",this).call(this),{shapes:[Object(b.defaultShape)()]}),i.a.unset(t,"style.graph.item.value.color"),t}},{key:"emptySheetData",value:function(){return i.a.merge({},j(S(m.prototype),"emptySheetData",this).call(this),{categories:{shapes:[Object(b.defaultShape)().title]},series:[{type:"pictorial-size",showValues:!0}],axis:[{}],grid:{}})}},{key:"applySheetOptions",value:function(t){t&&this.options.sheets.forEach((function(e,n){var r=function(e){return t[e]||t[0]}(n+1);r.categories&&i.a.merge(e.categories,r.categories),e.series.forEach((function(t){i.a.merge(t,r.series&&r.series[0]||{})})),r.legend&&i.a.merge(e.legend,r.legend),e.axis.forEach((function(t,e){var n=r.axis&&r.axis[e];n&&i.a.merge(t,n)}))}))}}])&&O(e.prototype,n),r&&O(e,r),m}(l.default)},fVwI:function(t,e,n){"use strict";n.r(e);var r=n("LvDl"),i=n.n(r),a=n("1Kuc"),o=n("6jAQ"),c=n("l7Rd"),s=n("BD53"),l=Object.create(o.default);e.default=l,function(){this.instanceClass=a.PictorialSize,this.defaultShape="circlePath",this.setupChartSheetOptionsItem=function(t,e){var n={categories:{colors:i.a.merge([],this.themeColors,t.colors||this.colors)},series:[{showValues:i.a.get(t,"showInLineValues",!0)}],axis:[{}]};return Object(s.default)(n,t,this.charts),c.assignShapesToCategories.call(this,{custom:t,sheetOptions:n,sheetIndex:e}),n}}.call(l)},kGVT:function(t,e,n){"use strict";n.r(e),n.d(e,"PictorialSize",(function(){return f}));var r=n("LvDl"),i=n.n(r),a=n("30U6"),o=n("/TIM"),c=n("+3eq"),s=n("XKI8"),l=n("SGek"),u=n("p8DI"),h=n("3y/1");function f(){var t,e,n,r=function(t){return i.a.uniq(t.reduce((function(t,e){return"string"==typeof e.shape&&t.push(e.shape),t}),[]))},f=function(t){t.each((function(){var t=Object(o.select)(this);if(t.selectAll(".pict-label").remove(),b.length){var e=function(t){var e=t.selectAll(".pict-graph"),n=[];return e.each((function(t){n.push(t)})),n}(t),n=r(e),a=r(b),c=i.a.size(a),s=i.a.size(n)!==c||i.a.size(i.a.intersection(n,a))!==c;p(t),s&&t.selectAll(".pict-graph").remove();var h=t.selectAll(".pict-graph").data(b),f=h.enter().append("path").attr("class","pict-graph");f.attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,") scale(").concat(t.scale,")")})).attr("fill-rule",(function(t){return t.fillRule})).style("opacity",l.eps),h.exit().remove(),h=f.merge(h);var g=0;h.transition().style("opacity",null).duration(m).attr("d",(function(t){return D[t.shape].shape})).attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,") scale(").concat(t.scale,")")})).attr("fill",(function(t){return t.color})).on("start",(function(){g++})).on("end",(function(){0==--g&&(d(h,t.selectAll(".pict-label")),Object(u.addMouseEvents)(h,x,j,w,O),E())}))}else t.selectAll(".pict-graph").remove()}))},p=function(t){var e=t.selectAll(".pict-label").data(S?b:[]),n=e.enter().append("text").attr("class","pict-label").style("opacity",l.eps);e.exit().remove(),e=n.merge(e);var r=0;e.attr("x",(function(t){return t.xText})).attr("y",(function(t){return t.yText})).attr("text-anchor","middle").style("cursor","default").style("opacity",null).styles(L).transition().duration(m).text((function(t){return t.valueLabel})).attr("fill",(function(t){return L.color||t.color})).on("start",(function(){r++})).on("end",(function(){0==--r&&E()})),S||E()},d=function(e,r){n&&n.data().forEach((function(e){n.addListener({id:"".concat(t,"_").concat(e.groupId),dispatch:x})})),x.on("highlightStart",(function(n,i){t===i&&(e.filter(g(n)).transition().duration(150).ease(c.easeLinear).style("opacity",.3),r.filter(y(n)).transition().duration(150).ease(c.easeLinear).style("opacity",.3))})),x.on("highlightEnd",(function(n,i){t===i&&(e.filter(g(n)).transition().duration(150).ease(c.easeLinear).style("opacity",null).on("end",(function(){Object(o.select)(this).style("opacity",null)})),r.filter(y(n)).transition().duration(150).ease(c.easeLinear).style("opacity",null).on("end",(function(){Object(o.select)(this).style("opacity",null)})))}))},g=function(t){return function(e){return t!==e.categoryIdx}},y=function(t){return function(e){return t!==e.categoryIdx&&"none"!==Object(o.select)(this).style("display")}},b=[],v=h.schemeCategory10,m=700,x=Object(a.dispatch)("highlightStart","highlightEnd","animationEnd","openUrl"),w=function(t){return t.xLabel},O=function(t){return t.yLabel},j=s.getTooltip,S=!0,L={},D=[],E=i.a.after(2,(function(){x.call("animationEnd")})),I={data:function(t){return arguments.length?(b=t,f):b},colors:function(t){return arguments.length?(v=t,f):v},groupId:function(t){return arguments.length?(e=t,f):e},chartId:function(e){return arguments.length?(t=e,f):t},legend:function(t){return arguments.length?(n=t,f):n},tooltip:function(t){return arguments.length?(j=t,f):j},tooltipText:function(t){return arguments.length?(w=t,f):w},tooltipValue:function(t){return arguments.length?(O=t,f):O},transitionDuration:function(t){return arguments.length?(m=t,f):m},dispatch:function(){return x},shapes:function(t){return arguments.length?(D=t,f):D},showValues:function(t){return arguments.length?(S=t,f):S},textStyle:function(t){return arguments.length?(L=t,f):L}};return Object.assign(f,I),f}}}]);