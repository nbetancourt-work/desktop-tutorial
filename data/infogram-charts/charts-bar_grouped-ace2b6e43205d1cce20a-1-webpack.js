(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/charts-bar_grouped"],{Cvcl:function(t,e,n){"use strict";n.r(e);var a=n("LvDl"),i=n.n(a),r=n("O7dx"),o=n("m1zM"),s=n("BD53"),c=n("Omln"),l=n("YUA+"),u=n("wZn9"),d=n("s9+M"),h=Object.create(o.default);e.default=h,function(){this.instanceClass=r.BarStacked,this.setupChartSheetOptionsItem=function(t){var e={categories:{colors:i.a.merge([],this.themeColors,t.colors||this.colors)},grid:{vertical:!0,horizontal:!1},graphOptions:{bar:{showValues:!!t.showInLineValues}},axis:[{},{}]};Object(s.default)(e,t,this.charts);var n=e.axis[0],a=e.axis[1];return t.enableHeight||(e.categories.categoryHeight=t.categoryHeight||this.defaultCategoryHeight),n.title=t.xlabel||"",a.title=t.ylabel||"",i.a.has(t,"axis.x.ticks")&&(n.ticks=i.a.get(t,"axis.x.ticks")),i.a.has(t,"axis.y.ticks")&&(a.ticks=i.a.get(t,"axis.y.ticks")),"number"==typeof t.xmin&&(n.minLimit=t.xmin),"number"==typeof t.xmax&&(n.maxLimit=t.xmax),e.grid.vertical=Object(c.getGridSettingsVertical)(t),e.grid.verticalZero=Object(l.getZeroBaselineVertical)(t),Object(u.assignAxisTickInterval)(e,t),Object(u.assignAxisTicks)(e,t),Object(d.assignNumberFormatValues)({sheetOptions:e,custom:t,axis:[{id:"x",path:""},{id:"x1",path:"axis.x"}],inputDecimalSeparator:this.inputDecimalSeparator}),Object(d.assignNumberFormatLabels)({sheetOptions:e,custom:t,affixes:[{id:"x",path:""},{id:"label",path:""}],inputDecimalSeparator:this.inputDecimalSeparator}),e}}.call(h)},JZf3:function(t,e,n){"use strict";n.r(e);var a=n("N8kj"),i=n("Cvcl"),r=Object.create(i.default);e.default=r,function(t){this.instanceClass=a.BarGrouped,this.defaultCategoryHeight=20,this.defaultCategoryPadding=20,this.setupChartSheetOptionsItem=function(e){var n=t.setupChartSheetOptionsItem.call(this,e);return n.categories.padding=e.groupedBarCategoryPadding||this.defaultCategoryPadding,void 0!==e.showInLineValuesOutside&&(n.graphOptions.bar.valuesOutside=e.showInLineValuesOutside),n}}.call(r,i.default)},N8kj:function(t,e,n){"use strict";n.r(e),n.d(e,"BarGrouped",(function(){return A}));var a=n("LvDl"),i=n.n(a),r=n("vBe5"),o=n("ziQ1"),s=n("+3eq"),c=n("b/Qv"),l=n("pQx5"),u=n("ejCe"),d=n("VDPv"),h=n("BGfC"),g=n("v3rV"),f=n("t982"),p=n("x+1q"),m=n("pzpO"),x=n("HTVg"),y=n("M51E"),b=n("SGek"),v=n("3y/1"),O=n("2YLo"),j=n("x5YE"),w=n("VLlq"),E=n("XKI8"),L=n("pYxU"),S=n("D3ez"),k=n("bmWO");function I(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function D(t,e,n){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(a){var i=Object.getOwnPropertyDescriptor(a,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function B(t,e){return!e||"object"!==P(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=C(t);if(e){var i=C(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return B(this,n)}}Object(S.putGraph)("bar-grouped",k.BarGrouped);var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(S,t);var e,n,a,c=V(S);function S(){return I(this,S),c.apply(this,arguments)}return e=S,a=[{key:"getClassName",value:function(){return"BarGrouped"}}],(n=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.root,n=this.options,a=new O.Renderer({instance:this}),c=this.getSheetData(),E=Object(p.default)(c),S=this.runtime={width:n.width,height:n.height,components:{},metrics:{},layout:{},sheet:c,formatter:E,inanimate:Object(g.inanimated)(n)},k=S.layout,I=n.fixedHeight,T=c.axis[0],D=c.axis[1],C="absolute"===n.series.data,B=C?Object(l.getAllGraphs)(this):[this.prepareSheetData(c,this.sheetIndex)],G=C?B[this.sheetIndex]:B[0];this.createTickIntervals(),Object(w.default)(this,{width:n.width}),Object(L.DownloadButton)(this,n.style.legend);var P=Object(j.legendHelper)({instance:this});if(!this.sheetsNotFound(G)){var V,A=0,H=1,z=0,R=0,M=S.layout.marginTitle={left:0,right:0,top:0,bottom:0},N=S.layout.marginAxis={left:0,right:0},U=this.getCategoryData(G),_={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0},W=k.leftLabelPadding={top:2,right:10,bottom:2,left:0},Z=this.createAnimationCounter(3);c.categories.categoryHeight&&(V=Number(c.categories.categoryHeight));var F=b.math.preciseNumber,Y=n.style.axis.x,X=n.style.axis.y;this.titleLayout(["x","y"]);var q={width:0,height:0};T.ticks&&((q=Object(v.getTextDimensions)(E.axis.x.tickSample(),Y.tick)).height=Math.min(q.height,30));var Q=q.height+5,J=Number(c.categories.padding),K=Q+J/2,$=S.width-R-M.left-H-M.right,tt=S.height-A-M.top-z-M.bottom,et=Object(r.range)(0,U.length),nt=Object(y.Ordinal)().domain(et);if(!I&&V){for(var at=c.series.length,it=V,rt=Object(o.scaleBand)().range([0,it]).domain(Object(r.range)(0,at)).paddingInner(.2).paddingOuter(0);V>rt.bandwidth();)it+=1,rt.range([0,it]);nt.rangeBandsByWidth(it,J,K);var ot=nt.range()[nt.range().length-1]+nt.rangeBand()+K;S.height=ot+A+M.top+z+M.bottom,tt=ot}else{nt.rangeBands([0,tt],J,K);var st=F(et.length*nt.rangeBand()+(et.length-1)*nt.padding());0===F(tt-st)&&(K=Q+(J=F(J=.1*((tt-2*K)/et.length-.1)))/2,nt.rangeBands([0,tt],J,K))}var ct=$-N.left-N.right,lt=Object(j.legendFiltered)(this),ut=Object(l.createGetDomain)("x"),dt=S.xDomain=lt?ut(G):Object(l.createGetDomainAbsolute)(ut)(B),ht=Object(m.limit)(T,dt);D.ticks||(W.right=0);var gt=0,ft=S.metrics.leftCategoryWidth=0,pt=Object(u.Left)().data([]),mt=dt[0]<0;if(D.ticks){gt=W.right,mt&&(gt*=2),_.maxLeftCategoryWidth=Math.floor(.35*ct)-W.right;var xt=Object(v.getTextDimensions)(U,X.tick);_.maxLeftCategoryHeight=nt.rangeBand()+nt.padding()-W.top-W.bottom,xt.width<=_.maxLeftCategoryHeight?ft=xt.height:(ft=x.Measure.wrappedText(_.maxLeftCategoryWidth,U,X.tick,xt.height).width,ft=Math.ceil(ft)<=_.maxLeftCategoryWidth?Math.ceil(ft):Math.floor(ft)),S.metrics.leftCategoryWidth=ft,pt.scale(nt).data(U).style(Y.tick).bounds({width:ft+W.right,height:tt}).offset({left:-(ft+gt),top:0}).padding(W).drawSeparators(c.grid.vertical),ct-=ft+W.right+gt}var yt=S.xScale=Object(o.scaleLinear)().rangeRound([0,ct]).clamp(ht);yt.domain(dt);var bt=i.a.get(c,"graphOptions.bar",{}),vt=bt.showValues;bt.valuesOutside&&vt&&Object(f.adjustScaleToOutsideValues)({scale:yt,graphs:lt?G:i.a.flatten(B),axisOptions:T,getText:function(e){return t.runtime.formatter.labels.format(e.xLabel)},getTextMetrics:function(e){return Object(v.getAllTextDimensions)(e,t.options.style.graph.item.value)},getValue:function(t){return t.x},getTextSize:function(t){return t.width},adjust:function(t,e){return t-e},barSize:function(t,e){return t>0?e(t)-e(0):e(0)-e(t)}});var Ot=Object(h.GridLines)().scale(nt).orient(h.GridLines.ORIENTS.horizontal).tickSize(-$).highlightZero(c.grid.horizontalZeroHighlight).style(n.style.grid);c.grid.horizontal||Ot.tickValues([]);var jt=S.components.xGridLines=Object(h.GridLines)().scale(yt).orient(h.GridLines.ORIENTS.vertical).tickSize(tt).highlightZero(c.grid.verticalZeroHighlight).style(n.style.grid),wt=S.components.xAxisBottomText=Object(d.default)().scale(yt).orient("bottom").style(X.tick).textOffset(-5).offset({top:tt-q.height/4});k.igc={x:R+M.left+N.left+(ft+gt),y:A+M.top},this.xTicksSetup(),this.gridSetupVertical(),this.titleComponents(["x","y"]);var Et=S.components,Lt=Et.bottomTitle,St=Et.leftTitle;Lt.orientBounds({y2:S.height-z-5,y1:A,x2:S.width,x1:R+M.left+N.left+ft+W.right}),St.orientBounds({x2:S.width,x1:R+4,y2:A+M.top+tt,y1:A+M.top}),Lt.dispatch().on("animationEnd",Z),S.inanimate&&Object(g.removeAnimation)([St,Lt,jt,Ot,pt,wt]),this.containerSetup();var kt=e.select(".igc"),It=n.animation.duration;a.add((function(){e.attr("width",S.width).attr("height",S.height),e.transition().ease(s[n.animation.ease]).duration(It).on("start",(function(){t.events.call("startAnimation")})).on("end",(function(){Z()})),kt.attr("transform","translate(".concat(k.igc.x,", ").concat(k.igc.y,")"))})),D.ticks?(a.addGrid(pt,"igc-y-axis-text"),c.grid.vertical?a.add((function(){t.createBorderLineFunc(e.select(".igc .igc-grid .igc-y-axis-text"),pt)()})):a.addGrid((function(t){t.selectAll(".igc-y-axis-separator").remove(),t.select(".igc-y-axis-border").remove()}),"igc-y-axis-text")):a.addGrid((function(t){t.selectAll(".tick").remove(),t.selectAll(".igc-y-axis-separator").remove(),t.select(".igc-y-axis-border").remove()}),"igc-y-axis-text"),a.addGrid(Ot,"igc-ygrid"),a.addGrid(jt,"igc-xgrid"),a.addGrid(wt,"igc-x-axis-text"),a.addGraph([{graphs:G,x:yt,y:nt,textStyle:n.style.graph.item.value,legend:P,transitionDuration:It,animationEnd:Z}]),a.addTitle(St,"igc-title-left"),a.addTitle(Lt,"igc-title-bottom"),a.start()}}},{key:"renderGraphInstances",value:function(){var t,e=this,n=this.graphInstances.enterCount,a=this.graphInstances.updateCount,r=a+n,o=0===a&&n>0,s=a>0&&n>0,c=this.graphInstances.length,l=this.graphInstances[0].group,u=i.a.after(2,l.animationEnd),d=i.a.after(c,u);this.graphInstances.forEach((function(e){"update"===e.type&&(t=e.instance)}));var h=function(){if(0==--r){var t=i.a.after(c,u);e.graphInstances.forEach((function(e){var n=e.instance;n.dispatch().on("animationTextEnd",t),n.renderText()}))}};this.graphInstances.forEach((function(e){var n=e.instance,a=n.dispatch();if(s&&"enter"===e.type){a.on("animationEnterStart",h);var i=n.transitionTiming().duration;t&&(i=t.transitionTiming().duration);var r=i.x+i.y;n.renderDelay(r)}else o?a.on("animationStart",h):a.on("animationUpdateEnd",h);a.on("animationEnd",d),e.selection.call(e.instance)}))}},{key:"graphInstanceSetup",value:function(t,e,n,a){var i=this.legendData,r=this.runtime,o=r.sheet,s=r.formatter,c=o.series.length,l=Object(j.legendFiltered)(this),u=Object(g.removeDelay)(this,(function(t,e){return e/c*(a.transitionDuration-200)}));t.scaleX(a.x).scaleY(a.y).data(e.data).colors(e.colors).groupId(n).textStyle(a.textStyle).showValues(e.showValues).legend(a.legend).valuesOutside(e.valuesOutside).tooltip(Object(E.createStyledTooltip)(this)).tooltipText((function(t){return"".concat(t.yLabel,": ").concat(s.tooltip.x.format(t.xLabel))})).tooltipValue((function(t){return t.groupLabel})).numberFormat(s.labels).transitionDelay(u).transitionDuration(a.transitionDuration),l&&t.filter(i)}},{key:"defaults",value:function(){return i.a.merge({},D(C(S.prototype),"defaults",this).call(this),{series:{data:"separate"}})}},{key:"emptySheetData",value:function(){return i.a.merge({},D(C(S.prototype),"emptySheetData",this).call(this),{categories:{padding:20},series:[{type:"bar-grouped"}],graphOptions:{bar:{showValues:!0,valuesOutside:!1}},axis:[{title:"",ticks:!0},{title:"",ticks:!0}],grid:{verticalZeroHighlight:!0,vertical:!0,horizontal:!1}})}},{key:"prepareSheetData",value:function(t,e){var n=t.categories.colors,a=i.a.get(t,"graphOptions.bar",{}),r=a.showValues,o=a.valuesOutside;t.categories.data||(t.categories.data=[]);var s,c=e===this.sheetIndex;c&&(s=Object(j.createLegendData)(this));var l=t.categories.data.length,u=t.categories.data.map((function(t,e){return{colors:n,data:[],categoryIdx:e,showValues:!0===r,valuesOutside:!!o,type:"bar-grouped"}}));t.series.forEach((function(e,n){for(var a=i.a.get(e,"index",n),r=0;r<l;r++){var o=t.categories.data[r];if(void 0!==o){var s=e.data[r];u[r].data.push({x:Object(v.replaceBlank)(s,null),y:r,xLabel:Object(v.replaceBlank)(e.rawData[r]),yLabel:Object(v.replaceBlank)(e.title),groupLabel:Object(v.replaceBlank)(o),seriesIdx:a,link:i.a.get(e,"links[".concat(r,"]"),null)})}}}));var d=u.length;return u.forEach((function(t){var e=t.data.length,n=0;0!==e&&(t.data.forEach((function(t){null===t.x&&n++})),n===e&&(t.data=[]))})),(u=u.filter((function(t){return t.data&&t.data.length>0}))).length!==d&&u.forEach((function(t,e){t.data.forEach((function(t){t.y=e}))})),c&&u.forEach((function(t){var e=t.colors;t.data=t.data.filter((function(t){return s({color:Object(v.getColor)(t.seriesIdx,e),title:t.yLabel,groupId:t.seriesIdx}).active}))})),u}}])&&T(e.prototype,n),a&&T(e,a),S}(c.default)},bmWO:function(t,e,n){"use strict";n.r(e),n.d(e,"BarGrouped",(function(){return m}));var a=n("LvDl"),i=n.n(a),r=n("30U6"),o=n("ziQ1"),s=n("/TIM"),c=n("+3eq"),l=n("XKI8"),u=n("RTfP"),d=n("RYHP"),h=n("3y/1"),g=n("p8DI"),f=n("XRHE"),p=n("eXr4");function m(){var t,e,n,a,m,x=function(t){V.duration.x=H,0===H&&(V.duration.y=H,V.duration.text=H),t.each((function(){if(k.length){var t=Object(s.select)(this),e=t.selectAll("path");e.transition().duration(0);var n=y(e);t.selectAll("text").remove(),U=function(){O(t,n)},v(t,n)}}))},y=function(t){var e,n=S.bandwidth(),a=[],r=[],s=[];k.forEach((function(t,n){var i=a[n]={},o=t.x;i.width=L(o)-L(0),i.x=t.x,i.xPos=Math.round(L(0)+(i.width>0?1:0)),i.xLabel=t.xLabel,i.y=t.y,i.yPos=S(n),i.yLabel=t.yLabel,i.seriesIdx=t.seriesIdx,i.color=Object(h.getColor)(t.seriesIdx,I),i.groupLabel=t.groupLabel,i.link=t.link,r.push(t.seriesIdx),e=S(t.y)})),m&&k.forEach((function(t,e){m[t.seriesIdx].active||r.splice(e,1)}));var c=Object(o.scaleBand)().domain(r).range([e,e+n]).paddingInner(.2).paddingOuter(0);return a.forEach((function(t){t.yPos=c(t.seriesIdx),t.height=c.bandwidth()})),t.each((function(t){var e=i.a.merge({},t);s.push(e)})),0===s.length&&(s=a.map((function(t){var e=i.a.merge({},t);return e.width=0,e}))),Object(h.pairData)(s,a,(function(t){t.width=0})),s},b=function(t,e){var n=0;t.style("fill",(function(t){return t.color})).style("stroke-width",0).attr("d",(function(t){return B(t.xPos,t.yPos,0,t.height,0)})).transition().duration(H).ease(c.easeElastic).delay((function(){return N+P.apply(this,arguments)})).on("start",(function(){n++})).attrTween("d",G((function(t){return t.next}))).on("end",(function(){0==--n&&e()}))},v=function(t,e){var n=t.selectAll("path").data(e),a=n.enter().insert("path","text"),i=0===n.size()&&a.size()>0,r=V.duration,o=0;n.exit().remove(),n.style("fill",(function(t){return t.next.color})).style("stroke-width",0).style("opacity",null),i?(M.call("animationStart"),M.call("animationUpdateStart"),M.call("animationUpdateEnd"),M.call("animationEnterStart"),a.call(b,(function(){n=n.merge(a),E(n),Object(g.addMouseEvents)(n,M,_,z,R),M.call("animationEnterEnd"),M.call("animationEnd")}))):(M.call("animationStart"),M.call("animationUpdateStart"),n.transition().duration(r.x).attrTween("d",G((function(t){return{xPos:t.next.xPos,yPos:t.yPos,width:t.next.width,height:t.height}}))).transition().duration(r.y).on("start",(function(){o++})).attrTween("d",G((function(t){return t.next}))).on("end",(function(){if(0==--o){if(M.call("animationUpdateEnd"),M.call("animationEnterStart"),0===a.size())return M.call("animationEnterEnd"),M.call("animationEnd"),E(n),void Object(g.addMouseEvents)(t.selectAll("path"),M,_,z,R);a.call(b,(function(){M.call("animationEnterEnd"),M.call("animationEnd"),E(n.merge(a)),Object(g.addMouseEvents)(t.selectAll("path"),M,_,z,R)}))}})))},O=function(t,e){var a=e.map((function(t){return n?n.format(t.next.xLabel):""+t.next.xLabel})),r=Object(h.getAllTextDimensions)(a,C),o=i.a.get(e,"[0].height",0),s=T&&o>=r.height,c=[];s&&(c=f.Bar.prepareTextData(e,r,C,2,L,D)),c.length&&s||M.call("animationTextEnd");var l=Object(p.createLabel)(t,c,C);Object(p.addOutline)(l,C,W),l.transition().duration(V.duration.text).style("opacity",1).on("start",(function(){A++})).on("end",(function(){0==--A&&M.call("animationTextEnd")})),Object(g.addMouseEvents)(l.filter((function(t){return t.inside})),M,_,z,R),j(l)},j=function(t){M.on("highlightStart.text",(function(e){t.filter(w(e)).transition().duration(150).ease(c.easeLinear).style("opacity",.3)})),M.on("highlightEnd.text",(function(e){t.filter(w(e)).transition().duration(150).ease(c.easeLinear).style("opacity",1)}))},w=function(t){return function(e){return e.seriesIdx!==t}},E=function(e){a&&a.data().forEach((function(e){a.addListener({id:"".concat(t,"_").concat(e.groupId),dispatch:M})})),M.on("highlightStart",(function(t){e.filter((function(e){return e.seriesIdx!==t})).transition().duration(150).ease(c.easeLinear).style("opacity",.3)})),M.on("highlightEnd",(function(t){e.filter((function(e){return e.seriesIdx!==t})).transition().duration(150).ease(c.easeLinear).style("opacity",1)}))},L=Object(o.scaleLinear)(),S=Object(o.scaleLinear)(),k=[],I=h.schemeCategory10,T=!0,D=!1,C=Object(u.chartOptions)().style.graph.item.value,B=d.default.barToRight,G=Object(d.createTweenShape)(B,"y"),P=0,V={duration:{x:400,y:700,text:50}},A=0,H=700,z=function(t){return t.x},R=function(t){return t.y},M=Object(r.dispatch)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl"),N=0,U=function(){},_=l.getTooltip,W=function(t){return n?n.format(t.text):t.text},Z={scaleX:function(t){return arguments.length?(L=t.copy(),x):L},scaleY:function(t){return arguments.length?(S=t.copy(),x):S},data:function(t){return arguments.length?(k=t,x):k},colors:function(t){return arguments.length?(I=t,x):I},groupId:function(t){return arguments.length?(e=t,x):e},valuesOutside:function(t){return arguments.length?(D=!!t,x):D},chartId:function(e){return arguments.length?(t=e,x):t},showValues:function(t){return arguments.length?(T=!!t,x):T},textStyle:function(t){return arguments.length?(C=t,x):C},legend:function(t){return arguments.length?(a=t,x):a},tooltip:function(t){return arguments.length?(_=t,x):_},tooltipText:function(t){return arguments.length?(z=t,x):z},tooltipValue:function(t){return arguments.length?(R=t,x):R},numberFormat:function(t){return arguments.length?(n=t,x):n},transitionDelay:function(t){return arguments.length?(P=t,x):P},transitionDuration:function(t){return arguments.length?(H=t,x):H},transitionTiming:function(t){return arguments.length?(V=t,x):V},renderDelay:function(t){return arguments.length?(N=t,x):N},dispatch:function(){return M},renderText:function(){return U(),x},filter:function(t){return arguments.length?(m=t,x):m}};return Object.assign(x,Z),x}}}]);