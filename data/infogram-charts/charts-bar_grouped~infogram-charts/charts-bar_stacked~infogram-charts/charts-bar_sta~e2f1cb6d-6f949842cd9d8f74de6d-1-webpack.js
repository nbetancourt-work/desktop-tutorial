(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/charts-bar_grouped~infogram-charts/charts-bar_stacked~infogram-charts/charts-bar_sta~e2f1cb6d"],{O7dx:function(t,e,n){"use strict";n.r(e),n.d(e,"BarStacked",(function(){return R}));var i=n("LvDl"),a=n.n(i),r=n("vBe5"),o=n("ziQ1"),c=n("+3eq"),l=n("v3rV"),s=n("x+1q"),u=n("b/Qv"),h=n("Ozxj"),d=n("emqt"),f=n("ejCe"),g=n("VDPv"),p=n("BGfC"),x=n("pzpO"),m=n("HTVg"),y=n("3y/1"),b=n("2YLo"),v=n("x5YE"),O=n("VLlq"),j=n("XKI8"),w=n("pYxU"),E=n("D3ez"),L=n("OlpK");function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=D(t)););return t}(t,e);if(i){var a=Object.getOwnPropertyDescriptor(i,e);return a.get?a.get.call(n):a.value}})(t,e,n||t)}function D(t){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function I(t,e){return!e||"object"!==C(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var C=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=D(t);if(e){var a=D(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return I(this,n)}}Object(E.putGraph)("bar-stacked",L.BarStacked);var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(E,t);var e,n,i,u=B(E);function E(){return k(this,E),u.apply(this,arguments)}return e=E,i=[{key:"getClassName",value:function(){return"BarStacked"}}],(n=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,n=this.root,i=new b.Renderer({instance:this}),a=this.getSheetData(),u=Object(s.default)(a),j=Object(d.percentEnabled)(e),E=this.runtime={width:e.width,height:e.height,components:{},metrics:{},layout:{margin:{top:0,right:1,bottom:0,left:0},marginTitle:{left:0,right:0,top:0,bottom:0},leftLabelPadding:{top:2,right:10,bottom:2,left:0}},inanimate:Object(l.inanimated)(e),sheet:a,formatter:u,percent:j},L=E.layout,k=L.margin,S=L.marginTitle,T=L.leftLabelPadding,D=L.marginAxis={left:0,right:0},I=e.fixedHeight,P=this.prepareSheetData(a,this.sheetIndex);this.createTickIntervals(),Object(O.default)(this,{width:e.width}),Object(w.DownloadButton)(this,e.style.legend);var C=Object(v.legendHelper)({instance:this});if(!this.sheetsNotFound(P)){var B,R=a.axis[0],G=a.axis[1],V=this.getCategoryData(P),z={maxLeftCategoryWidth:0,maxLeftCategoryHeight:0},A=this.createAnimationCounter(3);a.categories.categoryHeight&&(B=Number(a.categories.categoryHeight));var H=e.style.axis.x,M=e.style.axis.y;this.titleLayout(["x","y"]);var _={width:0,height:0};R.ticks&&((_=Object(y.getTextDimensions)(u.axis.x.tickSample(),H.tick)).height=Math.min(_.height,30));var U=E.width-k.left-S.left-k.right-S.right,W=E.height-k.top-S.top-k.bottom-S.bottom,Y=Object(r.range)(0,V.length),Z=Object(o.scaleBand)().domain(Y).paddingInner(.1).paddingOuter(.1),q=_.height+(R.ticks?5:0);if(!I&&B){var F=10;for(Z.range([0,F-q]);Z.bandwidth()-B<0;)F+=1,Z.range([0,F-q]);F-=1,E.height=F+k.top+S.top+k.bottom+S.bottom,W=F}Z.range([0,W-q]);var N=U-D.left-D.right,X=this.getDomain(P);"absolute"!==e.series.data||Object(v.legendFiltered)(this)||(X=this.getSheetsSeriesDomain()),E.xDomain=X;var K=Object(x.limit)(R,X),Q=0,J=E.metrics.leftCategoryWidth=0,$=Object(f.Left)().data([]),tt=X[0]<0;if(G.ticks){Q=T.right,tt&&(Q*=2);var et=Object(y.getTextDimensions)(V,M.tick);z.maxLeftCategoryWidth=.35*N-T.right,z.maxLeftCategoryHeight=Z.bandwidth()+.1*Z.bandwidth()/.9-T.top-T.bottom;var nt=!1;if(et.width<=z.maxLeftCategoryHeight?J=et.height||Object(y.getTextDimensions)([h.PRINTABLE_ASCII],M.tick).height:(J=m.Measure.wrappedText(z.maxLeftCategoryWidth,V,M.tick,et.height).width,Math.ceil(J)<=z.maxLeftCategoryWidth&&(J=Math.ceil(J)),nt=z.maxLeftCategoryHeight<et.height),E.metrics.leftCategoryWidth=J,$.scale(Z).data(V).bounds({width:J+T.right,height:W}).offset({left:-(J+Q),top:0}).style(M.tick).padding(T),nt){var it=Object(f.filterOverlappingCategories)(Z,et,Object(y.getAllTextDimensions)(V,M.tick));$.indexFilter(it);var at=V.filter((function(t,e){return-1!==it.indexOf(e)}));J=m.Measure.wrappedText(z.maxLeftCategoryWidth,at,M.tick,et.height).width,E.metrics.leftCategoryWidth=J=Math.ceil(J),$.bounds({width:J+T.right,height:W}).offset({left:-(J+Q),top:0})}N-=J+T.right+Q}var rt=E.xScale=Object(o.scaleLinear)().rangeRound([0,N]).clamp(K);rt.domain(X);var ot=Object(p.GridLines)().scale(Z).orient(p.GridLines.ORIENTS.horizontal).tickSize(-U).highlightZero(a.grid.horizontalZeroHighlight).style(e.style.grid);a.grid.horizontal||ot.tickValues([]);var ct=E.components.xGridLines=Object(p.GridLines)().scale(rt).orient(p.GridLines.ORIENTS.vertical).tickSize(W).highlightZero(a.grid.verticalZeroHighlight).style(e.style.grid),lt=E.components.xAxisBottomText=Object(g.default)().scale(rt).orient("bottom").style(H.tick).textOffset(-5).offset({top:W-_.height/4});L.igc={x:k.left+S.left+D.left+J+Q,y:k.top+S.top},this.xTicksSetup(),this.gridSetupVertical(),this.titleComponents(["x","y"]);var st=E.components,ut=st.bottomTitle,ht=st.leftTitle;ut.orientBounds({x1:k.left+S.left+J+(G.ticks?T.right:0),y1:k.top,x2:E.width,y2:E.height-k.bottom-5}),ht.orientBounds({x1:k.left+4,y1:k.top+S.top,x2:E.width,y2:k.top+S.top+W}),ut.dispatch().on("animationEnd",A),E.inanimate&&Object(l.removeAnimation)([ht,ut,ct,ot,lt,$]),this.containerSetup();var dt=n.select(".igc"),ft=e.animation.duration;i.add((function(){n.attr("width",E.width).attr("height",E.height),n.transition().ease(c[e.animation.ease]).duration(ft).on("start",(function(){t.events.call("startAnimation")})).on("end",(function(){A()})),dt.attr("transform","translate(".concat(L.igc.x,", ").concat(L.igc.y,")"))})),G.ticks?(i.addGrid($,"igc-y-axis-text"),a.grid.vertical?i.add((function(){t.createBorderLineFunc(n.select(".igc .igc-grid .igc-y-axis-text"),$)()})):i.addGrid((function(t){t.select(".igc-y-axis-border").remove()}),"igc-y-axis-text")):i.addGrid((function(t){t.selectAll(".tick").remove(),t.select(".igc-y-axis-border").remove()}),"igc-y-axis-text"),i.addGrid(ot,"igc-ygrid"),i.addGrid(ct,"igc-xgrid"),i.addGrid(lt,"igc-x-axis-text"),i.addGraph([{graphs:P,x:rt,y:Z,textStyle:e.style.graph.item.value,legend:C,transitionDuration:ft,animationEnd:A}]),i.addTitle(ht,"igc-title-left"),i.addTitle(ut,"igc-title-bottom"),i.start()}}},{key:"graphInstanceSetup",value:function(t,e,n,i){var a=this.runtime,r=a.formatter,o=a.percent,c=a.sheet,s=i.graphs.length,u=Object(l.removeDelay)(this,(function(){return n/s*500})),h=function(t){return"".concat(t.yLabel,": ").concat(r.tooltip.x.format(t.xLabel))},f=function(t){return t.groupLabel};o&&(h=function(t){return t.yLabel},f=Object(d.tooltipPercentValue)({sheet:c,formatter:r,props:["groupLabel","xLabel","x"]})),t.scaleX(i.x).scaleY(i.y).data(e.data).colors(e.colors).groupId(n).textStyle(i.textStyle).showValues(e.showValues).legend(i.legend).tooltip(Object(j.createStyledTooltip)(this)).tooltipText(h).tooltipValue(f).numberFormat(r.labels).transitionDelay(u).transitionDuration(i.transitionDuration)}},{key:"renderGraphInstances",value:function(){var t,e=this,n=this.graphInstances.enterCount,i=this.graphInstances.updateCount,r=i+n,o=0===i&&n>0,c=i>0&&n>0,l=this.graphInstances[0].group,s=a.a.after(2,(function(){l.animationEnd()})),u=a.a.after(this.graphInstances.length,s);this.graphInstances.forEach((function(e){"update"===e.type&&(t=e.instance)}));var h=function(){if(0==--r){var t=e.graphInstances.filter((function(t){return!t.skipTextRender})),n=t.length,i=a.a.after(n,s);n?t.forEach((function(t){var e=t.instance;e.dispatch().on("animationTextEnd",i),e.renderText()})):s()}};this.graphInstances.forEach((function(e){var n=e.instance,i=n.dispatch();if(c&&"enter"===e.type){i.on("animationStart",h),e.skipTextRender=!0,i.on("animationEnterStart",n.renderText);var a=n.transitionTiming().duration;t&&(a=t.transitionTiming().duration);var r=a.x+a.y;n.renderDelay(r)}else o?i.on("animationStart",h):i.on("animationUpdateEnd",h);i.on("animationEnd",u),e.selection.call(e.instance)}))}},{key:"getDomain",value:function(t){var e=[Object(r.min)(t,(function(t){return Object(r.sum)(t.data,(function(t){return t.x<0?t.x:0}))})),Object(r.max)(t,(function(t){return Object(r.sum)(t.data,(function(t){return t.x>0?t.x:0}))}))];return Object(x.ensureZeroEqual)(e),Object(x.ensureZero)(e),e}},{key:"getSheetsSeriesDomain",value:function(){var t;return this.options.sheets.forEach((function(e,n){var i=a.a.merge({},this.emptySheetData(),e),r=this.prepareSheetData(i,n),o=this.getDomain(r);0===n?t=o.slice(0):(t[0]=Math.min(o[0],t[0]),t[1]=Math.max(o[1],t[1]))}),this),t}},{key:"defaults",value:function(){return a.a.merge({},T(D(E.prototype),"defaults",this).call(this),{series:{data:"separate"}})}},{key:"emptySheetData",value:function(){return a.a.merge({},T(D(E.prototype),"emptySheetData",this).call(this),{categories:{padding:20},series:[{type:"bar-stacked"}],graphOptions:{bar:{showValues:!0}},axis:[{title:"",ticks:!0},{title:"",ticks:!0}],grid:{verticalZeroHighlight:!0,vertical:!0,horizontal:!1}})}},{key:"prepareSheetData",value:function(t,e){var n=t.categories.colors,i=a.a.get(t,"graphOptions.bar",{}).showValues;t.categories.data||(t.categories.data=[]);var r,o=e===this.sheetIndex;o&&(r=Object(v.createLegendData)(this));var c=t.categories.data.map((function(t,e){return{colors:n,data:[],categoryIdx:e,showValues:!0===i,type:"bar-stacked"}}));t.series.forEach((function(e,i){var l=a.a.get(e,"index",i);o&&!r({color:Object(y.getColor)(e.index,n),title:Object(y.replaceBlank)(e.title),groupId:l}).active||e.data.forEach((function(n,i){var r=t.categories.data[i];void 0!==r&&c[i].data.push({x:Object(y.replaceBlank)(n,null),y:i,xLabel:Object(y.replaceBlank)(e.rawData[i]),yLabel:Object(y.replaceBlank)(e.title),groupLabel:Object(y.replaceBlank)(r),seriesIdx:l,link:a.a.get(e,"links[".concat(i,"]"),null)})}))}));var l=c.length;return c.forEach((function(t){var e=t.data.length,n=0;0!==e&&(t.data.forEach((function(t){null===t.x&&n++})),n===e&&(t.data=[]))})),(c=c.filter((function(t){return t.data&&t.data.length>0}))).length!==l&&c.forEach((function(t,e){t.data.forEach((function(t){t.y=e}))})),Object(d.percentEnabled)(this.options)&&Object(d.adjustStackedGraphs)(c,"x"),c}}])&&S(e.prototype,n),i&&S(e,i),E}(u.default)},OlpK:function(t,e,n){"use strict";n.r(e),n.d(e,"BarStacked",(function(){return p}));var i=n("LvDl"),a=n.n(i),r=n("30U6"),o=n("ziQ1"),c=n("/TIM"),l=n("+3eq"),s=n("RTfP"),u=n("XKI8"),h=n("RYHP"),d=n("3y/1"),f=n("eXr4"),g=n("p8DI");function p(){var t,e,n,i,p=function(t){R.duration.x=z,0===z&&(R.duration.y=z,R.duration.text=z),t.each((function(){if(!T.length)return A.call("animationStart"),A.call("animationUpdateEnd"),A.call("animationEnd"),void A.call("animationTextEnd");var t=Object(c.select)(this),e=t.selectAll("path");e.transition().duration(0);var n=j(e);t.selectAll("text").remove(),w(n[0]),_=function(){m(t,n)},x(t,n)}))},x=function(t,e){var n=R.duration,i=0,a=t.selectAll("path").data(e),r=a.enter().insert("path","text"),o=0===a.size()&&a.size()<r.size();a.exit().remove(),a.style("fill",(function(t){return t.next.color})).style("stroke-width",0).style("opacity",null),o?(A.call("animationStart"),A.call("animationUpdateStart"),A.call("animationUpdateEnd"),r.call(E,(function(){a=a.merge(r),A.call("animationEnterEnd"),A.call("animationEnd"),b(a),L(a)}))):(A.call("animationStart"),A.call("animationUpdateStart"),a.transition().duration(n.x).attrTween("d",B((function(t){return{xPos:t.next.xPos,yPos:t.yPos,width:t.next.width,height:t.height}}))).transition().duration(n.y).on("start",(function(){i++})).attrTween("d",B((function(t){return t.next}))).on("end",(function(){if(0==--i){if(A.call("animationUpdateEnd"),0===r.size())return A.call("animationEnterStart"),A.call("animationEnterEnd"),A.call("animationEnd"),b(a),void L(a);r.call(E,(function(){A.call("animationEnterEnd"),A.call("animationEnd"),a=a.merge(r),b(a),L(a)}))}})))},m=function(t,e){var i=e.map((function(t){return n?n.format(t.next.xLabel):"".concat(t.next.xLabel)})),a=Object(d.getAllTextDimensions)(i,P),r=S.bandwidth(),o=I&&r>=a.height,c=[];o&&(c=y(e,a)),c.length&&o||A.call("animationTextEnd");var l=Object(f.createLabel)(t,c,P);Object(f.addOutline)(l,P,Y),l.transition().duration(R.duration.text).style("opacity",1).on("start",(function(){G++})).on("end",(function(){0==--G&&A.call("animationTextEnd")})),L(l),v(l)},y=function(t,e){var n=[];return t.forEach((function(t,i){var a=t.next;if(null!==a.y){var r,o={},c="start",l=e.collection[i].width+2,s=Math.abs(a.width);if(o.fillColor=P.color,o.textY=a.yPos+a.height/2+.25*e.collection[i].height,r=a.xPos,a.x>=0){if(!(s>l))return;r+=2}if(a.x<0){if(!(s>l))return;r-=2}o.textX=r,a.x<0&&(c="end"),o.x=a.x,o.textAnchor=c,o.inside=!0,o.text=a.xLabel,o.yLabel=a.yLabel,o.xLabel=a.xLabel,o.groupLabel=a.groupLabel,o.seriesIdx=a.seriesIdx,o.color=a.color,n.push(o)}})),n},b=function(e){i&&i.data().forEach((function(e){i.addListener({id:"".concat(t,"_").concat(e.groupId),dispatch:A})})),A.on("highlightStart.shape",(function(t,n,i){e.filter(O(t,n,i)).transition().duration(150).ease(l.easeLinear).style("opacity",.3)})),A.on("highlightEnd.shape",(function(t,n,i){e.filter(O(t,n,i)).transition().duration(150).ease(l.easeLinear).style("opacity",1)}))},v=function(t){A.on("highlightStart.text",(function(e,n,i){t.filter(O(e,n,i)).transition().duration(150).ease(l.easeLinear).style("opacity",.3)})),A.on("highlightEnd.text",(function(e,n,i){t.filter(O(e,n,i)).transition().duration(150).ease(l.easeLinear).style("opacity",1)}))},O=function(t){return function(e){return e.seriesIdx!==t}},j=function(t){var e=[0,0],n=S.bandwidth(),i=[],r=[];return T.forEach((function(t,i){var a=r[i]={},o=t.x,c=+(o>0),l=1===c?1:0;a.x0=e[c],e[c]+=o,a.x1=e[c],a.x=t.x,a.width=k(a.x1)-k(a.x0),a.xPos=k(a.x0)+l,a.xLabel=t.xLabel,a.y=t.y,a.height=n,a.yLabel=t.yLabel,a.yPos=S(t.y),a.groupLabel=t.groupLabel,a.link=t.link,a.seriesIdx=t.seriesIdx,a.color=Object(d.getColor)(t.seriesIdx,D)})),t.each((function(t){var e=a.a.merge({},t);i.push(e)})),0===i.length&&(i=r.map((function(t){var e=a.a.merge({},t);return e.width=0,e.xPos=k(0),e}))),Object(d.pairData)(i,r,(function(t){t.width=0})),i},w=function(t){var e,n,i,a={y:["yPos","height"]};if(t){var r=t.next;for(e in R.duration)a[e]&&(n=a[e].length,i=0,a[e].forEach(o),n===i&&(R.duration[e]=0))}function o(e){Math.abs(t[e]-r[e])<.2&&i++}},E=function(t,e){var n=0;t.style("fill",(function(t){return t.color})).style("stroke-width",0).attr("d",(function(t){return C(t.xPos,t.yPos,0,t.height,0)})),t.transition().duration(z).ease(l.easeElastic).delay((function(){return U+V.apply(this,arguments)})).on("start",(function(){0===n&&A.call("animationEnterStart"),n++})).attrTween("d",B((function(t){return t.next}))).on("end",(function(){0==--n&&e()}))},L=function(t){Object(g.addMouseEvents)(t,A,W,H,M),t.on("mousemove",(function(t,e){var n=Object(d.getMousePosition)(t),i=Object(d.getColor)(e.seriesIdx,D),a=H(e),r=M(e);W().setText(a).setValue(r).setPosition(n,i)}))},k=Object(o.scaleLinear)(),S=Object(o.scaleLinear)(),T=[],D=d.schemeCategory10,I=!0,P=Object(s.chartOptions)().style.graph.item.value,C=h.default.barToRight,B=Object(h.createTweenShape)(C,"y"),R={duration:{x:700,y:400,text:50}},G=0,V=0,z=700,A=Object(r.dispatch)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl"),H=function(t){return t.xLabel},M=function(t){return t.yLabel},_=function(){},U=0,W=u.getTooltip,Y=function(t){return n?n.format(t.text):t.text},Z={scaleX:function(t){return arguments.length?(k=t.copy(),p):k},scaleY:function(t){return arguments.length?(S=t.copy(),p):S},data:function(t){return arguments.length?(T=t,p):T},colors:function(t){return arguments.length?(D=t,p):D},groupId:function(t){return arguments.length?(e=t,p):e},chartId:function(e){return arguments.length?(t=e,p):t},showValues:function(t){return arguments.length?(I=!!t,p):I},textStyle:function(t){return arguments.length?(P=t,p):P},legend:function(t){return arguments.length?(i=t,p):i},tooltip:function(t){return arguments.length?(W=t,p):W},tooltipText:function(t){return arguments.length?(H=t,p):H},tooltipValue:function(t){return arguments.length?(M=t,p):M},transitionDelay:function(t){return arguments.length?(V=t,p):V},transitionDuration:function(t){return arguments.length?(z=t,p):z},transitionTiming:function(t){return arguments.length?(R=t,p):R},renderDelay:function(t){return arguments.length?(U=t,p):U},numberFormat:function(t){return arguments.length?(n=t,p):n},dispatch:function(){return A},renderText:function(){return _(),p}};return Object.assign(p,Z),p}}}]);