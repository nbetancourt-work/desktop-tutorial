(window.webpackJsonp=window.webpackJsonp||[]).push([["infogram-charts/charts-area_stepped~infogram-charts/charts-column_grouped~infogram-charts/charts-col~c425fd1b"],{K8BY:function(t,e,n){"use strict";n.r(e),n.d(e,"ColumnStacked",(function(){return N}));var a=n("LvDl"),r=n.n(a),i=n("vBe5"),o=n("ziQ1"),c=n("/TIM"),l=n("+3eq"),s=n("30U6"),u=n("5Hgy"),h=n("IdFA"),f=n("emqt"),d=n("ejCe"),g=n("VDPv"),p=n("v3rV"),y=n("x+1q"),m=n("BGfC"),b=n("M51E"),v=n("3y/1"),x=n("pzpO"),O=n("x5YE"),j=n("VLlq"),S=n("2YLo"),k=n("XKI8"),w=n("pYxU"),E=n("SGek"),L=n("eXr4"),C=n("Fi9g"),D=n("D3ez"),P=n("U2YI");function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function A(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z(t,e,n){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=H(t)););return t}(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function H(t){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return!e||"object"!==M(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,i=[],o=!0,c=!1;try{for(n=n.call(t);!(o=(a=n.next()).done)&&(i.push(a.value),!e||i.length!==e);o=!0);}catch(t){c=!0,r=t}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return i}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=H(t);if(e){var r=H(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return R(this,n)}}Object(D.putGraph)("column-stacked",P.ColumnStacked);var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(D,t);var e,n,a,u=W(D);function D(){return A(this,D),u.apply(this,arguments)}return e=D,a=[{key:"getClassName",value:function(){return"ColumnStacked"}}],(n=[{key:"render",value:function(){var t=this;this.detectDimensions();var e=this.options,n=this.root,a=new S.Renderer({instance:this}),s=this.getSheetData(),u=Object(y.default)(s),b=Object(f.percentEnabled)(e),E=this.runtime={width:e.width,height:e.height,components:{},layout:{},inanimate:Object(p.inanimated)(e),sheet:s,formatter:u,percent:b},L=this.prepareSheetData(s,this.sheetIndex);C&&C.chartType("column"),this.createTickIntervals(),Object(j.default)(this,{width:e.width}),Object(w.DownloadButton)(this,e.style.legend);var C=Object(O.legendHelper)({instance:this});if(!this.sheetsNotFound(L)&&!this.failSafeByHeight(40)){var D=E.margin=E.layout.margin={top:0,right:0,bottom:0,left:0},P=E.layout.marginTitle={left:0,right:0,top:0,bottom:0},T=E.layout.marginAxis={left:0,right:0},A=E.limits={maxCategoryWidth:0,maxCategoryHeight:6},I=E.bottomLabelPadding={top:6,right:2,bottom:0,left:2},B=this.createAnimationCounter(3),z=U(s.axis,2),H=z[0],R=z[1];E.xAxisOptions=H,E.yAxisOptions=R;var G=e.style.axis,M=G.x,W=G.y,N=e.style.grid,_=r.a.get(H,"title"),Y=E.categoryData=this.getCategoryData(L),V=E.yDomain="absolute"!==e.series.data||Object(O.legendFiltered)(this)?this.getDomain(L):this.getSheetsSeriesDomain(),F=Object(x.limit)(R,V),q=V[0]<0,Z=E.yScale=Object(o.scaleLinear)().domain(V).clamp(F);E.categoryLayout=s.categories.layout;var X=E.spacing={maxBeforeXAxisTick:50,beforeCategoryBorder:q?I.top:0,beforeBottomCategories:5},J=E.components.yAxisLeftText=Object(g.default)().scale(Z).orient("left").style(W.tick);this.titleLayout(["x","y"]);var K=Object(v.getTextDimensions)([Object(v.firstNonEmpty)(Y)],M.tick);D.right+=Math.ceil(.5*K.height);var Q=E.width-D.left-P.left-D.right-P.right,$={width:0,height:0};if(R.ticks){var tt=d.ScaleHelper.ticks(Z,this.runtime.yTickInterval);if(b){var et=Object(f.percentFormat)(u.axis.y);tt.forEach((function(t,e){tt[e]=et(t)})),$=Object(v.getTextDimensions)(tt,W.tick)}else $=this.yTicksMetrics(tt);T.left=$.width,D.top=$.height}var nt=E.height-D.top-P.top-D.bottom-P.bottom;_&&(A.maxCategoryHeight+=I.bottom),A.maxCategoryHeight+=Math.floor(.27*nt),E.graphWidth=Q-T.left-T.right;var at=Object(i.range)(0,Y.length),rt=E.xScale=this.createHorizontalScale(at,[0,E.graphWidth],this.featuresColumnWidth(s));E.xScaleResize=this.createHorizontalScaleResize(),A.maxCategoryWidth=rt.rangeBand()+rt.padding()-I.left-I.right,E.igcLeftOffset=D.left+P.left+T.left,this.featuresCurtainAnimation()&&(E.igcLeftOffset=Math.floor(E.igcLeftOffset)),1===at.length&&(A.maxCategoryWidth=E.graphWidth-I.left-I.right);var it=this.createCategoryLabels();A.maxCategoryHeight=it.height+I.top+I.bottom,H.ticks||(A.maxCategoryHeight=1);var ot=E.graphHeight=nt-A.maxCategoryHeight-X.beforeCategoryBorder,ct=Object(d.Bottom)().style(M.tick).data(H.ticks?it.renderData:[]).textAlign(it.renderData.textAlign).bounds({height:A.maxCategoryHeight,y:nt-A.maxCategoryHeight+X.beforeBottomCategories});Z.rangeRound([ot,0]);var lt=E.components.yGridLines=Object(m.GridLines)().scale(Z).orient(m.GridLines.ORIENTS.horizontal).tickSize(-Q).highlightZero(s.grid.horizontalZeroHighlight).style(N).offset({left:-T.left}),st=Object(m.GridLines)().scale(rt).orient(m.GridLines.ORIENTS.vertical).tickSize(ot).highlightZero(s.grid.verticalZeroHighlight).style(N);s.grid.vertical||st.tickValues([]),J.textOffset(-($.height-$.baseLineOffset)).offset({left:-T.left}),this.yTicksSetup(),this.gridSetupHorizontal();var ut=0;R.ticks&&(ut=J.getBorderingTick()-$.height)>0&&(ut=0),E.layout.firstTickOffset=ut;var ht=D.top+P.top;this.titleComponents(["x","y"]);var ft=E.components,dt=ft.bottomTitle,gt=ft.leftTitle;dt.dispatch().on("animationEnd",B);var pt={igc:{x:E.igcLeftOffset,y:ht}};E.inanimate&&Object(p.removeAnimation)([gt,dt,st,lt,J,ct]),this.containerSetup();var yt=n.select(".igc"),mt=l[e.animation.ease],bt=e.animation.duration;n.attr("width",E.width).attr("height",E.height),a.add((function(){n.transition().ease(mt).duration(bt).on("start",(function(){t.events.call("startAnimation")})).on("end",(function(){B()})),yt.attr("transform","translate(".concat(pt.igc.x,", ").concat(pt.igc.y,")"))})),a.addGrid(J,"igc-y-axis-text"),a.addGrid(lt,"igc-ygrid"),a.addGrid(st,"igc-xgrid"),a.addGrid(ct,"igc-x-axis-text"),a.addGraph([{graphs:L,x:rt,y:Z,textStyle:e.style.graph.item.value,legend:C,transitionDuration:bt,tooltip:Object(k.createStyledTooltip)(this),animationEnd:B}]),this.featuresCurtainAnimation()&&a.add((function(){var e=n.select("defs"),a={x:-E.igcLeftOffset,y:-ht,width:E.width,height:E.height,clipPathId:"igc-cp-curtain-".concat(t.chartId)};yt.selectAll(".igc-graph").attr("clip-path","url(".concat(Object(v.absoluteUrl)(a.clipPathId),")")),Object(h.createRectClipPath)(e,a);var r=e.select("#".concat(a.clipPathId)).selectAll("path");r.attr("transform","translate(-".concat(E.width+E.igcLeftOffset,", 0)")).transition().on("end",(function(){r.attr("transform",null)})).duration(E.inanimate?0:500).ease(l.easeLinear).attr("transform","translate(0, 0)")})),"AreaStepped"!==this.getClassName()&&s.grid.horizontal&&H.ticks?a.addGrid((function(t){t.each((function(){var t=Object(c.select)(this).selectAll(".igc-x-axis-border-line").data([0]),e=bt;0===t.size()&&(e=0),(t=t.merge(t.enter().append("rect"))).attr("class","igc-x-axis-border-line").transition().ease(mt).duration(e).attr("x",-T.left).attr("y",ot+X.beforeCategoryBorder).attr("width",E.graphWidth+T.left).attr("height",2).styles({fill:N.color,stroke:"none","stroke-width":0})}))}),"igc-x-axis-border"):a.add((function(){n.select(".igc .igc-grid .igc-x-axis-border").remove()})),a.addTitle(gt,"igc-title-left"),a.addTitle(dt,"igc-title-bottom"),a.start()}}},{key:"graphInstanceSetup",value:function(t,e,n,a){var r=a.graphs.length,i=this.chartId,o=this.runtime,c=o.formatter,u=o.percent,h=o.sheet,d=a.transitionDuration,g=a.legend,y=a.tooltip,m=e.colors,b="AreaStepped"===this.getClassName()?.7:null,v=this.graphData({data:e.data,colors:m,groupOffset:0,groupCount:1}),x=Object(s.dispatch)("highlightStart","highlightEnd","animationStart","animationUpdateStart","animationEnterStart","animationEnd","animationUpdateEnd","animationEnterEnd","animationTextEnd","openUrl");g&&g.data().forEach((function(t){g.addListener({id:"".concat(i,"_").concat(t.groupId),dispatch:x})}));var O=Object(C.createListenToLegend)({easing:l.easeLinear,ns:"shape",opacity:b,dispatch:x}),j=function(t){return"".concat(t.xLabel,": ").concat(c.tooltip.y.format(t.yLabel))},S=function(t){return t.groupLabel};u&&(j=function(t){return t.xLabel},S=Object(f.tooltipPercentValue)({sheet:h,formatter:c,props:["groupLabel","yLabel","y"]}));var k=Object(L.createAddMouseEvents)({dispatch:x,legend:g,opacity:b,tooltip:y,chartId:i,tooltipText:j,tooltipValue:S,colors:m}),w=Object(p.removeDelay)(this,(function(){return n/r*(d-200)}));t.scaleY(a.y).data(v).listenToLegend(O).addMouseEvents(k).dispatch(x).transitionDelay(w).transitionDuration(d)}},{key:"getDomain",value:function(t){var e=[Object(i.min)(t,(function(t){var e=Object(i.sum)(t.data,(function(t){return t.y<0?t.y:0}));return E.math.preciseNumber(e)})),Object(i.max)(t,(function(t){var e=Object(i.sum)(t.data,(function(t){return t.y>0?t.y:0}));return E.math.preciseNumber(e)}))];return Object(x.ensureZeroEqual)(e),Object(x.ensureZero)(e),Object(o.scaleLinear)().domain(e).nice(10).domain()}},{key:"getSheetsSeriesDomain",value:function(){var t,e=this;return this.options.sheets.forEach((function(n,a){var i=r.a.merge({},e.emptySheetData(),n),o=e.prepareSheetData(i,a),c=e.getDomain(o);0===a?t=c.slice(0):(t[0]=Math.min(c[0],t[0]),t[1]=Math.max(c[1],t[1]))})),t}},{key:"emptySheetData",value:function(){return r.a.merge({},z(H(D.prototype),"emptySheetData",this).call(this),{series:[{type:"column-stacked"}]})}},{key:"prepareSheetData",value:function(t,e){var n=t.categories.colors,a=r.a.get(t,"graphOptions.column",{}).showValues;t.categories.data||(t.categories.data=[]);var i,o=e===this.sheetIndex;o&&(i=Object(O.createLegendData)(this));var c=t.categories.data.map((function(t,e){return{colors:n,data:[],categoryIdx:e,showValues:!0===a,type:"column-stacked"}}));t.series.forEach((function(e,a){var l=r.a.get(e,"index",a);o&&!i({color:Object(v.getColor)(l,n),title:Object(v.replaceBlank)(e.title),groupId:l}).active||e.data.forEach((function(n,a){var i=t.categories.data[a];void 0!==i&&c[a].data.push({x:a,y:Object(v.replaceBlank)(n,null),xLabel:Object(v.replaceBlank)(e.title),yLabel:Object(v.replaceBlank)(e.rawData[a]),groupLabel:Object(v.replaceBlank)(i),seriesIdx:l,link:r.a.get(e,"links[".concat(a,"]"),null)})}))}));var l=c.length;return c.forEach((function(t){0!==t.data.length&&(t.data.some((function(t){return null!==t.y}))||(t.data=[]))})),(c=c.filter((function(t){return t.data&&t.data.length>0}))).length!==l&&c.forEach((function(t,e){t.data.forEach((function(t){t.x=e}))})),this.runtime.percent&&Object(f.adjustStackedGraphs)(c,"y"),c}},{key:"createHorizontalScaleResize",value:function(){var t=this.featuresColumnWidth(this.runtime.sheet);return t?function(e,n){e.rangeBandsFixed(n,t)}:function(t,e){t.rangeBandsPct(e)}}},{key:"createHorizontalScale",value:function(t,e,n){var a=Object(b.Ordinal)().domain(t).rangeBandsPct(e);return n&&(a=Object(b.Ordinal)().domain(t).rangeBandsFixed(e,n)),a}},{key:"featuresColumnWidth",value:function(t){return t.categories.categoryWidth?Number(t.categories.categoryWidth):null}},{key:"featuresCurtainAnimation",value:function(){return"AreaStepped"===this.getClassName()}},{key:"graphData",value:function(t){var e=this.runtime;return function(t){var e=t.data,n=t.xScale,a=t.yScale,r=t.colors,o=t.groupOffset,c=t.groupCount,l=[0,0],s=n.bandwidth(),u=[];if(e.forEach((function(t,e){var i=u[e]={},o=t.y,c=+(o>0),h=0===c?1:0;i.y0=l[c],l[c]+=o,i.y1=l[c],i.x=t.x,i.width=s,i.xPos=n(t.x),i.xLabel=t.xLabel,i.y=t.y,i.height=a(i.y1)-a(i.y0),i.yPos=a(i.y0)+h,i.yLabel=t.yLabel,i.groupLabel=t.groupLabel,i.link=t.link,i.seriesIdx=t.seriesIdx,i.color=t.color||Object(v.getColor)(t.seriesIdx,r),i.group=t.group,i.stackIndex=t.stackIndex,i.categoryLabel=t.categoryLabel})),c>1){var h=Object(b.Ordinal)().domain(Object(i.range)(0,c));u.forEach((function(t){var e=t.xPos;h.rangeBandsPct([e,e+s]),t.xPos=h(o+t.group),t.width=h.bandwidth()}))}return u}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),a.forEach((function(e){B(t,e,n[e])}))}return t}({xScale:e.xScale,yScale:e.yScale},t))}}])&&I(e.prototype,n),a&&I(e,a),D}(u.default)},U2YI:function(t,e,n){"use strict";n.r(e),n.d(e,"ColumnStacked",(function(){return u}));var a=n("LvDl"),r=n.n(a),i=n("ziQ1"),o=n("/TIM"),c=n("+3eq"),l=n("3y/1"),s=n("RYHP");function u(){var t,e,n,a=function(e){b.duration.y=x,0===x&&(b.duration.x=x,S=0),e.each((function(){if(!m.length)return t.call("animationStart"),t.call("animationUpdateStart"),t.call("animationUpdateEnd"),t.call("animationEnterStart"),t.call("animationEnterEnd"),void t.call("animationEnd");var e=Object(o.select)(this),n=e.selectAll("path");n.transition().duration(0);var a=h(n),r=a[0];f(r),u(e,a)}))},u=function(a,r){var i=a.selectAll("path").data(r),o=i.enter().insert("path","text"),c=0===i.size()&&i.size()<o.size(),l=b.duration,s=0;i.exit().remove(),i.style("fill",(function(t){return t.next.color})).style("stroke-width",0).style("opacity",j),c?(i=i.merge(o),t.call("animationStart"),t.call("animationUpdateStart"),t.call("animationUpdateEnd"),o.call(d,(function(){e(i),n(i),t.call("animationEnterEnd"),t.call("animationEnd")}))):(t.call("animationStart"),t.call("animationUpdateStart"),i.transition().duration(l.y).attrTween("d",p((function(t){return{yPos:t.next.yPos,xPos:t.xPos,height:t.next.height,width:t.width}}))).transition().duration(l.x).on("start",(function(){s++})).attrTween("d",p((function(t){return t.next}))).on("end",(function(){if(0==--s){if(t.call("animationUpdateEnd"),0===o.size())return t.call("animationEnterStart"),t.call("animationEnterEnd"),t.call("animationEnd"),e(i),void n(a.selectAll("path"));o.call(d,(function(){t.call("animationEnterEnd"),t.call("animationEnd"),e(i.merge(o)),n(a.selectAll("path"))}))}})))},h=function(t){var e=[];return t.each((function(t){var n=r.a.merge({},t);e.push(n)})),0===e.length&&(e=m.map((function(t){var e=r.a.merge({},t);return e.height=0,e.yPos=y(0),e}))),Object(l.pairData)(e,m,(function(t){t.height=0})),e},f=function(t){var e,n,a,r={x:["xPos","width"]};if(t){var i=t.next;for(e in b.duration)r[e]&&(n=r[e].length,a=0,r[e].forEach(o),n===a&&(b.duration[e]=0))}function o(e){Math.abs(t[e]-i[e])<.2&&a++}},d=function(e,n){var a=0;e.style("fill",(function(t){return t.color})).style("stroke-width",0).attr("d",(function(t){return g(t.xPos,t.yPos,t.width,0,0)})).style("opacity",j),e.transition().duration(x+S).ease(c.easeElastic).delay((function(){return O+v.apply(this,arguments)})).attrTween("d",p((function(t){return t.next}))).on("start",(function(){0===a&&t.call("animationEnterStart"),a++})).on("end",(function(){0==--a&&n()}))},g=s.default.barToRight,p=Object(s.createTweenShape)(g,"y"),y=Object(i.scaleLinear)(),m=[],b={duration:{x:400,y:700}},v=function(){return 0},x=700,O=0,j=null,S=250,k={scaleY:function(t){return arguments.length?(y=t.copy(),a):y},data:function(t){return arguments.length?(m=t,a):m},transitionDelay:function(t){return arguments.length?(v=t,a):v},transitionDuration:function(t){return arguments.length?(x=t,a):x},transitionTiming:function(t){return arguments.length?(b=t,a):b},renderDelay:function(t){return arguments.length?(O=t,a):O},dispatch:function(e){return arguments.length?(t=e,a):t},opacity:function(t){return arguments.length?(j=t,a):j},listenToLegend:function(t){return arguments.length?(e=t,a):e},addMouseEvents:function(t){return arguments.length?(n=t,a):n}};return Object.assign(a,k),a}}}]);