(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/ITp":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r=n("17x9"),o=n.n(r),a=n("q1tI"),u=n.n(a),i=n("vOnD"),c=n("/MKj"),l=n("46Ur"),f=n("bSnT"),s=n("w6T9"),d=n("bZl7"),p=n("0GyG"),b=(n("NDI/"),n("nddH")),y=(n("VYD4"),n("rQKZ")),h=n("amct"),g=n("rzX7");function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?v(e):t}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}var k,_=function(e,t,n,r){var o,a=arguments.length,u=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(u=(a<3?o(u):a>3?o(t,n,u):o(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u};function S(){var e,t,n=(e=["\n    position: absolute;\n    z-index: 2;\n    pointer-events: auto;\n    font-size: 11px;\n    right: 0;\n    /* Aligned with page number on content block */\n    line-height: 16px;\n    padding: 2px 0;\n\n    &:hover {\n        text-decoration: underline;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return S=function(){return n},n}var I=Object(i.default)(s.default)(S()),R=(k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,o=E(a);function a(){var e;return m(this,a),w(v(e=o.apply(this,arguments)),"_handleDownload",(function(){if(!d.default.getCurrentProfile().pro)return Object(b.default)();if([f.default.TYPE_VIDEO,f.default.TYPE_GIF].includes(e.state.activeTab))return e.props.onDownloadVideo(e.props.blockKey,e.state.activeTab);var t={pageIndex:e.props.pageIndex};switch(e.state.activeTab){case f.default.TYPE_PRINT:t.format="pdf";break;case f.default.TYPE_HTML:t.format="html";break;case f.default.TYPE_IMAGE_JPG:t.format="raster",t.imageFormat="jpg";break;case f.default.TYPE_IMAGE_PNG:default:t.format="raster",t.imageFormat="png"}Object(p.downloadSinglePage)(t)})),e}return t=a,r=[{key:"getStores",value:function(){return[l.default]}},{key:"calculateState",value:function(){return{activeTab:l.default.activeTab}}}],(n=[{key:"render",value:function(){return u.a.createElement(I,{onClick:this._handleDownload},this.props.children)}}])&&O(t.prototype,n),r&&O(t,r),a}(a.Component),w(k,"propTypes",{blockKey:o.a.string.isRequired,pageIndex:o.a.number.isRequired,openDialog:o.a.func,children:o.a.string,onDownloadVideo:o.a.func.isRequired}),k);R=_([Object(c.connect)(null,(function(e){return{onDownloadVideo:function(t,n){e({type:g.VIDEO_DOWNLOAD,payload:{blockKey:t,format:n}})}}})),Object(h.withDialogs)(),Object(y.default)({withProps:!0})],R)},"9YSO":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("Zcty"),o=n("sCQ0");function a(e){r.default.dispatch({type:o.default.TOGGLE_PAGE_SELECTION,pageId:e})}},CqNa:function(e,t,n){"use strict";n.r(t);var r=n("XzT5"),o=n("q1tI"),a=n.n(o),u=n("Jgc/"),i=n("vOnD"),c=n("Pp7T"),l=n.n(c),f=n("S6dH"),s=n("46Ur"),d=n("bSnT"),p=n("cx5U"),b=n("9YSO"),y=n("LPyX"),h=n("I9Rq"),g=n("OCsq"),v=n("OYFn"),m=n("FjIY"),O=n("TJ0u"),w=n("xZ3h"),j=n("ZSmr"),x=n("USB3");function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?P(e):t}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function C(){var e=S(["\n    text-align: center;\n\n    ","\n"]);return C=function(){return e},e}function D(){var e=S(["\n    height: 112px;\n    position: relative;\n    padding: 9px 10px 9px 14px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    box-sizing: content-box;\n    border-bottom: 1px solid #4b4a4a;\n\n    ","\n\n    ","\n"]);return D=function(){return e},e}function A(){var e=S(["\n    position: absolute;\n    display: block;\n    text-align: center;\n    width: 40px;\n    left: 0px;\n    margin-top: 5px;\n    font-size: 13px;\n    font-weight: 500;\n    color: #fff;\n    pointer-events: none;\n\n    ","\n"]);return A=function(){return e},e}function z(){var e=S(["\n    border-radius: 6px;\n    border: 2px solid transparent;\n    overflow: hidden;\n    pointer-events: none;\n    transform: translate3d(0, 0, 0); /* for border-radius to work on other '3d' elements */\n\n    ",":hover & {\n        border: 2px solid #3195cb;\n\n        ","\n    }\n\n    ","\n\n    ","\n\n    ","\n"]);return z=function(){return e},e}var B=i.default.ul(C(),(function(e){return e.theme.id===x.default.id&&"\n        /* TODO check with dragon.css maybe reset */\n        padding-inline-start: 0;\n        font-family: Raleway Prezi, Roboto, Arial;\n        font-size: 11px;\n        line-height: 1.5;\n        color: ".concat(x.default.neutral600,";\n    ")})),q=i.default.li(D(),(function(e){var t=e.active,n=e.theme;return t&&"\n        background-color: #4b4a4a;\n\n        ".concat(n.id===x.default.id&&"\n            background-color: ".concat(x.default.neutral60,";\n        "),"\n    ")}),(function(e){return e.theme.id===x.default.id&&"\n        border-bottom: none;\n    "})),N=i.default.p(A(),(function(e){return e.theme.id===x.default.id&&"\n        color: ".concat(x.default.neutral700,";\n    ")})),G=i.default.div(z(),q,(function(e){return e.theme.id===x.default.id&&"\n            border: 2px solid ".concat(x.default.blue500,";\n        ")}),(function(e){return e.active&&"\n        border: 2px solid #3195cb;\n    "}),(function(e){return e.disabled&&"\n        opacity: .2;\n    "}),(function(e){return e.theme.id===x.default.id&&"\n        border: none;\n        box-shadow: 0px 5px 20px rgba(0, 0, 0, 0.1);\n    "})),L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(i,e);var t,n,o,u=R(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=u.call(this,e))._handlePageCheckboxChange=t._handlePageCheckboxChange.bind(P(t)),t._pageThumbnailClicked=t._pageThumbnailClicked.bind(P(t)),t.observer=new j.default({tail:1/0}),t}return t=i,o=[{key:"getStores",value:function(){return[f.default,O.default,s.default]}},{key:"calculateState",value:function(){return{allSelected:f.default.allSelected,selectAllType:f.default.selectAllType,pages:f.default.pages,activePageIndex:O.default.activePageIndex,activeTab:s.default.activeTab}}}],(n=[{key:"componentDidMount",value:function(){Object(p.default)()}},{key:"render",value:function(){var e=this,t=this.state,n=t.pages,o=t.allSelected,u=t.selectAllType,i=t.activePageIndex,c=t.activeTab;return a.a.createElement(g.default,{title:r.default.t("app.download.page_list_title"),selectAllChecked:o,selectAllType:u,onSelectAllChange:y.default},a.a.createElement("div",null,a.a.createElement(B,null,n.map((function(t,n){var r=t.get("id"),o=t.get("checked"),u=t.get("isLowResolution"),l=n===i,f=c===d.default.TYPE_PRINT&&u&&a.a.createElement(v.default,null);return a.a.createElement(q,{key:r,active:l,onClick:e._pageThumbnailClicked,"data-page-index":n},a.a.createElement(N,null,n+1),a.a.createElement(G,{active:l,disabled:!o},a.a.createElement(h.default,{pageId:r,maxHeight:108,maxWidth:134,observer:e.observer})),a.a.createElement(m.default,{checked:o,customCss:"position: absolute; left: 10px; top: 12px;",type:"check",onChange:e._handlePageCheckboxChange,"data-page-id":r}),f)})))))}},{key:"_handlePageCheckboxChange",value:function(e){var t=e.target.dataset.pageId;l()(!!t,"page-id data attribute must be present"),Object(b.default)(t)}},{key:"_pageThumbnailClicked",value:function(e){if("INPUT"!==e.target.tagName){var t=e.currentTarget.dataset.pageIndex;l()(!!t,"page-index data attribute must be present"),Object(w.scrollToPage)(t)}}}])&&T(t.prototype,n),o&&T(t,o),i}(o.Component);t.default=u.Container.create(L)},Djcz:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("/MKj"),u=n("vOnD"),i=n("XzT5"),c=n("rzX7"),l=n("8N+k"),f=n("USB3");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function m(){var e=h(["\n    box-sizing: content-box;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 5px 5px 5px 10px;\n    width: 135px;\n    height: 21px;\n    background: #272727;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n    border-radius: 4px;\n    font-weight: 500;\n    font-size: 11px;\n    color: white;\n\n    ","\n"]);return m=function(){return e},e}function O(){var e=h(["\n    font-size: 11px;\n    margin: 0 10px 0 0;\n"]);return O=function(){return e},e}var w=u.default.div(m(),(function(e){return e.theme.id===f.default.id&&"\n        background: ".concat(f.default.neutral50,";\n        color: ").concat(f.default.neutral600,";\n    ")})),j=u.default.label(O()),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,e);var t=v(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).onChange=function(t){e.props.onChange(e.props.pageId,t)},e}return n.prototype.render=function(){var e=this.props,t=e.duration;return e.loading?null:o.a.createElement(w,null,o.a.createElement(j,null,i.default.t("app.download.duration_in_seconds")),o.a.createElement(l.default,{value:t,onChange:this.onChange}))},n}(r.Component);t.default=Object(a.connect)((function(e,t){var n=e.get("videoDownload"),r=n.durations,o=n.loading;return{duration:r.get(t.pageId),loading:o}}),(function(e){return{onChange:function(t,n){e({type:c.VIDEO_DOWNLOAD_SET_PAGE_DURATION,payload:{durations:d({},t,n)}})}}}),null,{areStatesEqual:function(e,t){return e.get("videoDownload")===t.get("videoDownload")},areStatePropsEqual:function(e,t){return e.duration===t.duration&&e.loading===t.loading}})(x)},LPyX:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("Zcty"),o=n("sCQ0");function a(){r.default.dispatch({type:o.default.TOGGLE_ALL_PAGE_SELECTION})}},NTGk:function(e,t,n){e.exports=n.p+"fc5dce66e80cd6a1e34ea10ae2556c68.jpg"},OYFn:function(e,t,n){"use strict";n.r(t);var r=n("XzT5"),o=n("q1tI"),a=n.n(o),u=n("e0kE"),i=n.n(u);t.default=function(){return a.a.createElement("div",{className:i.a.container},a.a.createElement("span",{className:i.a.icon,"data-tooltip":r.default.t("app.download.low_resolution"),"data-tooltip-position":"right"}))}},PGgO:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("XzT5"),u=n("/MKj"),i=n("vOnD"),c=n("USB3"),l=n("n+GB"),f=n("rzX7");function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function d(){var e=s(["\n            background-color: ",";\n        "]);return d=function(){return e},e}function p(){var e=s(["\n    position: relative;\n    display: flex;\n    align-items: center;\n    padding: 3px 5px;\n    border-radius: 4px;\n    background-color: #2d2d2d;\n\n    ","\n"]);return p=function(){return e},e}function b(){var e=s(["\n    display: inline-block;\n    margin: 0 2px 0 7px;\n"]);return b=function(){return e},e}function y(){var e=s(["\n            background-color: ",";\n        "]);return y=function(){return e},e}function h(){var e=s(["\n    position: absolute;\n    left: calc(50% - 1px);\n    top: -14px;\n    width: 2px;\n    height: 10px;\n    background-color: #656565;\n\n    ","\n"]);return h=function(){return e},e}function g(){var e=s(["\n            background-color: ",";\n        "]);return g=function(){return e},e}function v(){var e=s(["\n    position: absolute;\n    left: calc(50% - 1px);\n    bottom: -14px;\n    width: 2px;\n    height: 10px;\n    background-color: #656565;\n\n    ","\n"]);return v=function(){return e},e}var m=i.default.div(p(),(function(e){return e.theme.id===c.default.id&&Object(i.css)(d(),c.default.neutral50)})),O=i.default.img.attrs((function(e){return{src:e.theme.id===c.default.id?n("uWkB"):n("tfAq")}}))(b()),w=i.default.div(h(),(function(e){return e.theme.id===c.default.id&&Object(i.css)(y(),c.default.neutral200)})),j=i.default.div(v(),(function(e){return e.theme.id===c.default.id&&Object(i.css)(g(),c.default.neutral200)}));t.default=function(e){var t=Object(u.useSelector)((function(e){return e.get("videoDownload")})),n=t.transition,r=t.pageTransitions.get(e.pageId,!1),i=Object(u.useDispatch)();return n&&"none"!==n&&"no-animation"!==n?o.a.createElement(m,null,o.a.createElement(w,null),o.a.createElement(l.default,{noWrap:!0,checked:r,onChange:function(){i({type:f.VIDEO_DOWNLOAD_SET_PAGE_TRANSITION,payload:{pageId:e.pageId,enabled:!r}})},type:"check",caption:a.default.t("app.download.show_page_transition")}),o.a.createElement(O,null),o.a.createElement(j,null)):null}},SJUs:function(e,t,n){"use strict";n.r(t);var r=n("Jgc/"),o=n("JPcv"),a=n("Zcty"),u=n("sCQ0"),i=n("EKef"),c=n("wnN6");function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,a=y(s);function s(){return l(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"getInitialState",value:function(){return Object(o.Map)({zoom:null,viewportWidth:null})}},{key:"reduce",value:function(e,t){switch(t.type){case u.default.SET_VIEWPORT_SIZE:case u.default.DOWNLOAD_VIEW_LOADED:var n=t.width||e.get("viewportWidth"),r=i.default.editorState,o={viewportWidth:n,zoom:null};if(r&&null!==n){var a=r.getPageSize().width;o.zoom=Object(c.calculateZoom)(a,n)}return e.merge(o)}return e}},{key:"zoom",get:function(){return this.getState().get("zoom")}},{key:"viewportWidth",get:function(){return this.getState().get("viewportWidth")}}])&&f(t.prototype,n),r&&f(t,r),s}(r.ReduceStore);t.default=new h(a.default)},V1e0:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n("XzT5"),o=n("17x9"),a=n.n(o),u=n("q1tI"),i=n.n(u),c=n("yb06"),l=n.n(c),f=n("vOnD"),s=n("rQKZ"),d=n("KZTM"),p=n("/ITp"),b=n("S6dH"),y=n("sMVN"),h=n("46Ur"),g=n("ySsV"),v=n("bSnT"),m=n("Djcz"),O=n("PGgO"),w=n("USB3");function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}var I,R=function(e,t,n,r){var o,a=arguments.length,u=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(u=(a<3?o(u):a>3?o(t,n,u):o(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u};function C(){var e=k(["\n            top: -25px;\n        "]);return C=function(){return e},e}function D(){var e=k(["\n    position: absolute;\n    top: -22px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    z-index: 2;\n    pointer-events: auto;\n\n    ","\n"]);return D=function(){return e},e}function A(){var e=k(["\n    position: absolute;\n    top: 35px;\n    right: 10px;\n    z-index: 2;\n    pointer-events: auto;\n"]);return A=function(){return e},e}function z(){var e=k(["\n            display: none;\n        "]);return z=function(){return e},e}function B(){var e=k(["\n            ::before {\n                position: absolute;\n                content: '';\n                top: 25px;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background: transparent url(",") repeat;\n            }\n        "]);return B=function(){return e},e}function q(){var e=k(["\n    margin-top: 40px;\n    position: relative;\n\n    ","\n\n    ","\n"]);return q=function(){return e},e}var N,G,L,W=[v.default.TYPE_VIDEO,v.default.TYPE_GIF],Z=[v.default.TYPE_VIDEO,v.default.TYPE_GIF],U=n("NTGk"),V=f.default.div(D(),(function(e){return e.theme.id===w.default.id&&Object(f.css)(C())})),K=f.default.div(A()),Y=f.default.div(q(),(function(e){return!e.visible&&Object(f.css)(z())}),(function(e){return e.transparentBackground&&Object(f.css)(B(),U)})),M=(I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(u,e);var t,n,o,a=S(u);function u(){return j(this,u),a.apply(this,arguments)}return t=u,o=[{key:"getStores",value:function(){return[b.default,y.default,h.default,g.default]}},{key:"calculateState",value:function(e,t){var n=t.block.getKey(),r=b.default.pageIsVisible(n),o=r&&b.default.firstVisiblePageId===n;return{isZoomLayout:g.default.isZoomLayout,visible:r,transparentBackground:y.default.get("transparentBackground")&&v.TYPES_WITH_TRANSPARENCY.includes(h.default.activeTab),withDurationInput:W.includes(h.default.activeTab),withTransitionToggle:Z.includes(h.default.activeTab)&&!o&&r}}}],(n=[{key:"render",value:function(){return i.a.createElement(Y,{visible:this.state.visible,transparentBackground:this.state.transparentBackground},this.state.withTransitionToggle&&i.a.createElement(V,null,i.a.createElement(O.default,{pageId:this.props.block.getKey()})),!this.state.isZoomLayout&&i.a.createElement(p.default,{blockKey:this.props.block.getKey(),pageIndex:this.props.index},r.default.t("download")),this.state.withDurationInput&&i.a.createElement(K,null,i.a.createElement(m.default,{pageId:this.props.block.getKey()})),i.a.createElement(d.default,{selected:!1,block:this.props.block,width:this.props.width,height:this.props.height,interactive:!1,observer:this.props.observer,assets:this.props.assets},this.props.children))}}])&&x(t.prototype,n),o&&x(t,o),u}(u.Component),N=I,G="propTypes",L={selected:a.a.bool.isRequired,children:a.a.node.isRequired,block:l.a.record.isRequired,index:a.a.number.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,observer:a.a.shape({observe:a.a.func.isRequired,unobserve:a.a.func.isRequired}).isRequired,assets:a.a.shape({getURL:a.a.func.isRequired})},G in N?Object.defineProperty(N,G,{value:L,enumerable:!0,configurable:!0,writable:!0}):N[G]=L,I);M=R([Object(s.default)({withProps:!0})],M)},ZMgJ:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),a=n("/MKj"),u=n("vOnD"),i=n("17x9"),c=n.n(i),l=n("ySsV"),f=n("EKef"),s=n("SJUs"),d=n("sMVN"),p=n("46Ur"),b=n("Zdat"),y=n("CqNa"),h=n("34VB"),g=n("4aXp"),v=n("xZ3h"),m=n("TmRn"),O=(n("JlNS"),n("Zcty")),w=n("sCQ0"),j=n("bSnT"),x=n("aXXi"),P=n("V1e0"),T=n("Km1o"),E=n("rQKZ"),k=n("wnN6"),_=n("JXSR"),S=n("tYxN");function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function z(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z(this,n)}}var G,L=function(e,t,n,r){var o,a=arguments.length,u=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(u=(a<3?o(u):a>3?o(t,n,u):o(t,n))||u);return a>3&&u&&Object.defineProperty(t,n,u),u};function W(){var e,t,n=(e=["\n    padding-bottom: 50px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return W=function(){return n},n}function Z(){}var U=function(e,t,n,r){return n.renderItemContentsFn||(n.renderItemContentsFn=U),n.readOnly=!0,n.design=t,n.renderThumbnail=Object(S.mediaTypeHasThumbnail)(e.getProperty("mediaType")),"CHART"===e.getType()?Object(g.default)(e,t,A(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}({},n),{viewMode:"download",onSheetClick:function(e,t){var n=e.sheetIndex;O.default.dispatch({type:w.default.CHANGE_CHART_TAB,entityKey:t,sheetIndex:n})},captureSheetIndex:T.default.all.get(e.getKey())}),r):Object(g.default)(e,t,n,r)},V=u.default.div(W()),K=(C(G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(u,e);var t,n,r,a=N(u);function u(){return I(this,u),a.apply(this,arguments)}return t=u,r=[{key:"getStores",value:function(){return[l.default,f.default,s.default,p.default,d.default]}},{key:"calculateState",value:function(){var e=l.default.model,t=f.default.editorState,n=l.default.isZoomLayout,r=s.default.viewportWidth,o=s.default.zoom;if(n){var a=(t=Object(k.adjustEditorForZoom)(t,{padding:30})).getCurrentContent().getBlocks().first().key,u=(t=Object(_.default)(t,a,"hideFooter",!0)).getPageSize().width;o=Object(k.calculateZoom)(u,r)}return{editorState:t,infographicModel:e,isZoomLayout:n,zoom:o,transparentBackground:d.default.get("transparentBackground")&&j.TYPES_WITH_TRANSPARENCY.includes(p.default.activeTab)}}}],(n=[{key:"componentDidMount",value:function(){document.addEventListener("scroll",v.onScroll),requestAnimationFrame((function(){return Object(v.onScroll)({target:document})}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",v.onScroll)}},{key:"render",value:function(){var e,t,n,r=this.state,a=r.editorState,u=r.zoom,i=r.transparentBackground;return n=m.default,a&&u&&(e=o.a.createElement(h.default,{editorState:a,onChange:Z,readOnly:!0,canDownload:!0,renderItemContentsFn:U,scaleX:u,scaleY:u,blockWrapperComponent:P.default,blockOverlayComponent:n,transparentBackground:i})),a&&a.getCurrentContent().getBlocks().size>1&&(t=o.a.createElement(y.default,null)),o.a.createElement(b.default,{leftSidebar:t,goBackToProject:this.props.goBackToProject},o.a.createElement(V,null,e))}}])&&R(t.prototype,n),r&&R(t,r),u}(r.Component),"propTypes",{hasWatermark:c.a.bool.isRequired,goBackToProject:c.a.func.isRequired}),G);K=L([Object(a.connect)((function(e){return{hasWatermark:"none"!==e.getIn(["projectMetadata","logoType"])}}),(function(e){return{goBackToProject:function(){e({type:x.NAVIGATE_TO_PROJECT,payload:{projectId:l.default.infographicId}})}}}),null,{areStatesEqual:function(e,t){return e.get("projectMetadata")===t.get("projectMetadata")},areStatePropsEqual:function(e,t){return e.hasWatermark===t.hasWatermark}}),Object(E.default)()],K),t.default=K},cx5U:function(e,t,n){"use strict";n.r(t);var r=n("Zcty"),o=n("sCQ0"),a=n("EKef"),u=n("3fXJ");function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function u(e){c(a,r,o,u,i,"next",e)}function i(e){c(a,r,o,u,i,"throw",e)}u(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],u=!0,i=!1;try{for(n=n.call(e);!(u=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{u||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s,d=function(e,t){var n,r,o,a,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){u=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){u.label=a[1];break}if(6===a[0]&&u.label<o[1]){u.label=o[1],o=a;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(a);break}o[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(e,u)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}},p=(s=l((function(){var e,t,n;return d(this,(function(i){switch(i.label){case 0:return e=a.default.editorState.getCurrentContent().getBlocks(),t=e.reduce((function(e,t){var n=t.getKey();return t.getEntities().reduce((function(e,t){var r=a.default.editorState.getAssetURL(t.getProperty("assetId"));return"IMAGE"===t.getType()&&"icon"!==t.getProperty("subType")&&r&&e.push({pageId:n,url:r,width:t.getWidth(),height:t.getHeight()}),e}),e)}),[]),n=new Map,[4,Promise.all(t.map(function(){var e=l((function(e){var t,r,o,a,i,c,l;return d(this,(function(f){switch(f.label){case 0:t=e.pageId,r=e.url,o=e.width,a=e.height,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Object(u.default)(r)];case 2:return i=f.sent(),n.has(t)&&n.get(t)?[2]:(c=a/i.height,l=o/i.width,n.set(t,c>2||l>2),[3,4]);case 3:return f.sent(),n.set(t,!1),[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return i.sent(),r.default.dispatch({type:o.default.UPDATE_PAGE_RESOLUTION_FLAGS,pages:Array.from(n).map((function(e){var t=f(e,2);return{id:t[0],isLowResolution:t[1]}}))}),[2]}}))})),function(){return s.apply(this,arguments)});t.default=p},e0kE:function(e,t,n){var r=n("opfh");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},opfh:function(e,t,n){var r=n("sEG9");(t=e.exports=n("I1BE")(!1)).push([e.i,".IjHs9OWma8oy9-LvuSOUc {\n    position: absolute;\n    right: 14px;\n    top: 14px;\n    width: 20px;\n    height: 20px;\n    border-radius: 100%;\n    background-color: #C32F2F;\n    color: #FFF;\n}\n\n._2dPU4qVT7itx36u2l5xZoI {\n    display: block;\n    position: absolute;\n    top: -2px;\n    width: 20px;\n    height: 20px;\n    cursor: help;\n    background: url("+r(n("qbW6"))+") center no-repeat;\n    background-size: 51%;\n}\n",""]),t.locals={container:"IjHs9OWma8oy9-LvuSOUc",icon:"_2dPU4qVT7itx36u2l5xZoI"}}}]);