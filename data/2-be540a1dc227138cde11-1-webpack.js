(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+Ldj":function(e,t,n){var r=n("wwJs");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},"+mTV":function(e,t,n){"use strict";function r(e){return o[e]}n.r(t),n.d(t,"default",(function(){return r}));var o={figures:[{type:"IMAGE",width:60,height:60,offsetX:0,top:10,align:"{{ALIGN_LEFT}}",props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:0,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"body"}},{type:"IMAGE",width:60,height:60,offsetX:0,top:10,props:{subType:"icon",graphicType:"icon",path:"m25,12.5q0,0.63,-0.46,1.1t-1.1,0.46l-21.87,0q-0.63,0,-1.1,-0.46t-0.46,-1.1t0.46,-1.1l10.94,-10.94q0.46,-0.46,1.1,-0.46t1.1,0.46l10.94,10.94q0.46,0.46,0.46,1.1Z",width:25,height:14},align:"{{ALIGN_LEFT}}"},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:70,top:10,align:"{{ALIGN_LEFT}}",props:{template:"body"}}],centeredfact:[{type:"IMAGE",width:60,height:60,offsetX:0,top:0,newline:!0,props:{subType:"icon",graphicType:"icon",path:"m25.01,9.25q0,0.33,-0.39,0.72l-5.45,5.32l1.29,7.51q0.02,0.11,0.02,0.3q0,0.32,-0.16,0.53t-0.46,0.22q-0.29,0,-0.6,-0.18l-6.75,-3.55l-6.75,3.55q-0.33,0.18,-0.6,0.18q-0.32,0,-0.47,-0.22t-0.16,-0.53q0,-0.09,0.03,-0.3l1.29,-7.51l-5.47,-5.32q-0.38,-0.41,-0.38,-0.72q0,-0.56,0.84,-0.69l7.54,-1.1l3.38,-6.84q0.29,-0.62,0.74,-0.62t0.74,0.62l3.38,6.84l7.54,1.1q0.84,0.14,0.84,0.69Z",width:25,height:24}},{type:"TEXT",offsetX:0,top:2,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:10,props:{template:"body"}}],quote:[{type:"IMAGE",width:45,height:45,offsetX:0,top:0,props:{subType:"icon",graphicType:"icon",path:"M0,5.721C0,4.195,0.616,2.86,1.846,1.716C3.077,0.572,4.529,0,6.201,0C8.83,0,10.849,0.87,12.259,2.61C13.669,4.35,14.373,6.758,14.373,9.832C14.373,12.693,13.161,15.577,10.735,18.485C8.31,21.392,5.388,23.598,1.971,25.099C1.971,25.099,0.394,22.561,0.394,22.561C3.098,21.25,5.216,19.724,6.747,17.984C8.279,16.244,9.164,14.134,9.404,11.656C9.404,11.656,7.393,11.656,7.393,11.656C5.91,11.656,4.702,11.489,3.769,11.155C2.836,10.821,2.082,10.356,1.507,9.761C0.958,9.189,0.569,8.557,0.342,7.866C0.114,7.174,0,6.459,0,5.721C0,5.721,0,5.721,0,5.721M17.627,5.721C17.627,4.195,18.242,2.86,19.473,1.716C20.703,0.572,22.155,0,23.828,0C26.456,0,28.475,0.87,29.885,2.61C31.295,4.35,32,6.758,32,9.832C32,12.693,30.787,15.577,28.362,18.485C25.936,21.392,23.015,23.598,19.597,25.099C19.597,25.099,18.02,22.561,18.02,22.561C20.725,21.25,22.843,19.724,24.374,17.984C25.905,16.244,26.791,14.134,27.03,11.656C27.03,11.656,25.02,11.656,25.02,11.656C23.537,11.656,22.328,11.489,21.395,11.155C20.463,10.821,19.709,10.356,19.134,9.761C18.584,9.189,18.195,8.557,17.968,7.866C17.741,7.174,17.627,6.459,17.627,5.721C17.627,5.721,17.627,5.721,17.627,5.721",width:32,height:26},newline:!0},{type:"TEXT",offsetX:0,top:5,newline:!0,props:{template:"h2"}},{type:"TEXT",offsetX:0,top:20,props:{template:"body"}}]}},"/QJz":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("Jgc/"),s=n("TSYQ"),f=n.n(s),p=n("vmwM"),d=n("Sye6"),h=n("EKef"),b=n("XjPQ"),g=n("WdyC"),y=n("76fW"),v=n.n(y),m=n("OVpQ"),O=n("zkXd"),w=n("qZhJ");function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?E(e):t}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,i=k(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._onResizeStart=t._onResizeStart.bind(E(t)),t._onResize=t._onResize.bind(E(t)),t._onResizeStop=t._onResizeStop.bind(E(t)),t._onDragStart=t._onDragStart.bind(E(t)),t._onDrag=t._onDrag.bind(E(t)),t._onDragStop=t._onDragStop.bind(E(t)),t.onBackgroundDragStart=Object(O.createBackgroundDragHandler)({moveClip:g.moveImageCrop,getBounds:function(){return t.state.cropDimensions},onStart:function(){return t.setState({draggingBackground:!0})},onEnd:function(){t.setState({draggingBackground:!1})}}).bind(E(t)),t}return t=a,r=[{key:"getStores",value:function(){return[p.default,d.default,h.default]}},{key:"calculateState",value:function(e,t){var n,r=p.default.currentImageClip,o=t.entity,i=t.scaleX,a=t.scaleY,u={left:r.get("left")*o.getWidth()*i/100,top:r.get("top")*o.getHeight()*a/100,width:(100-r.get("left")-r.get("right"))*o.getWidth()*i/100,height:(100-r.get("top")-r.get("bottom"))*o.getHeight()*a/100};return{crop:r,cropDimensions:u,entitySize:{width:o.getWidth()*i,height:o.getHeight()*a},transformOriginOffset:p.default.transformOriginOffset,backgroundDragEnabled:!o.getCalloutKey(),imageURL:(n=h.default.editorState.getAssetURL(o.getProperty("assetId")),n.replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"))}}}],(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,r=n.scaleX,o=n.scaleY;Object(g.startClipResize)({startPoint:Object(b.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:r,scaleY:o}),document.addEventListener("mousemove",this._onResize),document.addEventListener("mouseup",this._onResizeStop)}},{key:"_onResize",value:function(e){e.stopPropagation();var t=e.shiftKey;Object(g.resizeImageCrop)(Object(b.Point)(e.clientX,e.clientY),t)}},{key:"_onResizeStop",value:function(){document.removeEventListener("mousemove",this._onResize),document.removeEventListener("mouseup",this._onResizeStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,r=t.scaleY;Object(g.startClipMove)({startPoint:Object(b.Point)(e.clientX,e.clientY),scaleX:n,scaleY:r}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(g.moveImageCrop)(Object(b.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e,t=this.props.entity,n=this.state,r=n.crop,i=n.cropDimensions,a=n.entitySize,u=n.backgroundDragEnabled,c=n.imageURL,l=i,s={WebkitClipPath:"inset(".concat(r.get("top"),"% ").concat(r.get("right"),"% ").concat(r.get("bottom"),"% ").concat(r.get("left"),"%)"),clipPath:"inset(".concat(r.get("top"),"% ").concat(r.get("right"),"% ").concat(r.get("bottom"),"% ").concat(r.get("left"),"%)"),left:-i.left,top:-i.top,width:a.width,height:a.height};return o.a.createElement("div",{className:v.a.container},o.a.createElement("img",{className:f()(v.a.cropBackground,(e={},x(e,v.a.draggableBackground,u),x(e,v.a.draggingBackground,this.state.draggingBackground),e)),src:c,onMouseDown:u?this.onBackgroundDragStart:void 0}),o.a.createElement("div",{className:v.a.previewContainer,style:l},o.a.createElement(w.default,{className:v.a.cropPreview,style:s,src:c,width:a.width,height:a.height,onMouseDown:u?this.onBackgroundDragStart:void 0,filters:t.getFilters(),clip:r})),o.a.createElement(m.default,{crop:r,onHandleMove:this._onResizeStart,onDrag:this._onDragStart}))}}])&&_(t.prototype,n),r&&_(t,r),a}(o.a.Component);x(C,"propTypes",{entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired}),t.default=l.Container.create(C,{withProps:!0})},"/fDD":function(e,t,n){e.exports=n.p+"79ec80a0e5e45c9fed0e138ab18cbcf2.svg"},"/g9H":function(e,t,n){e.exports=n.p+"80bd3829a6eb5d602f03c0b6230bff77.svg"},"12ou":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("USB3");function u(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(){var e=u(["\n                background-color: ",";\n            "]);return c=function(){return e},e}function l(){var e=u(["\n    display: flex;\n    width: 100%;\n    position: relative;\n    height: 54px;\n    &:before {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 2px;\n        background-color: #434343;\n        ","\n        bottom: 0;\n        left: 0;\n    }\n"]);return l=function(){return e},e}function s(){var e=u(["\n                        background-color: ",";\n                    "]);return s=function(){return e},e}function f(){var e=u(["\n            position: relative;\n\n            &:before {\n                content: '';\n                position: absolute;\n                width: 100%;\n                height: 5px;\n                background-color: #3195cb;\n                ","\n                bottom: 0;\n                left: 0;\n            }\n        "]);return f=function(){return e},e}function p(){var e=u(["\n    display: flex;\n    flex-direction: column;\n    flex-basis: 100%;\n    flex: 1;\n\n    cursor: pointer;\n\n    background-repeat: no-repeat;\n    background-position: center 10px;\n    background-image: ",";\n\n    ","\n"]);return p=function(){return e},e}function d(){var e=u(["\n            font-family: ",";\n        "]);return d=function(){return e},e}function h(){var e=u(["\n    padding-top: 31px;\n    font-family: Roboto;\n    font-weight: 500;\n    font-size: 9px;\n    line-height: 11px;\n    text-align: center;\n\n    ","\n"]);return h=function(){return e},e}var b=i.default.div(l(),(function(e){return e.theme.id===a.default.id&&Object(i.css)(c(),a.default.neutral60)})),g=i.default.div(p(),(function(e){return e.icon}),(function(e){return e.selected&&Object(i.css)(f(),(function(e){return e.theme.id===a.default.id&&Object(i.css)(s(),a.default.blue500)}))})),y=i.default.div(h(),(function(e){return e.theme.id===a.default.id&&Object(i.css)(d(),a.default.fonts.ralewayBold)})),v=function(e){var t=e.item,n=e.selected,r=e.onClick,i=e.children;return(o.a.createElement(g,{selected:t===n,icon:t.icon,onClick:function(){return r(t)}},i))};t.default=function(e){var t=e.items,n=e.selected,r=e.onClick,i=function(e){e!==n&&r(e)};return o.a.createElement(b,null,t.map((function(e){return o.a.createElement(v,{key:e.id,item:e,selected:n,onClick:i},o.a.createElement(y,null,e.text))})))}},"1NfA":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("USB3");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function f(){var e=s(["\n    position: absolute;\n    top: ","px;\n    right: 5px;\n    cursor: default;\n    user-select: none;\n    width: 6px;\n    min-height: 30px;\n    background-color: ",";\n    border-radius: 4px;\n    opacity: 0.3;\n    transition: opacity 0.25s;\n\n    &:hover {\n        opacity: 1;\n    }\n"]);return f=function(){return e},e}function p(){var e=s(["\n    position: relative;\n    flex: 1;\n    min-height: 0;\n    overflow: hidden;\n    height: 100%;\n    ","\n"]);return p=function(){return e},e}function d(){var e=s(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    height: 100%;\n    box-sizing: border-box;\n    overflow-y: scroll;\n\n    &::-webkit-scrollbar {\n        // there is a custom scrollbar implemented\n        // so the default one should not be displayed\n        display: none;\n    }\n\n    scrollbar-width: none;\n"]);return d=function(){return e},e}function h(){var e=s(["\n    ","\n    ","\n\n    min-height: 100%;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n\n    ","\n"]);return h=function(){return e},e}var b=i.default.div(f(),5,(function(e){return e.theme.id===a.default.id?"#aaa":"#999"})),g=i.default.div(p(),(function(e){var t=e.$height;return t&&"height: ".concat(t,"px;")})),y=i.default.div(d()),v=i.default.div(h(),(function(e){return e.paddingTop&&"padding-top: ".concat(e.paddingTop,"px;")}),(function(e){return e.paddingBottom&&"padding-bottom: ".concat(e.paddingBottom,"px;")}),(function(e){return e.maxWidth&&"max-width: ".concat(e.maxWidth,"px; margin: auto;")})),m=Object(r.forwardRef)((function(e,t){var n,i=l(Object(r.useState)(1),2),a=i[0],u=i[1],s=l(Object(r.useState)(!1),2),f=s[0],p=s[1],d=Object(r.useRef)(null),h=t||d,m=Object(r.useRef)(null),O=Object(r.useRef)(null),w=Object(r.useRef)(0),E=Object(r.useRef)({clientHeight:0,scrollHeight:0,trackHeight:0}),_=e.paddingTop,x=e.paddingBottom;Object(r.useLayoutEffect)((function(){var e,t=h.current,n=m.current,r=function(){cancelAnimationFrame(e),e=requestAnimationFrame((function(){var e=h.current,t=e.clientHeight,n=e.scrollHeight;u(t/n),E.current={clientHeight:t,scrollHeight:n,trackHeight:O.current.clientHeight}}))},o=new ResizeObserver(r);return o.observe(h.current),o.observe(m.current),r(),function(){o.unobserve(t),o.unobserve(n),cancelAnimationFrame(e)}}),[h,m]);var j,R=e.onScroll,P=Object(r.useCallback)((function(e){if(null==R||R(e),1!==a){var t=h.current,n=O.current;cancelAnimationFrame(w.current),w.current=requestAnimationFrame((function(){var e=E.current,r=e.clientHeight,o=e.scrollHeight,i=e.trackHeight,a=t.scrollTop/(o-r)*(r-i-10);n.style.transform="translateY(".concat(a,"px)")}))}}),[h,a,R]),S=Object(r.useCallback)((function(e){var t,n=h.current,r=e.pageY,o=n.scrollTop;p(!0);var i=function(e){var i=e.pageY;cancelAnimationFrame(t),t=requestAnimationFrame((function(){o+=(i-r)/a,r=i,n.scrollTop=o}))};window.addEventListener("mousemove",i),window.addEventListener("mouseup",(function(){p(!1),window.removeEventListener("mousemove",i)}),{once:!0})}),[h,a]),k=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({height:"calc(".concat(100*a,"% - ").concat(10,"px)"),opacity:f?1:void 0,display:1===a?"none":void 0},e.trackStyle||{});return o.a.createElement(g,{className:e.className,$height:e.maxHeight?Math.min(e.maxHeight,null!==(j=null===(n=m.current)||void 0===n?void 0:n.offsetHeight)&&void 0!==j?j:0):void 0},o.a.createElement(y,{ref:h,onScroll:P},o.a.createElement(v,{maxWidth:e.maxWidth,paddingTop:_,paddingBottom:x,ref:m},e.children)),o.a.createElement(b,{ref:O,onMouseDown:S,style:k}))}));t.default=m},"24P5":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2JkYmtCRMeDCR5ETOg-PxQ {\n    position: relative;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk {\n    position: absolute;\n    pointer-events: auto;\n    height: 50px;\n    width: 200px;\n    border-radius: 4px;\n    background-color: #333;\n    color: #FFF;\n    font-size: 13px;\n    z-index: 1;\n}\n\n.MyKbEG-a6pgf-2v7JNWAk._1ud6saQSyVljOkpinJa1UN {\n    flex-direction: row;\n}\n.MyKbEG-a6pgf-2v7JNWAk._3jbgrFOwhzWGC56M4BqgA3 {\n    flex-direction: column;\n}\n\n.etnyl_5DRCOlVEaBEF7Kc {\n    position: absolute;\n    cursor: default;\n}\n\n._3-ACjlJCWwgK-E_L0ucFCV {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    pointer-events: none;\n    z-index: 5;\n}\n\n.Y8xHqKqygs_QW-mkJ7Hcb {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    cursor: move;\n}\n\n.Eiz26vs6sopyhaLGTg1Sp {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n    pointer-events: none;\n}\n",""]),t.locals={wrapper:"_2JkYmtCRMeDCR5ETOg-PxQ",callout:"MyKbEG-a6pgf-2v7JNWAk",horizontal:"_1ud6saQSyVljOkpinJa1UN",vertical:"_3jbgrFOwhzWGC56M4BqgA3",calloutEditItem:"etnyl_5DRCOlVEaBEF7Kc",calloutOverlay:"_3-ACjlJCWwgK-E_L0ucFCV",calloutOverlaySelect:"Y8xHqKqygs_QW-mkJ7Hcb",overlay:"Eiz26vs6sopyhaLGTg1Sp"}},"2O/L":function(e,t,n){"use strict";n.r(t);var r=n("1NfA");n.d(t,"default",(function(){return r.default}))},"30eB":function(e,t,n){var r=n("24P5");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},"3OL+":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("USB3");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(){var e=l(["\n            &::placeholder {\n                color: ",";\n            }\n        "]);return s=function(){return e},e}function f(){var e=l(["\n    box-sizing: border-box;\n    outline: none;\n    width: 100%;\n    height: 60px;\n    padding: 0;\n    resize: none;\n    overflow: hidden;\n    border: 0;\n\n    &:focus {\n        border-color: transparent;\n    }\n\n    &::placeholder {\n        color: #d8d8d8;\n        opacity: ",";\n    }\n\n    ","\n"]);return f=function(){return e},e}function p(){var e=l([void 0,void 0]);return p=function(){return e},e}var d=i.default.textarea.attrs((function(e){return{style:{fontSize:"".concat(e.fontSize,"px"),lineHeight:"".concat(Math.round(1.33*e.fontSize),"px")}}}))(f(),a.default.alpha40,(function(e){return e.theme.id===a.default.id&&Object(i.css)(s(),a.default.neutral600)})),h=Object(i.default)(d)(p(),(function(e){return e.$_css}));t.default=Object(r.forwardRef)((function(e,t){var n,i=Object(r.useRef)(),a=c(Object(r.useState)(null!==(n=e.notes)&&void 0!==n?n:""),2),u=a[0],l=a[1];Object(r.useEffect)((function(){var t;l(null!==(t=e.notes)&&void 0!==t?t:"")}),[e.pageId]),Object(r.useImperativeHandle)(t,(function(){return{focus:function(){var e;return null===(e=i.current)||void 0===e?void 0:e.focus()}}})),Object(r.useEffect)((function(){var t;e.open&&(null===(t=i.current)||void 0===t||t.focus(),(null==i?void 0:i.current)&&(i.current.selectionStart=i.current.value.length))}),[e.open,i]),Object(r.useEffect)((function(){i.current&&(i.current.style.removeProperty("height"),i.current.style.height="".concat(i.current.scrollHeight,"px"))}),[u,i]);return o.a.createElement(h,{placeholder:e.placeholder,onChange:function(t){l(t.target.value),e.onChange(e.pageId,t.target.value),t.stopPropagation()},value:u,onBlur:e.onBlur,onFocus:e.onFocus,ref:i,fontSize:e.fontSize,$_css:e.customCss})}))},"4LUD":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("q1tI"),o=n.n(r);function i(){var e,t,n=(e=["\n    position: absolute;\n    top: -2px;\n    left: -2px;\n    bottom: -2px;\n    right: -2px;\n    pointer-events: none;\n    border: 2px dotted #ff00ff;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return i=function(){return n},n}var a=n("vOnD").default.div(i());function u(){return o.a.createElement(a,null)}},"4Zd/":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),f=n("/MKj"),p=n("h7h9"),d=n("vmwM"),h=n("rQKZ"),b=n("U9m6"),g=n("HB54"),y=n.n(g),v=n("rfNr"),m=n("KoyB"),O=n("4LUD");n("USB3");function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function P(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function S(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var I,z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},D=(_(I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,n,i,a=T(u);function u(){return w(this,u),a.apply(this,arguments)}return t=u,i=[{key:"getStores",value:function(){return[d.default]}},{key:"calculateState",value:function(e,t){var n=null!==d.default.activeType,r=t.entity,o=t.selected,i=t.multipleSelected,a={isClipping:n};if(o&&!i&&"CHART"===r.type&&!r.locked){var u=p.default.getEntity(r.getKey());if(u){var c=u.chart;b.default.init(c).hasInPlaceEditing()&&(a.OverlayComponent=Object(m.default)(c))}}return a}}],(n=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.hasExternalSelection,i=e.selected,a=e.multipleSelected,u=e.highlighted;if((!i||i&&a)&&!n&&!u)return null;var c=this.state,l=c.isClipping,f=c.OverlayComponent,p=t.bounds(l);if(l){var d=Object(v.default)(t,{left:50,top:50});p.top+=d.get("y"),p.left+=d.get("x")}var h={top:p.top*this.props.scaleY,left:p.left*this.props.scaleX,width:p.width*this.props.scaleX,height:p.height*this.props.scaleY},b=P(R({},h),{position:"absolute",pointerEvents:"none",border:"1px dashed ".concat("#3195cb")});return t.isHeightlessChart()&&delete b.border,o.a.createElement(r.Fragment,null,n&&o.a.createElement("div",{className:y.a.border,style:P(R({},b),{border:"1px solid ".concat(this.props.externalSelectionUserColor)})},o.a.createElement("div",{className:y.a.username,style:{backgroundColor:this.props.externalSelectionUserColor}},this.props.externalSelectionUserName)),i&&!a&&!t.isConnector()&&!t.isLine()&&o.a.createElement("div",{className:s()(y.a.container),style:b},f&&o.a.createElement(f.component,x({},f.props))),u&&o.a.createElement("div",{className:s()(y.a.container,y.a.highlight),style:h},o.a.createElement(O.default,null)))}}])&&E(t.prototype,n),i&&E(t,i),u}(r.Component),"propTypes",{entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,selected:a.a.bool.isRequired,multipleSelected:a.a.bool.isRequired,hasExternalSelection:a.a.bool,externalSelectionUserName:a.a.string,externalSelectionUserColor:a.a.string,highlighted:a.a.bool}),I);D=z([Object(f.connect)((function(e,t){var n=e.getIn(["flexCollaboration","users"]),r=n&&n.find((function(e){return e.get("selectedObjects").contains(t.entity.key)}));return r?{hasExternalSelection:e.getIn(["flexCollaboration","users"]).size>1,externalSelectionUserName:r.get("displayName"),externalSelectionUserColor:r.get("color")}:{}}),null,null,{areStatesEqual:function(e,t){return e.getIn(["flexCollaboration","users"])===t.getIn(["flexCollaboration","users"])}}),Object(h.default)({withProps:!0})],D)},"4fFA":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n("17x9"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),f=n("vOnD"),p=n("8pFZ"),d=n("USB3"),h=n("qLhN"),b=n.n(h);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function _(){var e,t,n=(e=["\n    pointer-events: none;\n    height: 12px;\n    width: 12px;\n    background: #3195cb;\n    border: 1px solid #fff;\n    border-radius: 7px;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return _=function(){return n},n}var x=["from","to"];var j,R,P,S=f.default.div(_(),(function(e){return e.theme.id===d.default.id&&"\n        background: ".concat(d.default.blue500,";\n    ")})),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=E(i);function i(){return g(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e,t,n,r,o,i,u=this,c=(e=this.props,t=e.entity,n=e.scaleX,r=e.scaleY,o=e.block,i=e.pageSize,x.reduce((function(e,a){var u=Object(p.getPosition)(t.getIn(["props",a]),o,i);return e[a]={left:n*u.x-7,top:r*u.y-7},e}),{}));return a.a.createElement("div",null,x.map((function(e){return a.a.createElement("div",{className:s()(b.a.lineResizeHandle),style:{cursor:"move",left:c[e].left,top:c[e].top},key:e,ref:function(t){return u.props.handlers[e](t)}},a.a.createElement(S,null))})))}}])&&y(t.prototype,n),r&&y(t,r),i}(i.PureComponent);j=k,R="propTypes",P={handlers:o.a.object.isRequired,entity:c.a.record.isRequired,mousePosition:c.a.contains({x:o.a.number.isRequired,y:o.a.number.isRequired}),scaleX:o.a.number,scaleY:o.a.number,block:o.a.any.isRequired,pageSize:o.a.shape({width:o.a.number.isRequired,height:o.a.number.isRequired})},R in j?Object.defineProperty(j,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[R]=P},"4lNQ":function(e,t,n){e.exports=n.p+"bbd98be12a445bd0655e95c2036de77b.svg"},"5I7P":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=(n("k0mc"),n("1+J2")),f=n("f4JI"),p=n("kyW3"),d=n.n(p),h=(n("ySsV"),n("USB3"));function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?b(e):t}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function x(){var e,t,n=(e=["\n    background: #2d2d2d url(",") no-repeat center center;\n    position: absolute;\n    cursor: pointer;\n    border-radius: 4px;\n    z-index: 1;\n\n    &:hover {\n        text-decoration: none;\n    }\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return x=function(){return n},n}var j=l.default.div(x(),n("CwAB"),(function(e){return e.theme.id===h.default.id&&"\n        background: ".concat(h.default.neutral80," url(").concat(n("uZ33"),") no-repeat center center;\n        background-size: 12px;\n    ")})),R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(a,e);var t,n,r,i=_(a);function a(){var e;return g(this,a),v(b(e=i.apply(this,arguments)),"_showCallout",(function(t){e.props.onToggleCallout(e.props.entity,t),Object(s.logOpenObjectCalloutWebJs)({})})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.entity,n=e.entityBounds,r=e.scaleX,i=e.scaleY,a=t.getCallout(),u=Object(f.default)(a.get("position"),20/r,20/i,{entityBounds:n,calloutScale:{scaleX:r,scaleY:i},scaleX:r,scaleY:i});return o.a.createElement(j,{className:d.a[a.get("position")],style:u,onMouseLeave:this.props.onMouseLeave,onMouseEnter:this.props.onMouseEnter,onClick:this._showCallout})}}])&&y(t.prototype,n),r&&y(t,r),a}(r.PureComponent);v(R,"propTypes",{entity:c.a.record.isRequired,entityBounds:a.a.shape({top:a.a.number.isRequired,left:a.a.number.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,onToggleCallout:a.a.func.isRequired,onMouseLeave:a.a.func,onMouseEnter:a.a.func})},"6YUc":function(e,t,n){e.exports=n.p+"af93b6cc21148318a3ceee0cf368a288.svg"},"6kTI":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("H9x7"),u=n.n(a);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,o,a=h(s);function s(){return c(this,s),a.apply(this,arguments)}return t=s,(n=[{key:"showUpgradeDialog",value:function(){window.app.router.saveLocation(),window.app.router.navigate("//upgrade/flex_pages",{promote:{from:"flex_pages"}})}},{key:"render",value:function(){return i.a.createElement("div",{className:u.a.button,onClick:this.showUpgradeDialog},r.default.t("inspector.free.unlock_more_pages"))}}])&&l(t.prototype,n),o&&l(t,o),s}(o.PureComponent)},"70t9":function(e,t,n){"use strict";n.r(t),n.d(t,"Section",(function(){return y})),n.d(t,"SectionHeader",(function(){return v})),n.d(t,"SectionTitle",(function(){return m}));var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("17x9"),u=n.n(a),c=n("yb06"),l=n.n(c),s=n("oPkt");function f(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function p(){var e=f(["\n    margin: 0px 0px 15px 0px;\n    &:last-child {\n        margin-bottom: 0;\n    }\n"]);return p=function(){return e},e}function d(){var e=f(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    padding-bottom: 10px;\n    font-size: 11px;\n"]);return d=function(){return e},e}function h(){var e=f(["\n    flex-grow: 1;\n    font-size: 12px;\n    line-height: normal;\n"]);return h=function(){return e},e}function b(){var e=f(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: flex-start;\n"]);return b=function(){return e},e}function g(){var e=f(["\n    display: inline-block;\n    margin-right: 5px;\n    margin-bottom: 5px;\n"]);return g=function(){return e},e}var y=i.default.div(p()),v=i.default.div(d()),m=i.default.h3(h()),O=i.default.ul(b()),w=i.default.li(g()),E=function(e){var t=e.title,n=e.colors,r=e.onChoose,i=e.showTransparent;return(o.a.createElement(y,{key:t},o.a.createElement(v,null,o.a.createElement(m,null,t)),!n.isEmpty()&&o.a.createElement(O,null,n.map((function(e){var t=e.value,n=e.displayValue,i=e.selected;return(o.a.createElement(w,{key:t,title:n},o.a.createElement(s.default,{value:t,displayValue:n,active:i,onClick:r})))})),i&&o.a.createElement(w,{key:"transparent",title:"transparent"},o.a.createElement(s.default,{value:"transparent",displayValue:"transparent",onClick:r})))))};E.propTypes={title:u.a.string.isRequired,colors:l.a.list.isRequired,onChoose:u.a.func.isRequired,showTransparent:u.a.bool},t.default=E},"76fW":function(e,t,n){var r=n("8tEq");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},"7EpH":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("91cT"),o=n("Zcty");function i(){o.default.dispatch({type:r.START_NAVIGATING})}},"7NQ5":function(e,t,n){e.exports=n.p+"60893ff3aab174903f16d1ab3220fcdb.svg"},"8LcJ":function(e,t,n){e.exports=n.p+"23b935c2b5c2a68d042b8add07f140e7.svg"},"8bmW":function(e,t,n){e.exports=n.p+"5c35a1086431da745788ec8b9710cac1.svg"},"8tEq":function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._24lLGmRDcNw_dIH0AL_7iB {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n}\n\n._386twuBpgmEEmpVQeSAHto {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n}\n\n._1ijU__Dq4DPLkrxGzj7F8- {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._1amREtop4c-HGwYbGbvI8z {\n    cursor: grabbing;\n}\n\n.wJem9qYHKSzsO5d_lR9U9 {\n    position: absolute;\n    overflow: hidden;\n}\n\n._mAVZ2K2bzwSWgxKA20k {\n    position: absolute;\n}\n\n._17DZGw_UMkidLQzj6zqI5u,\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    width: 15px;\n    height: 3px;\n    left: 50%;\n    transform: translateX(-50%);\n}\n._17DZGw_UMkidLQzj6zqI5u:hover,\n._3f_i2tRbMJ0iQfXDBKEW95:hover {\n    transform: translateX(-50%) scale(1.5);\n}\n\n._3hpZSIf02CeSNPNFGL4cX6,\n._3eGpzkXhWxjiONt-rlaD21 {\n    width: 3px;\n    height: 15px;\n    top: 50%;\n    transform: translateY(-50%);\n}\n._3hpZSIf02CeSNPNFGL4cX6:hover,\n._3eGpzkXhWxjiONt-rlaD21:hover {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._17DZGw_UMkidLQzj6zqI5u {\n    top: -4px;\n    cursor: n-resize;\n}\n._3f_i2tRbMJ0iQfXDBKEW95 {\n    bottom: -4px;\n    cursor: s-resize;\n}\n._3hpZSIf02CeSNPNFGL4cX6 {\n    left: -4px;\n    cursor: w-resize;\n}\n._3eGpzkXhWxjiONt-rlaD21 {\n    right: -4px;\n    cursor: e-resize;\n}\n\n._2-Z5KP4_DqT8SZxrVVyC-N {\n    top: -4px;\n    left: -4px;\n    cursor: nw-resize;\n}\n._2-Z5KP4_DqT8SZxrVVyC-N:hover {\n    transform: scale(1.5);\n}\n\n._1r2p9DbL8irH3tlvXFxn_w {\n    top: -4px;\n    right: -4px;\n    transform: rotate(90deg);\n    cursor: ne-resize;\n}\n._1r2p9DbL8irH3tlvXFxn_w:hover {\n    transform: rotate(90deg) scale(1.5);\n}\n\n._3Jk4Zm5I0v0qCRk0bhIyJs {\n    bottom: -4px;\n    right: -4px;\n    transform: rotate(180deg);\n    cursor: se-resize;\n}\n._3Jk4Zm5I0v0qCRk0bhIyJs:hover {\n    transform: rotate(180deg) scale(1.5);\n}\n\n._1EPEAYJ1xCcdvncIPoTPt8 {\n    bottom: -4px;\n    left: -4px;\n    transform: rotate(270deg);\n    cursor: sw-resize;\n}\n._1EPEAYJ1xCcdvncIPoTPt8:hover {\n    transform: rotate(270deg) scale(1.5);\n}\n\n.Vunraq2yFK8_L3qE9HYCc,\n.yCdcdFrZGotgRwIGkGAeA {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={container:"_24lLGmRDcNw_dIH0AL_7iB",cropBackground:"_386twuBpgmEEmpVQeSAHto",draggableBackground:"_1ijU__Dq4DPLkrxGzj7F8-",draggingBackground:"_1amREtop4c-HGwYbGbvI8z",previewContainer:"wJem9qYHKSzsO5d_lR9U9",cropPreview:"_mAVZ2K2bzwSWgxKA20k",topHandle:"_17DZGw_UMkidLQzj6zqI5u",bottomHandle:"_3f_i2tRbMJ0iQfXDBKEW95",leftHandle:"_3hpZSIf02CeSNPNFGL4cX6",rightHandle:"_3eGpzkXhWxjiONt-rlaD21",topLeftHandle:"_2-Z5KP4_DqT8SZxrVVyC-N",topRightHandle:"_1r2p9DbL8irH3tlvXFxn_w",bottomRightHandle:"_3Jk4Zm5I0v0qCRk0bhIyJs",bottomLeftHandle:"_1EPEAYJ1xCcdvncIPoTPt8",sideHandle:"Vunraq2yFK8_L3qE9HYCc",cornerHandle:"yCdcdFrZGotgRwIGkGAeA"}},"9EZc":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return R}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("17x9"),u=n.n(a),c=n("yb06"),l=n.n(c),s=n("/MKj"),f=n("dGoc"),p=n.n(f),d=n("244d");function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}var w,E,_,x,j=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},R=(w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(u,e);var t,n,o,a=O(u);function u(){return h(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.block,n=e.children,o=e.content,a=e.totalPages,u=o.getBlockIndex(t.getKey())+1;return i.a.createElement("div",{className:p.a.blockContainer},i.a.createElement("div",{className:p.a.pageIndicatorText},r.default.t("app.freelayout_editor.page_n_of_m",{current:u,total:a})),i.a.createElement(d.default,{block:this.props.block,assets:this.props.assets,width:this.props.width,height:this.props.height,observer:this.props.observer},n))}}])&&b(t.prototype,n),o&&b(t,o),u}(o.PureComponent),E=w,_="propTypes",x={content:u.a.object.isRequired,children:u.a.node.isRequired,block:l.a.record.isRequired,assets:u.a.shape({getURL:u.a.func.isRequired}),totalPages:u.a.number.isRequired,width:u.a.number.isRequired,height:u.a.number.isRequired,observer:u.a.shape({observe:u.a.func.isRequired,unobserve:u.a.func.isRequired}).isRequired},_ in E?Object.defineProperty(E,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):E[_]=x,w);R=j([Object(s.connect)((function(e){var t=e.getIn(["revisions","editorState"]).getCurrentContent();return{content:t,totalPages:t.getBlocks().size}}))],R)},"9Glu":function(e,t,n){e.exports=n.p+"92d3ee8c901a1d1bb23df92bcc00274b.svg"},"9I2e":function(e,t,n){e.exports=n.p+"833fbb512b14b7deed349758f6370f77.svg"},"9s3c":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("ZgL/"),s=n("dcZU");function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var y,v,m,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,i=g(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._refs={},t._handlers={connectorCreate:t._assignHandler("connectorCreate")},t}return t=a,(n=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?l.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&l.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){return o.a.createElement(s.default,{entity:this.props.entity,handlers:this._handlers,scaleX:this.props.scaleX,scaleY:this.props.scaleY})}}])&&f(t.prototype,n),r&&f(t,r),a}(r.PureComponent);y=O,v="propTypes",m={entity:c.a.record.isRequired,handlerKey:a.a.string.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired},v in y?Object.defineProperty(y,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):y[v]=m,t.default=O},AM0O:function(e,t,n){"use strict";function r(e){if(!e)return!1;if(document.contains)return document.contains(e);for(var t=e;t;){if(t===document)return!0;t=t.parentNode}return!1}n.r(t),n.d(t,"documentContains",(function(){return r}))},B6Rb:function(e,t,n){"use strict";n.r(t),n.d(t,"getOverlayMode",(function(){return o}));var r=n("avnT");function o(e){return e.isConnector()?r.OVERLAY_MODES.CONNECTOR:"TEXT"===e.type?r.OVERLAY_MODES.TEXT:e.isLine()?r.OVERLAY_MODES.LINE:e.isHeightlessChart()?r.OVERLAY_MODES.CONTAINERLESS:r.OVERLAY_MODES.RECTANGLE}},"BWw/":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("WExX"),u=n("9TEz"),c=n("FXuW"),l=n("pYhh"),s=n("cOS8");t.default=function(){var e=Object(i.useSelector)((function(e){return e.get("onboarding")})),t=e.activeStep,n=e.targetBounds,r=e.calloutPosition,f=Object(i.useDispatch)();return t&&n&&r?o.a.createElement(o.a.Fragment,null,o.a.createElement(c.default,{description:s.OnboardingStepDescriptions[t](),targetBounds:n,position:r,onClose:function(){f({type:Object(a.getType)(u.removeOnboardingStep),payload:t})}}),o.a.createElement(l.Spotlight,{targetBounds:n})):null}},"Bq+y":function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("USB3"),u=n("AM0O");function c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function l(){var e=c(["\n                background-image: ",";\n                background-color: ",";\n                color: ",";\n\n                &:hover {\n                    background-image: ",";\n                    background-color: ",";\n                }\n            "]);return l=function(){return e},e}function s(){var e=c(["\n            background-image: ",";\n            font-family: ",";\n\n            &:hover {\n                background-image: ",";\n                background-color: ",";\n            }\n\n            ","\n        "]);return s=function(){return e},e}function f(){var e=c(["\n    width: 100%;\n    height: 100%;\n    background-image: ",";\n    background-size: ",";\n    background-position: ",";\n    background-repeat: no-repeat;\n    font-size: 9px;\n\n    &:hover {\n        background-color: #7d7d7d;\n    }\n\n    ","\n\n    ","\n"]);return f=function(){return e},e}function p(){var e=c(["\n    position: relative;\n    width: 48px;\n    height: 48px;\n    cursor: pointer;\n    z-index: 2;\n    position: relative;\n\n    ","\n"]);return p=function(){return e},e}function d(){var e=c(["\n    font-size: 9px;\n    padding-top: 35px;\n    pointer-events: none;\n"]);return d=function(){return e},e}function h(){var e=c(["\n    position: absolute;\n    left: 100%;\n    bottom: 0;\n    margin-left: 5px;\n    line-height: initial;\n"]);return h=function(){return e},e}var b,g,y={grid:"url(".concat(n("GnhQ"),")"),default:"url(".concat(n("XPW7"),")"),mobile:"url(".concat(n("4lNQ"),")"),layers:"url(".concat(n("6YUc"),")")},v={grid:"url(".concat(n("hfFo"),")"),default:"url(".concat(n("x6X5"),")"),mobile:"url(".concat(n("iDiz"),")"),layers:"url(".concat(n("9I2e"),")")},m=i.default.div(f(),(function(e){return y[e.icon]}),(function(e){return null!==(b=e.iconSize)&&void 0!==b?b:"19px 19px"}),(function(e){return null!==(g=e.iconPosition)&&void 0!==g?g:"center 10px"}),(function(e){return e.active&&"\n        background-color: #7d7d7d;\n    "}),(function(e){return e.theme.id===a.default.id&&Object(i.css)(s(),(function(e){return v[e.icon]}),a.default.fonts.ralewayBold,(function(e){return v[e.icon]}),a.default.neutral100,e.active&&Object(i.css)(l(),(function(e){return y[e.icon]}),a.default.blue400,a.default.white,(function(e){return y[e.icon]}),a.default.blue400))})),O=i.default.div(p(),(function(e){return e.theme.id===a.default.id&&"\n        width: 50px;\n        height: 50px;\n        color: ".concat(a.default.neutral600,";\n    ")})),w=i.default.div(d()),E=i.default.div(h());t.default=function(e){var t=e.title,n=e.tooltipText,i=e.open,a=e.toggle,c=e.icon,l=e.children,s=e.iconSize,f=e.iconPosition,p=Object(r.useRef)(null),d=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=function(e){Object(u.documentContains)(e.target)&&p.current&&!p.current.contains(e.target)&&e.target!==d.current&&a(!1)};return i&&document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[i,a]);return o.a.createElement(O,null,i&&o.a.createElement(E,{ref:p},l),o.a.createElement(m,{onClick:function(){a()},active:i,"data-tooltip":n,"data-tooltip-position":"right",icon:c,iconSize:s,iconPosition:f,ref:d,role:"button"},o.a.createElement(w,null,t)))}},D4ZG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._7F4Du4QULhT9hrP6W8dfc {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: #fff;\n    z-index: 1;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    border: 1px dotted #3195cb;\n    transform-origin: 50% 50%;\n}\n\n._2lgtazEtFwc2F5pJlUs8Ug._2VEEObg5qY2LuwQH_xSb3N {\n    border-color: #1E55EB;\n}\n\n.Bk87vnu9ySW7PPGJCgWpT {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    opacity: .5;\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._25FdaVd1hdY_MFUV2jIl6B {\n    pointer-events: auto;\n    cursor: grab;\n}\n\n._2JjwwFGXeVCMGaLVAPxCHd {\n    cursor: grabbing;\n}\n\n._1WCYG90HItV-GDrCwVHX_A {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n}\n\n._1mqEolyZPAOFLcc6Tv54Dx {\n    position: absolute;\n    pointer-events: none;\n}\n\n._6iLiQc328B94GBUVfdXHG {\n    cursor: ne-resize;\n}\n\n._3m-_bd9o4TRwVW4fIN-dIW {\n    cursor: se-resize;\n}\n\n.XDlnA8oHDEkx4ALDFDvGD {\n    cursor: sw-resize;\n}\n\n._1pYxf9xwsuCAArivN9kUlQ {\n    cursor: nw-resize;\n}\n",""]),t.locals={container:"_7F4Du4QULhT9hrP6W8dfc",mask:"_2lgtazEtFwc2F5pJlUs8Ug",maskPrezigram:"_2VEEObg5qY2LuwQH_xSb3N",background:"Bk87vnu9ySW7PPGJCgWpT",draggableBackground:"_25FdaVd1hdY_MFUV2jIl6B",draggingBackground:"_2JjwwFGXeVCMGaLVAPxCHd",preview:"_1WCYG90HItV-GDrCwVHX_A",selector:"_1mqEolyZPAOFLcc6Tv54Dx",ne:"_6iLiQc328B94GBUVfdXHG",se:"_3m-_bd9o4TRwVW4fIN-dIW",sw:"XDlnA8oHDEkx4ALDFDvGD",nw:"_1pYxf9xwsuCAArivN9kUlQ"}},DPv0:function(e,t,n){e.exports=n.p+"c609f672e78eccae22bb18a7e17e0bc8.svg"},DuYy:function(e,t,n){e.exports=n.p+"443f4544c10b6046c05e519bafc93d48.svg"},EKTl:function(e,t,n){e.exports=n.p+"440ad7459cef7c6f10696dff6d135bf9.svg"},F48k:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("Zcty"),o=n("hl5+");function i(e){r.default.dispatch({type:o.SET_LAYOUT,layout:e})}},GRZN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("17x9"),u=n.n(a),c=n("/MKj"),l=n("wd/R"),s=n.n(l),f=n("TSYQ"),p=n.n(f),d=n("rMMX"),h=n("ZGOS"),b=n.n(h);function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var _,x,j,R,P=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},S=(_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(u,e);var t,n,o,a=E(u);function u(){return g(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e;return e=this.props.selectedIndex?i.a.createElement("div",{className:b.a.version},i.a.createElement("div",{className:b.a.date},this.props.date),i.a.createElement(d.default,{avatarClass:b.a.avatar,avatarImage:this.props.avatar,fullName:this.props.name}),i.a.createElement("div",{className:b.a.name},this.props.name)):i.a.createElement("div",{className:b.a.version},r.default.t("app.revisions.current_version")),i.a.createElement("div",{className:b.a.title},i.a.createElement("div",{className:p()("icon-history",b.a.icon)}),i.a.createElement("div",{className:b.a.label},r.default.t("app.revisions.version_history_label")),e)}}])&&y(t.prototype,n),o&&y(t,o),u}(o.PureComponent),x=_,j="propTypes",R={selectedIndex:u.a.number.isRequired,date:u.a.string,avatar:u.a.string,name:u.a.string},j in x?Object.defineProperty(x,j,{value:R,enumerable:!0,configurable:!0,writable:!0}):x[j]=R,_);S=P([Object(c.connect)((function(e){var t=e.getIn(["revisions","selectedIndex"]),n=e.getIn(["revisions","revisions"]),r={selectedIndex:t};if(t&&n.size){var o=n.filter((function(e){return!e.get("hidden")})).get(t);o&&(r.name=o.get("userName"),r.avatar=o.get("userAvatar"),r.date=s.a.unix(o.get("createdAt")).format("YYYY-MM-DD, H:mm"))}return r}))],S)},GTRv:function(e,t,n){e.exports=n.p+"0c45ba9ec1c45169d6726a6afe084a9f.svg"},GnhQ:function(e,t,n){e.exports=n.p+"47c5b128347e448182388404d5fc7e20.svg"},H9x7:function(e,t,n){var r=n("hBIi");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},HB54:function(e,t,n){var r=n("h0S4");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},HOYV:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("XzT5"),c=n("vOnD"),l=n("fRwP"),s=n("aFOO"),f=n("s4t9"),p=n("USB3");function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function E(){var e=m(["\n    background-color: #3b3b3b;\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n\n    ","\n"]);return E=function(){return e},e}function _(){var e=m(["\n    flex-grow: 1;\n    position: relative;\n"]);return _=function(){return e},e}function x(){var e=m(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 30px;\n"]);return x=function(){return e},e}var j,R,P,S=c.default.div(E(),(function(e){return e.theme.id===p.default.id&&"\n        background-color: ".concat(p.default.white,";\n    ")})),k=c.default.div(_()),C=c.default.div(x()),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=w(a);function a(){return d(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return o.a.createElement(S,null,o.a.createElement(l.default,{title:u.default.t("app.chart_settings.element_text")}),o.a.createElement(k,null,o.a.createElement(C,null,o.a.createElement(s.default,{height:"100%"},o.a.createElement(f.default,b({},this.props,{disableAccessibility:!0}))))))}}])&&h(t.prototype,n),r&&h(t,r),a}(r.PureComponent);j=T,R="propTypes",P={entity:a.a.any,design:a.a.any,template:a.a.string},R in j?Object.defineProperty(j,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[R]=P},HYMN:function(e,t,n){e.exports=n.p+"7ef6c14f4d09b26e17825e7c3eaf252a.svg"},Hejo:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return $}));var r=n("LvDl"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("17x9"),c=n.n(u),l=n("yb06"),s=n.n(l),f=n("IYwU"),p=n("/MKj"),d=n("TSYQ"),h=n.n(d),b=n("WExX"),g=n("EKef"),y=n("Sye6"),v=n("34VB"),m=n("ySsV"),O=n("rQKZ"),w=n("hl5+"),E=n("aXXi"),_=n("pWtM"),x=(n("zHWi"),n("gn/5")),j=n("OG9s"),R=n("MxqP"),P=n("/TeS"),S=n("xVW7"),k=n("6kTI"),C=n("0ENQ"),T=n("+Ldj"),I=n.n(T),z=n("amct"),D=n("GnQD");function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function U(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?M(e):t}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var X=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=N(e);if(t){var o=N(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}var G,Z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},F=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};var V,W,J,Q,$=(V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(u,e);var t,n,r,i=H(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e))._updateMousePositionWithChecks=t._updateMousePositionWithChecks.bind(M(t)),t.throttledUpdateMousePosition=o.a.throttle((function(e,n){t.props.updateMousePosition(e,n)}),100),t._addComment=t._addComment.bind(M(t)),t}return t=u,r=[{key:"getStores",value:function(){return[g.default,y.default,m.default,S.default]}},{key:"calculateState",value:function(e,t){var n=y.default.currentSelection,r=!(S.default.resizing||S.default.dragging||S.default.navigating)&&(t.commenting||!n.isEmpty());return{projectId:m.default.infographicId,isZoomLayout:m.default.isZoomLayout,editorState:g.default.editorState,initialBoundingBox:y.default.initialBoundingBox,multiSelectionActive:y.default.multiSelectionActive,groupsInEditMode:y.default.groupsInEditMode,currentSelection:n,mousePositionUpdatesEnabled:r,navigating:S.default.navigating}}}],(n=[{key:"render",value:function(){var e,t=this.props,n=t.connectDropTarget,r=B(t,["connectDropTarget"]);e=_.default;var o=h()(I.a.droppableInfographicEditor,this.state.isZoomLayout&&I.a.zoomContainer);return n(a.a.createElement("div",{className:o},a.a.createElement(v.default,q({isZoomLayout:this.state.isZoomLayout,blockOverlayComponent:e,currentSelection:this.state.currentSelection,editorState:this.state.editorState,initialBoundingBox:this.state.initialBoundingBox,multiSelectionActive:this.state.multiSelectionActive,footerSettings:this.props.footerSettings,guideSettings:this.props.guideSettings,groupsInEditMode:this.state.groupsInEditMode},r,{updateMousePosition:this._updateMousePositionWithChecks,navigating:this.state.navigating,thumbsView:this.props.thumbsView,onAddComment:this._addComment,pageUpgradeComponent:k.default,projectId:m.default.infographicId}))))}},{key:"componentDidUpdate",value:function(e,t){t.currentSelection!==this.state.currentSelection&&this.props.notifySelectionChange(this.state.projectId,K(this.state.currentSelection.getEntities()).concat(K(this.state.currentSelection.getBlocks())))}},{key:"componentDidMount",value:function(){var e=this,t=function(e){var t=document.body.clientWidth;t-=410;var n=e.getPageSize().width;return n<=t?1:t/n}(this.state.editorState);t<1&&requestAnimationFrame((function(){return e.props.onScale(t)}))}},{key:"_updateMousePositionWithChecks",value:function(e,t){var n=this;this.state.mousePositionUpdatesEnabled&&(this.props.commenting?requestAnimationFrame((function(){return n.props.updateMousePosition(e,t)})):this.throttledUpdateMousePosition(e,t))}},{key:"_addComment",value:function(e,t,n){this.props.commentingTriggerUpgrade?(window.app.router.saveLocation(),window.app.router.navigate("//upgrade/commenting",{promote:{from:"commenting"}})):(n.isZoomLayout=this.state.isZoomLayout,this.props.onAddComment(e,t,n))}}])&&A(t.prototype,n),r&&A(t,r),u}(a.a.Component),W=G=V,J="propTypes",Q={connectDropTarget:c.a.func.isRequired,footerSettings:c.a.shape({backgroundColor:c.a.string,backgroundOpacity:c.a.number.isRequired,bold:c.a.bool,footerLayout:c.a.string,footnoteType:c.a.string,footnoteText:c.a.string,footnoteStyle:c.a.shape({bold:c.a.bool,italic:c.a.bool,fontSize:c.a.number,color:c.a.string}),italic:c.a.bool,logoType:c.a.string,logoImage:c.a.string,logoName:c.a.string,footerLink:c.a.string}),guideSettings:c.a.shape({showGuides:c.a.bool.isRequired,snapObjects:c.a.bool.isRequired,whitespacePercent:c.a.number.isRequired,columnCount:c.a.number.isRequired,rowSpacing:c.a.number.isRequired}),notifySelectionChange:c.a.func.isRequired,updateMousePosition:c.a.func.isRequired,onAddComment:c.a.func.isRequired,onMoveComment:c.a.func.isRequired,onCommentPositionChanged:c.a.func.isRequired,onToggleComment:c.a.func.isRequired,onCloseSidebar:c.a.func.isRequired,commenting:c.a.bool.isRequired,commentingIsAvailable:c.a.bool.isRequired,commentingTriggerUpgrade:c.a.bool.isRequired,comments:s.a.list,scroll:c.a.object,thumbsView:c.a.bool,onScale:c.a.func.isRequired,onToggleCallout:c.a.func.isRequired,elementsOutsideBlockVisible:c.a.bool,onToggleElementsOutsideBlockVisible:c.a.func.isRequired,openDialog:c.a.func.isRequired},J in W?Object.defineProperty(W,J,{value:Q,enumerable:!0,configurable:!0,writable:!0}):W[J]=Q,G);$=Z([Object(f.DropTarget)("ELEMENT_MENU_ITEM",{drop:function(e,t){return t.getClientOffset()}},(function(e){return{connectDropTarget:e.dropTarget()}})),Object(z.withDialogs)(),Object(p.connect)((function(e){var t=e.get("conversations"),n=e.get("zoomPosition"),r=n.staticPagePositionX,o=n.staticPagePositionY,i=n.pagePositionX,a=n.pagePositionY,u=e.get("flexEditorGrid"),c=u.whitespacePercent,l=u.columnCount,s=u.rowSpacing,f=e.get("localProjectSettings"),p=f.showGuides,d=f.snapObjects,h=f.elementsOutsideBlockVisible;return{footerSettings:e.get("footerSettings"),guideSettings:{showGuides:p,snapObjects:d,whitespacePercent:c,columnCount:l,rowSpacing:s},commenting:t.commenting,commentingIsAvailable:t.commentingEnabled||t.triggerUpgrade,commentingTriggerUpgrade:t.triggerUpgrade,comments:t.comments,thumbsView:e.getIn(["editorZoom","thumbsView"]),staticPagePositionX:r,staticPagePositionY:o,pagePositionX:i,pagePositionY:a,elementsOutsideBlockVisible:h}}),(function(e){return{notifySelectionChange:function(t,n){e({type:E.FLEX_EDITOR_SELECTION_CHANGED,payload:{projectId:t,selection:n}})},updateMousePosition:function(t,n){e({type:E.MOUSE_MOVE,payload:{x:t,y:n}})},onAddComment:function(t,n,r){e(Object(x.default)(t,n,r))},onMoveComment:function(t,n){e(Object(j.default)(t,n))},onCommentPositionChanged:function(t){e(Object(R.saveCommentPosition)(t))},onToggleComment:function(t){e({type:P.CONVERSATIONS_TOGGLE_MARKER,payload:{key:t.key}})},onCloseSidebar:function(){e({type:Object(b.getType)(D.closeSidebar)})},onScale:function(t){e({type:w.EDITOR_SCALE,payload:{scale:t}})},onToggleCallout:function(t){e({type:C.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})},saveEditorPosition:function(){e({type:w.EDITOR_STATIC_POSITION})},updateEditorPosition:function(t,n){e({type:w.EDITOR_POSITION,payload:{pagePosition:{x:t,y:n}}})},onToggleElementsOutsideBlockVisible:function(){e({type:w.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:m.default.infographicId})}}}),null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("footerSettings")===t.get("footerSettings")&&e.get("flexEditorGrid")===t.get("flexEditorGrid")&&e.get("localProjectSettings")===t.get("localProjectSettings")&&e.get("editorZoom")===t.get("editorZoom")&&e.get("zoomPosition")===t.get("zoomPosition")}}),Object(O.default)({withProps:!0}),F("design:type",Function),F("design:paramtypes",[void 0])],$)},"I/LR":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfirmationNotification",(function(){return x}));var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("USB3");function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(){var e=l(["\n    width: 370px;\n    color: ",";\n    font-size: 11px;\n    line-height: 1.5;\n    background: ",";\n    border-radius: 4px;\n    box-shadow: ",";\n    overflow: hidden;\n    display: flex;\n"]);return s=function(){return e},e}function f(){var e=l(["\n    width: 50px;\n    flex: 0 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return f=function(){return e},e}function p(){var e=l(["\n    flex: 1 1 auto;\n    padding: 15px 12px 15px 0;\n    border-right: solid 2px ",";\n    display: flex;\n"]);return p=function(){return e},e}function d(){var e=l(["\n    flex: 0 0 auto;\n    width: 70px;\n    display: flex;\n    flex-direction: column;\n"]);return d=function(){return e},e}function h(){var e=l(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: background ease-in-out 0.25s;\n    cursor: pointer;\n\n    &:hover {\n        background: ",";\n    }\n"]);return h=function(){return e},e}function b(){var e=l(["\n    flex: 1 1 auto;\n    border-top: solid 2px ",";\n"]);return b=function(){return e},e}function g(){var e=l(["\n    flex: 1 1 auto;\n"]);return g=function(){return e},e}var y=i.default.div(s(),a.default.white,a.default.neutral600,a.default.shadow.hover),v=i.default.div(f()),m=i.default.div(p(),a.default.white),O=i.default.div(d()),w=i.default.div(h(),a.default.neutral400),E=Object(i.default)(w)(b(),a.default.white),_=Object(i.default)(w)(g()),x=function(e){var t=e.icon,n=e.info,i=e.confirmLabel,a=e.dismissLabel,u=e.onConfirm,l=c(Object(r.useState)(!1),2),s=l[0],f=l[1];return s?null:o.a.createElement(y,null,o.a.createElement(v,null,t),o.a.createElement(m,null,n),o.a.createElement(O,null,o.a.createElement(_,{onClick:function(){return f(!0)}},a),o.a.createElement(E,{onClick:u},i)))}},I3ee:function(e,t,n){"use strict";n.r(t),n.d(t,"BrandkitIcon",(function(){return i}));var r=n("q1tI"),o=n.n(r),i=function(e){var t=e.width,n=void 0===t?24:t,r=e.height,i=void 0===r?24:r;return(o.a.createElement("svg",{width:n,height:i,viewBox:"0 0 16 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.21 14.18l5.13-3.37a1 1 0 00.45-.835V4.789a1 1 0 00-.52-.877l-5.104-2.79a1 1 0 00-.96 0l-5.103 2.79a1 1 0 00-.52.877v5.516a1 1 0 00.487.858l5.078 3.038a1 1 0 001.063-.022zm-.25-4.225a.5.5 0 00-.547 0l-1.349.88a.5.5 0 01-.761-.525l.384-1.777a.5.5 0 00-.148-.47L3.23 6.835a.5.5 0 01.295-.863l1.655-.151a.5.5 0 00.42-.316l.622-1.585a.5.5 0 01.93 0l.623 1.585a.5.5 0 00.42.316l1.654.151a.5.5 0 01.296.863l-1.31 1.226a.5.5 0 00-.148.471l.384 1.777a.5.5 0 01-.762.524L6.96 9.955zM13.8 11.11l-5.441 3.36 1.305 2.062 5.441-3.358a.996.996 0 00.324-1.383l-.229-.362a1.023 1.023 0 00-1.4-.318zm-6.242 3.832l-.871 2.06h2.122l-1.251-2.06z",fill:"#fff"})))}},JwJ8:function(e,t,n){"use strict";n.r(t),n.d(t,"HelpButton",(function(){return I})),n.d(t,"default",(function(){return A}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("vOnD"),u=n("/MKj"),c=n("VuSB"),l=n("12ou"),s=n("dwEA"),f=n("aXXi"),p=n("USB3"),d=n("ySsV");function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var w=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function E(){var e=v(["\n    background-color: #434343;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    color: #ffffff;\n    font-size: 11px;\n    font-weight: 500;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n\n    ","\n"]);return E=function(){return e},e}function _(){var e=v(["\n    min-width: 180px;\n    background-color: #2d2d2d;\n    border-radius: 4px;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    cursor: default;\n\n    ","\n"]);return _=function(){return e},e}function x(){var e=v(["\n    cursor: help;\n    float: right;\n    margin-top: 2px;\n    font-size: 11px;\n    min-height: 16px;\n    padding-right: 25px;\n    background-image: url(",");\n    background-position: center right;\n    background-size: 16px;\n    background-repeat: no-repeat;\n    display: flex;\n    align-items: center;\n    color: #fff;\n\n    ","\n"]);return x=function(){return e},e}function j(){var e=v(["\n    padding-bottom: 10px;\n    font-size: 11px;\n"]);return j=function(){return e},e}function R(){var e=v(["\n    padding: 0 10px;\n\n    ","\n"]);return R=function(){return e},e}function P(){var e=v(["\n    padding-top: 8px;\n\n    ","\n"]);return P=function(){return e},e}function S(){var e=v(["\n    float: right;\n"]);return S=function(){return e},e}var k=[{id:"guides",text:r.default.t("app.freelayout_editor.layout.type.guides"),statusText:"",icon:"url(".concat(n("8LcJ"),")")},{id:"grid",text:r.default.t("app.freelayout_editor.layout.type.grid"),statusText:"",icon:"url(".concat(n("HYMN"),")")}],C=a.default.div(E(),(function(e){return e.theme.id===p.default.id&&"\n        font-family: ".concat(p.default.fonts.ralewayBold,";\n        background-color: ").concat(p.default.neutral60,";\n        color: ").concat(p.default.neutral600,";\n    ")})),T=a.default.div(_(),(function(e){return e.theme.id===p.default.id&&"\n        background-color: ".concat(p.default.white,";\n        box-shadow: ").concat(p.default.shadow.default,";\n    ")})),I=a.default.span(x(),n("ys+c"),(function(e){return e.theme.id===p.default.id&&"\n        font-family: inherit;\n        background-image: url(".concat(n("k7Pb"),");\n        color: rgba(55, 64, 80, 0.4);\n    ")})),z=a.default.div(j()),D=a.default.div(R(),(function(e){return e.disabled&&"\n        pointer-events: none;\n        opacity: 0.5;\n    "})),L=a.default.div(P(),(function(e){return e.theme.id===p.default.id&&"\n        font-family: ".concat(p.default.fonts.ralewayBold,";\n    ")})),M=a.default.span(S()),A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,e);var t=O(n);function n(){return h(this,n),t.apply(this,arguments)}return n.prototype.render=function(){return i.a.createElement(T,null,i.a.createElement(C,null,r.default.t("app.freelayout_editor.grid.popupTitle")),i.a.createElement(z,null,i.a.createElement(l.default,{selected:this.props.selected,items:k,onClick:this.props.switch}),!this.props.isZoomLayout&&i.a.createElement(D,{disabled:!this.props.showGuides},i.a.createElement(L,null,r.default.t("app.freelayout_editor.layout.whitespaceSlider2"),i.a.createElement(M,null,2*this.props.whitespacePercent)),i.a.createElement(c.default,{min:0,max:6,value:this.props.whitespacePercent,onChange:this.props.setWhitespacePercent}),i.a.createElement(L,null,r.default.t("app.freelayout_editor.layout.columnSlider2"),i.a.createElement(M,null,this.props.columnCount)),i.a.createElement(c.default,{min:1,max:12,value:this.props.columnCount,onChange:this.props.setColumnCount})),i.a.createElement(s.default,null,r.default.t("app.freelayout_editor.grid.shortcut"))))},n}(o.PureComponent);A=w([Object(u.connect)((function(e){var t=e.get("localProjectSettings"),n=e.get("flexEditorGrid");return{selected:k[t.showGuides?1:0],whitespacePercent:n.whitespacePercent,columnCount:n.columnCount,showGuides:t.showGuides}}),(function(e){return{switch:function(){e({type:f.FLEX_EDITOR_TOGGLE_GRID_AND_GUIDES,payload:{projectId:d.default.infographicId}})},setWhitespacePercent:function(t){e({type:f.FLEX_EDITOR_GRID_SET_WHITESPACE_PERCENT,payload:Math.round(2*t)/2})},setColumnCount:function(t){e({type:f.FLEX_EDITOR_GRID_SET_COLUMN_COUNT,payload:Math.round(t)})}}}))],A)},KJEt:function(e,t,n){var r=n("tE8V");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},KoyB:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("pWQL"),o=n("KqOx"),i=n("lUqP"),a=n("EKef");function u(e){switch(e.getTypeMod()){case r.MAP:var t,n,u;if(null===(t=e.get("custom"))||void 0===t?void 0:null===(n=t.map_json)||void 0===n?void 0:n.disableZoom)return;return{component:o.default,props:{chartId:e.id,hasMultipleSheets:null!==(u=e.get("data").length>1)&&void 0!==u&&u}};case r.FACTS_AND_FIGURES_V2:return{component:i.default,props:{chartId:e.id,entity:a.default.editorState.getEntity(e.id)}}}}},L7g7:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3RlZyoFq8cVDAlWG1Sw_kg {\n    position: absolute;\n    top: -30px;\n    right: -30px;\n    bottom: -30px;\n    left: -30px;\n}\n\n._3gXkVFyF4sqO8qbVoF94w3 {\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n}\n\n._1BZIFp5hXUEWExNBdUJ9X0 {\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    padding: 3px;\n}\n\n._1UP3fhANfTxN0p3PTRxaUv {\n    pointer-events: auto;\n    position: absolute;\n}\n\n.JobBQiwGqcOI6IQgJAZxP {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0px;\n    bottom: 0px;\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n._2HwFDLuGWzO6CqrKkvkufK {\n    top: 22px;\n    right: 22px;\n}\n\n._2bY6bQQr7zN5JZy7Dptb1E {\n    bottom: 22px;\n    right: 22px;\n}\n\n._1URne1OECr2LNWwkVDV_RI {\n    bottom: 22px;\n    left: 22px;\n}\n\n._17Sum2bPk_4yUpBBPSUqq9 {\n    top: 22px;\n    left: 22px;\n}\n\n._13eq5M1ngWKc96cPdiPj3a {\n    top: 22px;\n    left: calc(50% - 8px);\n}\n\n.eyWKfy-g7yzv2hk2A4h24,\n._1-28k5q9Bj-G-tx0-8_WuF {\n    top: calc(50% - 8px);\n    left: 22px;\n}\n\n._22ez5hpRDc1gA9_j3-NvKO {\n    bottom: 22px;\n    left: calc(50% - 8px);\n}\n\n._13oA2Cf__9Bc1PhlwGQSME,\n._22tWNUCFbDdKHwX5bBN2r6 {\n    right: 22px;\n    top: calc(50% - 8px);\n}\n\n.sjgFRLhVr_2Zy8vYtfcCA {\n    top: calc(50% - 7px);\n    left: 23px;\n}\n\n._1tVw9zDNweqixeFpQYHrf4 {\n    top: calc(50% - 7px);\n    right: 23px;\n}\n\n.RtSgSBxPJBfeI5YGT_Uan {\n    top: -19px;\n    right: -1px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    position: absolute;\n    color: white;\n    white-space: nowrap;\n    padding: 3px;\n    font-size: 12px;\n}\n",""]),t.locals={selector:"_3RlZyoFq8cVDAlWG1Sw_kg",border:"_3gXkVFyF4sqO8qbVoF94w3",resizeHandle:"_1BZIFp5hXUEWExNBdUJ9X0",lineResizeHandle:"_1UP3fhANfTxN0p3PTRxaUv",rotationIcon:"JobBQiwGqcOI6IQgJAZxP",ne:"_2HwFDLuGWzO6CqrKkvkufK",se:"_2bY6bQQr7zN5JZy7Dptb1E",sw:"_1URne1OECr2LNWwkVDV_RI",nw:"_17Sum2bPk_4yUpBBPSUqq9",n:"_13eq5M1ngWKc96cPdiPj3a",w:"eyWKfy-g7yzv2hk2A4h24",right:"_1-28k5q9Bj-G-tx0-8_WuF",s:"_22ez5hpRDc1gA9_j3-NvKO",e:"_13oA2Cf__9Bc1PhlwGQSME",left:"_22tWNUCFbDdKHwX5bBN2r6",begin:"sjgFRLhVr_2Zy8vYtfcCA",end:"_1tVw9zDNweqixeFpQYHrf4",username:"RtSgSBxPJBfeI5YGT_Uan"}},L91u:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n("q1tI"),o=n.n(r),i=n("i8i4"),a=n.n(i),u=n("17x9"),c=n.n(u),l=n("TSYQ"),s=n.n(l),f=n("/MKj"),p=n("t/UT"),d=n("rQKZ"),h=n("ySsV"),b=n("34VB"),g=n("9EZc"),y=n("4aXp"),v=n("db09"),m=n("wnN6"),O=n("JXSR"),w=n("HIZu"),E=n("dGoc"),_=n.n(E),x=n("GlmT");function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}var I,z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},D=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},L=function(e,t,n,r){return n.renderItemContentsFn||(n.renderItemContentsFn=y.default),n.readOnly=!0,n.design=t,Object(y.default)(e,t,n,r)},M=(I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(u,e);var t,n,r,i=T(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,e)).state={containerViewportWidth:void 0},t.contents=o.a.createRef(),t}return t=u,r=[{key:"getStores",value:function(){return[h.default]}},{key:"calculateState",value:function(){return{isZoomLayout:h.default.isZoomLayout}}}],(n=[{key:"componentDidMount",value:function(){if(!this.scroller&&this.contents.current&&(this.scroller=new p.default(this.contents.current)),this.state.isZoomLayout){var e=this.contents.current.offsetWidth-110;this.setState({containerViewportWidth:e})}this.props.requestLiveDataRefresh()}},{key:"componentWillUnmount",value:function(){this.scroller&&this.scroller.destroy()}},{key:"render",value:function(){var e,t,n=this.props,r=n.editorState,i=n.zoom,u=n.userHasAccess;return this.state.isZoomLayout?o.a.createElement("div",{className:s()(_.a.contents,R({},_.a.contentsPaywall,!u)),ref:this.contents},o.a.createElement(A,{editorState:r,viewportWidth:this.state.containerViewportWidth,zoom:i},o.a.createElement(b.default,{editorState:r,renderItemContentsFn:L,blockWrapperComponent:g.default,scaleX:i,scaleY:i,readOnly:!0,scroll:this.scroller,blockOverlayComponent:v.default}))):o.a.createElement("div",{className:s()(_.a.contents,R({},_.a.contentsPaywall,!u)),ref:this.contents},o.a.createElement(b.default,{editorState:r,renderItemContentsFn:L,blockWrapperComponent:g.default,scaleX:i,scaleY:i,readOnly:!0,scroll:this.scroller,blockOverlayComponent:v.default}),a.a.createPortal(o.a.createElement(w.default,{style:null===(e=h.default.model.get("theme"))||void 0===e?void 0:null===(t=e.charts)||void 0===t?void 0:t.tooltip}),document.getElementById("tooltip-container")))}}])&&j(t.prototype,n),r&&j(t,r),u}(r.Component),R(I,"propTypes",{userHasAccess:c.a.bool.isRequired,editorState:c.a.object,zoom:c.a.number,requestLiveDataRefresh:c.a.func.isRequired}),I);M=z([Object(f.connect)((function(e){return{editorState:e.getIn(["revisions","editorState"]),zoom:e.getIn(["editorZoom","zoom"])}}),(function(e){return{requestLiveDataRefresh:function(){e({type:x.LOAD_LIVE_DATA_ONCE})}}})),Object(d.default)(),D("design:type",Function),D("design:paramtypes",[void 0])],M);var A=function(e){var t=e.viewportWidth,n=e.editorState,r=e.zoom,i=(n=Object(m.adjustEditorForZoom)(n)).getCurrentContent().getBlocks().first().key,a=(n=Object(O.default)(n,i,"hideFooter",!0)).getPageSize().width;return r=Object(m.calculateZoom)(a,t),o.a.Children.map(e.children,(function(e){return o.a.cloneElement(e,{editorState:n,scaleX:r,scaleY:r})}))}},Lgib:function(e,t,n){var r=n("R8DA");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},LvMK:function(e,t,n){e.exports=n.p+"21d4bbb4ab03247880f1335ae0d353a9.svg"},M3jb:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("XzT5"),u=n("/MKj"),c=n("17x9"),l=n.n(c),s=n("wwPv"),f=n("fRwP"),p=n("AQvS"),d=n("sXZY"),h=n("9+8+"),b=n("cN4A"),g=n("oN28"),y=n("aFOO"),v=n("kxzZ"),m=n("h7h9"),O=n("vFyM"),w=n("dyKX");function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?E(e):t}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var C=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var I,z=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function D(){var e=k(["\n    width: 60px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    margin: auto;\n"]);return D=function(){return e},e}function L(){var e=k(["\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n"]);return L=function(){return e},e}function M(){var e=k(["\n    flex-grow: 1;\n    position: relative;\n"]);return M=function(){return e},e}function A(){var e=k(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 30px;\n"]);return A=function(){return e},e}function q(){var e=k(["\n    display: block;\n    position: relative;\n    margin: 10px;\n"]);return q=function(){return e},e}function N(){var e=k(["\n    font-size: 11px;\n    line-height: 26px;\n"]);return N=function(){return e},e}var B=i.default.img(D()),U=i.default.div(L()),Y=i.default.div(M()),K=i.default.div(A()),X=i.default.div(q()),H=i.default.div(N()),G=(I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(u,e);var t,n,r,i=T(u);function u(){var e;return _(this,u),j(E(e=i.apply(this,arguments)),"onChangeOpacity",(function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,i=n.rowNumber,a=n.setProperty,u=m.default.getEntity(o).chart,c=u.get("data");c[r][i][2].opacity=t/100,u.set("data",c),a("opacity",t/100),Object(v.updateChart)(u)})),j(E(e),"onChangeLink",(function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,i=n.rowNumber,a=n.setProperty,u=m.default.getEntity(o).chart,c=u.get("data");c[r][i][2].link=t,u.set("data",c),a("link",t),Object(v.updateChart)(u)})),j(E(e),"onChangeTooltip",(function(t){var n=t.target.value,r=e.props,o=r.sheetIndex,i=r.chartId,a=r.rowNumber,u=r.setProperty,c=m.default.getEntity(i).chart,l=c.get("data");l[o][a][2].tooltip=n,c.set("data",l),u("tooltip",n),Object(v.updateChart)(c)})),j(E(e),"onChangeIcon",(function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,i=n.rowNumber,a=n.setIcon,u=m.default.getEntity(o).chart,c=u.get("data");c[r][i][2].name=t.value,u.set("data",c),a(t.value),Object(v.updateChart)(u)})),j(E(e),"onChangeColor",(function(t){var n=e.props,r=n.sheetIndex,o=n.chartId,i=n.rowNumber,a=n.setProperty,u=m.default.getEntity(o).chart,c=u.get("data");c[r][i][2].color=t.displayValue,u.set("data",c),a("color",t.displayValue),Object(v.updateChart)(u)})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.path,n=e.transform,r=e.opacity,i=e.tooltip,u=e.link,c=e.color,l=e.fillRule,v=o.a.createElement(B,{src:'data:image/svg+xml;utf8,\n                    <svg\n                        width="'.concat(32,'"\n                        height="').concat(32,'"\n                        version="1.1"\n                        xmlns="http://www.w3.org/2000/svg"\n                        viewBox="0 0 ').concat(32," ").concat(32,'"\n                    >\n                        <path d="').concat(t,'" fill="rgb(0,0,0)" transform="').concat(n,'" fill-rule=').concat(l,"/>\n                    </svg>\n                "),alt:a.default.t("inspector.responsive.graphics.graphic_preview")});return o.a.createElement(U,null,o.a.createElement(f.default,{title:a.default.t("app.chart_settings.change_icon")}),o.a.createElement(Y,null,o.a.createElement(K,null,o.a.createElement(y.default,{height:"100%"},o.a.createElement(s.default,{activeGraphicThumbnail:v,graphicType:"svg-icon",onChange:this.onChangeIcon}),o.a.createElement(p.default,null),o.a.createElement(X,null,o.a.createElement(H,null,a.default.t("inspector.free.entity.opacity")),o.a.createElement(d.default,{min:0,max:100,value:100*r,onChange:this.onChangeOpacity,formatDecimals:0,default:0})),o.a.createElement(p.default,null),o.a.createElement(X,null,o.a.createElement(g.default,{activeColor:c,onChange:this.onChangeColor,name:a.default.t("inspector.free.color_fill")})),o.a.createElement(p.default,null),o.a.createElement(X,null,o.a.createElement(h.default,{customInputCss:"\n                                        height: 30px;\n                                        font-size: 13px;\n                                    ",customLabelCss:"line-height: 26px;",name:name,label:a.default.t("inspector.responsive.graphics.tooltip"),value:i,onChange:this.onChangeTooltip,onBlur:this.onChangeTooltip})),o.a.createElement(b.default,{link:u,onChange:this.onChangeLink})))))}}])&&x(t.prototype,n),r&&x(t,r),u}(r.PureComponent),j(I,"propTypes",{path:l.a.string,transform:l.a.string,opacity:l.a.number,tooltip:l.a.string,link:l.a.string,color:l.a.string,chart:l.a.object,sheetIndex:l.a.number,rowNumber:l.a.number,setIcon:l.a.func.isRequired,setProperty:l.a.func.isRequired,chartId:l.a.any,fillRule:l.a.string.isRequired}),I);G=z([Object(u.connect)((function(e){var t=e.get("chartEditor");return{path:t.path,transform:t.transform,opacity:t.opacity,tooltip:t.tooltip,link:t.link,color:t.color,chart:t.chart,sheetIndex:t.sheetIndex,rowNumber:t.rowStart,chartId:O.default.chartId}}),(function(e){return{setProperty:function(t,n){e({type:w.FACTS_AND_FIGURES_SET_ICON_PROPERTY,payload:{name:t,value:n}})},setIcon:function(t){e({type:w.FACTS_AND_FIGURES_SET_ICON,payload:{icon:t}})}}}))],G)},M5lW:function(e,t,n){e.exports=n.p+"ca522a1d9bbb4feae4910ac8893b0d8c.svg"},MIJD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("rQKZ"),f=n("sPuu"),p=n("vmwM"),d=n("hl5+"),h=n("/QJz"),b=n("W0Zp"),g=n("xVW7"),y=n("X7Jj"),v=n("30eB"),m=n.n(v);function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?O(e):t}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var k,C=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function T(){var e,t,n=(e=["\n    width: 100%;\n    height: 100%;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return T=function(){return n},n}var I=l.default.div(T()),z=(k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,r,i=S(a);function a(){var e;return w(this,a),_(O(e=i.apply(this,arguments)),"state",{hovered:!1}),_(O(e),"_hover",(function(){!e.state.hovered&&e.setState({hovered:!0})})),_(O(e),"_unhover",(function(){e.state.hovered&&e.setState({hovered:!1})})),_(O(e),"_handleMouseDown",(function(t){e.props.onMouseDown&&e.props.onMouseDown(e.props.entity,t)})),_(O(e),"_handleMouseUp",(function(t){e.props.onMouseUp&&e.props.onMouseUp(e.props.entity,t)})),e}return t=a,r=[{key:"getStores",value:function(){return[p.default,g.default]}},{key:"calculateState",value:function(e,t){return{clipping:p.default.activeEntityKey===t.entity.getKey()?p.default.activeType:null,resizing:g.default.resizing,dragging:g.default.dragging}}}],(n=[{key:"render",value:function(){var e,t=this.props,n=t.design,r=t.assets,i=t.entity,a=t.scaleX,u=t.scaleY,c=t.selected,l=this.state,s=l.clipping,p=l.resizing,g=l.dragging,v=Object(f.default)(i,n,{scaleX:a,scaleY:u,rotate:0,resizeOnInit:!0},{readOnly:!1,inEditMode:!0,assets:r}),O=i.getProperty("crop"),w=i.getProperty("mask"),E=s?i:i.bounds(),_={left:E.left*a,top:E.top*u,width:E.width*a,height:E.height*u,zIndex:s?2:1};if(s===d.IMAGE_CROP?e=o.a.createElement(h.default,{entity:i,scaleX:a,scaleY:u}):s===d.IMAGE_MASK&&(e=o.a.createElement(b.default,{entity:i,scaleX:a,scaleY:u})),s&&O){var x=O.get("left")+(100-O.get("left")-O.get("right"))/2,j=O.get("top")+(100-O.get("top")-O.get("bottom"))/2;_.transformOrigin="".concat(x,"% ").concat(j,"%")}else if(s&&w){var R=100*w.get("center").get("left"),P=100*w.get("center").get("top");_.transformOrigin="".concat(R,"% ").concat(P,"%")}return e?o.a.createElement("div",{className:m.a.calloutEditItem,style:_},e):o.a.createElement("div",{className:m.a.calloutEditItem,style:_},o.a.createElement(I,{onMouseMove:this._hover,onMouseLeave:this._unhover,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},v),(c||this.state.hovered)&&o.a.createElement(y.default,{entity:i,width:_.width,height:_.height,selected:c,dragging:g,resizing:p,hovered:this.state.hovered}))}}])&&E(t.prototype,n),r&&E(t,r),a}(r.Component),_(k,"propTypes",{entity:c.a.record.isRequired,design:c.a.map.isRequired,assets:a.a.shape({getURL:a.a.func.isRequired}),scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,selected:a.a.bool,onMouseDown:a.a.func.isRequired,onMouseUp:a.a.func.isRequired}),k);z=C([Object(s.default)({withProps:!0})],z)},MYRr:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Lgib"),s=n.n(l);function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?f(e):t}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var O={n:c()(s.a.sideHandle,s.a.n,h({},s.a.prezigram,!1)),ne:c()(s.a.cornerHandle,s.a.ne,h({},s.a.prezigram,!1)),e:c()(s.a.sideHandle,s.a.e,h({},s.a.prezigram,!1)),se:c()(s.a.cornerHandle,s.a.se,h({},s.a.prezigram,!1)),s:c()(s.a.sideHandle,s.a.s,h({},s.a.prezigram,!1)),sw:c()(s.a.cornerHandle,s.a.sw,h({},s.a.prezigram,!1)),w:c()(s.a.sideHandle,s.a.w,h({},s.a.prezigram,!1)),nw:c()(s.a.cornerHandle,s.a.nw,h({},s.a.prezigram,!1))},w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,i,a=m(u);function u(){var e;return p(this,u),h(f(e=a.apply(this,arguments)),"state",{selectedOrigin:void 0}),h(f(e),"_refHandler",(function(t){if(t){var n=t.getAttribute("data-origin");e._assignHandler(t,n)}})),h(f(e),"_assignHandler",(function(t,n){(Object.keys(O).indexOf(n)%2?e.props.handlers.resize:e.props.handlers.resizeSide)(t,n)})),h(f(e),"_selectOrigin",(function(t){var n=t.target.getAttribute("data-origin");e.setState({selectedOrigin:n})})),h(f(e),"_resetSelectedOrigin",(function(){e.setState({selectedOrigin:void 0})})),e}return t=u,(n=[{key:"componentWillUnmount",value:function(){var e=this;Object.keys(O).forEach((function(t){return e._assignHandler(void 0,t)}))}},{key:"componentDidUpdate",value:function(e){e.resizing&&!this.props.resizing&&this.state.selectedOrigin&&this._resetSelectedOrigin()}},{key:"render",value:function(){var e=this,t=Object.keys(O).filter((function(t){return(e.props.withHorizontalResize||-1===["w","e"].indexOf(t))&&(e.props.withVerticalResize||-1===["n","s"].indexOf(t))}));return o.a.createElement(r.Fragment,null,t.map((function(t){return o.a.createElement("div",{key:t,"data-origin":t,className:c()(O[t],h({},s.a.selected,t===e.state.selectedOrigin)),ref:e._refHandler,onMouseDown:e._selectOrigin,onMouseUp:e._resetSelectedOrigin})})))}}])&&d(t.prototype,n),i&&d(t,i),u}(r.PureComponent);h(w,"propTypes",{handlers:a.a.shape({resize:a.a.func.isRequired,resizeSide:a.a.func.isRequired}).isRequired,withHorizontalResize:a.a.bool,withVerticalResize:a.a.bool,resizing:a.a.bool}),h(w,"defaultProps",{withHorizontalResize:!0,withVerticalResize:!0})},MeCa:function(e,t,n){"use strict";n.r(t);var r=n("qyGc");n.d(t,"default",(function(){return r.default}))},Muuz:function(e,t,n){"use strict";n.r(t),n.d(t,"EditButton",(function(){return l}));var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("XzT5");function u(){var e,t,n=(e=["\n    display: flex;\n    opacity: 0.8;\n    transition: ease-out opacity 0.25s;\n    cursor: pointer;\n\n    &:hover {\n        opacity: 0.6;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return u=function(){return n},n}var c=i.default.div(u()),l=function(e){var t=a.default.t("tooltips.upload_your_logo");return o.a.createElement(c,{onClick:function(t){t.preventDefault(),e.onClick()},"data-tooltip":t,"data-tooltip-position":"right"},o.a.createElement("img",{src:n("r1UO"),"data-tooltip-child":t}))};t.default=l},Mzex:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Ge}));var r=n("q1tI"),o=n.n(r),i=n("i8i4"),a=n.n(i),u=n("/MKj"),c=n("TSYQ"),l=n.n(c),s=n("LvDl"),f=n.n(s),p=n("vOnD"),d=n("17x9"),h=n.n(d),b=n("M39V"),g=n.n(b),y=n("Pp7T"),v=n.n(y),m=n("WjrG"),O=n("rQKZ"),w=n("lc1c"),E=n("EKef"),_=n("ySsV"),x=n("XSDi"),j=n("e0gr"),R=n("l2A/"),P=n("e322"),S=n("kwfw"),k=n("U3Rh"),C=n("Dc/X"),T=n("c4R5"),I=n("hKtE"),z=n("luIk"),D=n("47mp"),L=n("Hejo"),M=n("sPuu"),A=n("KZTM"),q=n("RZ7o"),N=n("Z+h/"),B=n("vly6"),U=n("T9bt"),Y=n("Q4CN"),K=n("wZCM"),X=n("/80h"),H=(n("uwfs"),n("iHrC")),G=n("USB3"),Z=n("/cUP"),F=n("pbbw"),V=n("hl5+"),W=n("xZ3h"),J=n("zQPj"),Q=n("+mTV"),$=n("HIZu"),ee=n("Lobp"),te=n.n(ee),ne=n("DszW"),re=n("fdVG"),oe=n("Ar8A"),ie=n("+klh"),ae=n("DvT9"),ue=n("xVW7"),ce=n("G5AB"),le=n("Sye6"),se=n("QlFE"),fe=n("YNSi"),pe=n("TJ0u"),de=n("BnKp"),he=(n("VYD4"),n("amct")),be=n("GlmT"),ge=n("ZjvY"),ye=n("yMTd"),ve=n("1NYy"),me=(n("fDNJ"),n("BWw/"),n("iAio"));function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function Re(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?we(e):t}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Ce=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xe(e);if(t){var o=xe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Re(this,n)}}var Ie,ze=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},De=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function Le(){var e=ke(["\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    bottom: 0px;\n    text-rendering: optimizeLegibility !important;\n\n    ","\n\n    ","\n\n    ","\n"]);return Le=function(){return e},e}function Me(){var e=ke(["\n    ","\n"]);return Me=function(){return e},e}function Ae(){var e=ke(["\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: #434343;\n    z-index: 10000;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return Ae=function(){return e},e}var qe=["wheel","gesturechange","gesturestart"],Ne=g.a.getParser(window.navigator.userAgent).satisfies(_e({},g.a.BROWSER_MAP.ie,"<=11")),Be=p.default.div.attrs((function(e){var t=e.$presenterNotesOffset;return{style:{paddingTop:"".concat(t,"px")}}}))(Le(),Ne&&"\n        position: relative;\n        left: -50px;\n        right: unset;\n    ",(function(e){return e.theme.id===G.default.id?"\n        background: ".concat(G.default.neutral60,";\n        top: 60px;\n    "):""}),(function(e){return e.isZoomLayout&&"\n        overflow: hidden;\n        padding: 0;\n    "})),Ue=p.default.div(Me(),(function(e){return e.isZoomLayout&&"\n        position: relative;\n        width: 100%;\n        height: 100%;\n    "})),Ye=p.default.div(Ae());function Ke(e,t,n){n.addEventListener(e,t,!re.optionsSupported||{capture:!0,passive:!1})}function Xe(e,t,n){n.removeEventListener(e,t,!re.optionsSupported||{capture:!0,passive:!1})}var He=function(e,t,n,r){return n.renderItemContentsFn||(n.renderItemContentsFn=He),"CHART"===e.getType()?Object(M.default)(e,t,je(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_e(e,t,n[t])}))}return e}({},n),{viewMode:"edit"}),r):Object(M.default)(e,t,n,r)},Ge=(Ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(u,e);var t,n,r,i=Te(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),_e(we(t=i.call(this,e)),"_onMouseMove",(function(e){t.state.isZoomLayout&&t._editorElement&&t._throttledUpdateMousePosition(e.clientX-t._editorElement.offsetLeft,e.clientY-t._editorElement.offsetTop)})),_e(we(t),"_throttledUpdateMousePosition",f.a.throttle((function(e,n){t.setState({mousePositionX:e,mousePositionY:n})}),100)),_e(we(t),"_handleGesture",(function(e){var n=t.props,r=n.zoom,o=n.zoomChange,i=n.staticPagePositionX,a=n.staticPagePositionY,u=n.onZoomPosition,c=n.onScale,l=t.state.isZoomLayout;Object(ge.default)({event:e,zoom:r*o,isZoomLayout:l,staticPagePositionX:i,staticPagePositionY:a,onZoomPosition:u,onScale:c,contentBounds:t._editorElementBounds})})),_e(we(t),"_refEditor",(function(e){e?(Object(ye.setElementForEditor)(e),t._editorElement=e,t._editorElementBounds=e.getBoundingClientRect()):(Object(ye.removeElementForEditor)(),t._editorElement=null,t._editorElementBounds=null)})),_e(we(t),"_handlePaste",(function(e){var n=t.state,r=n.mousePositionX,o=n.mousePositionY;e.target instanceof HTMLInputElement||Object(oe.default)(e.clipboardData.getData("application/json")||e.clipboardData.getData("text/plain"),e,{onUploadMedia:t.props.onUploadMedia,addItem:t._handleItemChoice,positionX:r,positionY:o,availableFonts:t.props.preziFonts,customFonts:t.state.customFonts})})),_e(we(t),"_duplicateEntities",(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.dragging,i=void 0!==o&&o;Object(x.default)(t,n,{offsetEntities:!i,forceSelection:i?"no-update":void 0})})),t._handleItemChoice=t._handleItemChoice.bind(we(t)),t._handleMouseUp=t._handleMouseUp.bind(we(t)),t.state={scrollInitialized:!1},t}return t=u,r=[{key:"getStores",value:function(){return[w.default,j.ActiveTextEditorStore,P.default,E.default,ue.default,D.default,le.default,pe.default,_.default]}},{key:"calculateState",value:function(){var e=j.ActiveTextEditorStore.editing&&!j.ActiveTextEditorStore.transforming,t=ue.default.resizing||ue.default.dragging||ue.default.navigating,n=le.default.currentSelection.getEntities().size>1,r=D.default.currentPanel,o="";return r&&(o=r.get("component").key||""),{actionLoading:w.default.loading,themeId:E.default.themeId,textEditingActive:e,panelName:o,preventTextSelection:!!P.default.rectangle||t||n,activeBlockKey:Object(H.getActiveBlockKey)(),isZoomLayout:_.default.isZoomLayout,subscribed:_.default.subscribed,customFonts:E.default.editorState.customFonts}}}],(n=[{key:"componentDidMount",value:function(){var e=this;this.props.requestLiveDataRefresh(),this.state.isZoomLayout||(this._editorElement.addEventListener("scroll",W.onScroll),this._resizeObserver=Object(W.initScrollOnResizeObserver)(this._editorElement),this._scroll=Object(W.initFreelayoutScroll)(this._editorElement)),qe.forEach((function(t){return Ke(t,e._handleGesture,e._editorElement)})),Ke("paste",this._handlePaste,document),document.addEventListener("click",J.navigateToPageLinkHandler,!1),this.setState({scrollInitialized:!0})}},{key:"componentWillUnmount",value:function(){var e=this;document.removeEventListener("click",J.navigateToPageLinkHandler,!1),this.state.isZoomLayout||(this._editorElement.removeEventListener("scroll",this._onScroll),this._resizeObserver.disconnect()),qe.forEach((function(t){return Xe(t,e._handleGesture,e._editorElement)})),Xe("paste",this._handlePaste,document)}},{key:"render",value:function(){var e,t,n=this.state,r=n.textEditingActive,i=n.preventTextSelection,u=n.scrollInitialized,c=n.mousePositionX,s=n.mousePositionY,f=n.activeBlockKey,p=n.subscribed,d=l()(te.a.editor,this.state.actionLoading&&te.a.loading,i&&te.a.__selecting,r&&te.a.editingText),h=this.state.panelName?"panel_"+this.state.panelName:"";return o.a.createElement(I.default,null,o.a.createElement("div",{"data-lookup":"editor",className:d,onMouseUp:this._handleMouseUp,onMouseMove:this._onMouseMove},o.a.createElement(T.default,null),o.a.createElement(Y.default,{mousePositionX:c,mousePositionY:s}),o.a.createElement(Be,{isZoomLayout:this.state.isZoomLayout,$presenterNotesOffset:this.state.isZoomLayout?0:this.props.presenterNotesHeight,ref:this._refEditor},o.a.createElement(Ue,{isZoomLayout:this.state.isZoomLayout,className:h},u&&o.a.createElement(m.default.Provider,{value:{activeBlockKey:f}},o.a.createElement(L.default,{allowDragAndDrop:!r,onChange:F.default,onSelectionChange:ae.updateSelectionState,onSelectionBoundBoxChange:ae.updateBoundingBox,onDuplicateEntities:this._duplicateEntities,entityOverlayComponent:N.default,connectorEntityOverlays:B.default,multiSelectionOverlayComponent:S.default,entityBoundingBoxComponent:U.default,blockWrapperComponent:A.default,commentComponent:se.CommentMarker,commentingTooltipComponent:se.CommentingTooltip,calloutsComponent:fe.default,renderItemContentsFn:He,scaleX:this.props.zoom,scaleY:this.props.zoom,zoomChange:this.props.zoomChange,scroll:this._scroll})))),o.a.createElement(z.default,{colorPickerClass:X.default}),this.props.toolbar,o.a.createElement(k.default,{onSelect:this._handleItemChoice,displayShapes:!0,flex:!0},o.a.createElement(q.default,null)),o.a.createElement(K.default,{freeLayout:!0}),o.a.createElement(ie.default,null),o.a.createElement(se.ConversationsSidebar,null),o.a.createElement(me.default,null),!1,!1,a.a.createPortal(o.a.createElement($.default,{style:null===(e=_.default.model.get("theme"))||void 0===e?void 0:null===(t=e.charts)||void 0===t?void 0:t.tooltip}),document.getElementById("tooltip-container")),!p&&o.a.createElement(Ye,null,o.a.createElement("img",{src:"/i/user-loader.gif"}))))}},{key:"_handleMouseUp",value:function(){P.default.rectangle&&(Object(ce.default)(),Object(R.selectionMouseUp)())}},{key:"_handleItemChoice",value:function(e){var t=this.state.activeBlockKey,n=E.default.editorState;if(e instanceof FileList){v()(!1,"Prezigram based upload cannot be used in Infogram");var r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value,l=Object(ne.getItemOptions)(n,{zoom:this.props.zoom,activeBlockKey:t});if(l.onUploadMedia=this.props.onUploadMedia,"video/mp4"===c.type)Object(Z.addMedia)("video",{file:c,title:c.name},l);else{var s={subType:"image",graphicType:Object(ve.enhanceGraphicType)("upload",c.type),file:c};Object(Z.addImage)(s,l)}}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}}else{var f=e.dropResult,p=e.type,d=e.subtype,h=Object(ne.getItemOptions)(n,{clientOffset:f,zoom:this.props.zoom,activeBlockKey:t});if(h.drop=!!f,h.onUploadMedia=this.props.onUploadMedia,this.state.isZoomLayout){var b=this.props,g=b.staticPagePositionX,y=b.staticPagePositionY,m=this._editorElement.getBoundingClientRect();h.isZoomLayout=this.state.isZoomLayout,h.offset=f?{x:f.x-m.left-g,y:f.y-m.top-y}:{x:m.width/2-g,y:m.height/2-y}}switch(p){case"CHART":if("upgrade"===d)return void window.app.router.navigate("//upgrade/charts",{promote:{from:"grouped_combo"}});var O=Se(d.chartType||d.split("_").map((function(e){return parseInt(e,10)})),2),w=O[0],_=O[1];Object(Z.addChart)({chartId:w,modifier:_,options:h});break;case"MAP":if(d.upgrade)return void window.app.router.navigate("//upgrade/region_maps",{promote:{from:"region_maps"}});h.isCustomMap=!!d.custom,Object(Z.addMap)({id:d.id,title:d.title,options:h,freeLayout:!0});break;case"COMPOSITE":var x=Object(Q.default)(d.elementType);Object(Z.addCompositeItem)(x,h);break;case"TEXT":Object(Z.addText)(d.elementType,h);break;case"SHAPE":Object(Z.addShape)(d,h);break;case"IMAGE":case"ATLAS_IMAGE":case"ICON":var j=Object(C.default)(e);Object(Z.addImage)(j,h);break;case"MEDIA":var R=d.mediaType,P=d.data;Object(Z.addMedia)(R,P,h);break;case"INTEGRATION":Object(Z.addIntegration)(d,h);break;case"ELEMENT":var S=e.subtype,k=S.entities,T=S.assets,I=S.title,z=S.elementType;Object(Z.addElement)(k,T,I,z,h);break;default:console.log("chosen item",e)}}}}])&&Ee(t.prototype,n),r&&Ee(t,r),u}(o.a.Component),_e(Ie,"propTypes",{toolbar:h.a.node.isRequired,zoom:h.a.number.isRequired,zoomChange:h.a.number.isRequired,staticPagePositionX:h.a.number,staticPagePositionY:h.a.number,onScale:h.a.func.isRequired,requestLiveDataRefresh:h.a.func.isRequired,onUploadMedia:h.a.func.isRequired,openDialog:h.a.func,onZoomPosition:h.a.func.isRequired,preziFonts:h.a.object,presenterNotesHeight:h.a.number}),Ie);Ge=ze([Object(he.withDialogs)(),Object(u.connect)((function(e){var t=e.get("editorZoom"),n=e.get("presenterNotes"),r=e.get("zoomPosition"),o=r.staticPagePositionX,i=r.staticPagePositionY,a=e.get("preziFonts");return{zoom:t.zoom,zoomChange:t.zoomChange,staticPagePositionX:o,staticPagePositionY:i,preziFonts:a,presenterNotesHeight:(n.open?n.height:0)+20}}),(function(e){return{onScale:function(t){e({type:V.EDITOR_SCALE,payload:{scale:t}})},onUploadMedia:function(t){e({type:de.PREZIGRAM_UPLOAD_MEDIA,payload:t})},onZoomPosition:function(t,n,r){e({type:V.EDITOR_ZOOM_POSITION,payload:{scale:t,pagePosition:n,staticPosition:r}})},requestLiveDataRefresh:function(){e({type:be.LOAD_LIVE_DATA_ONCE})}}}),null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")&&e.get("zoomPosition")===t.get("zoomPosition")&&e.get("preziFonts")===t.get("preziFonts")&&e.get("presenterNotes")===t.get("presenterNotes")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.zoomChange===t.zoomChange&&e.staticPagePositionX===t.staticPagePositionX&&e.staticPagePositionY===t.staticPagePositionY&&e.preziFonts===t.preziFonts&&e.presenterNotesHeight===t.presenterNotesHeight}}),Object(O.default)({withProps:!0}),De("design:type",Function),De("design:paramtypes",[void 0])],Ge)},MzrW:function(e,t,n){e.exports=n.p+"c88831e5b58b6aab7b433f723775af40.svg"},N3rF:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("17x9"),u=n.n(a),c=n("/MKj"),l=n("1+J2"),s=n("sAei"),f=n("wi6Z"),p=n("dDeV"),d=n("fwYx"),h=n("w6T9"),b=n("i5wb"),g=n("GRZN"),y=n("L91u"),v=n("Zcty"),m=n("bZl7"),O=n("R1L0"),w=n("ZBhn"),E=n("hl5+"),_=n("dGoc"),x=n.n(_);function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?j(e):t}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var z,D=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},L=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=(z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(u,e);var t,n,o,a=I(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),P(j(t=a.call(this,e)),"triggerUpgrade",(function(){Object(l.logStartUpgradeWebJs)({upgrade_trigger:s.upgrade_trigger.REVISIONS}),window.app.router.navigate("settings/plans",{trigger:!0}),t.props.hideRevisions()})),t.restoreRevision=t.restoreRevision.bind(j(t)),t}return t=u,(n=[{key:"restoreRevision",value:function(){v.default.dispatch({type:E.APPLY_REVISION,editorState:this.props.editorState}),v.default.dispatch({type:w.RECEIVE_EXTRA_DATA,payload:this.props.extraData}),this.props.hideRevisions()}},{key:"componentDidMount",value:function(){this.props.userHasAccess||this.props.logPaywallHit()}},{key:"render",value:function(){var e,t,n=this.props,o=n.hideRevisions,a=n.editorState,u=n.selectedIndex,c=n.userHasAccess,l=n.loading;return u&&a&&(e=i.a.createElement(h.default,{useButtonTag:!0,className:x.a.toolbarRestoreButton,onClick:this.restoreRevision},r.default.t("app.revisions.restore_version"))),c||(t=i.a.createElement("div",null,i.a.createElement("div",{className:x.a.paywallBackground}),i.a.createElement("div",{className:x.a.paywallContent},i.a.createElement("img",{className:x.a.paywallImage,src:"/i/revisions/paywall_icon.png"}),i.a.createElement("h3",{className:x.a.paywallTitle},r.default.t("popup.upgrade_promo.revisions_title")),i.a.createElement("p",{className:x.a.paywallText,dangerouslySetInnerHTML:{__html:r.default.t("popup.upgrade_promo.revisions_text")}}),i.a.createElement(h.default,{blue:!0,className:x.a.paywallButton,onClick:this.triggerUpgrade},r.default.t("popup.upgrade_promo.revisions_upgrade"))))),i.a.createElement("div",{className:x.a.root},i.a.createElement(p.default,{fixed:!0},i.a.createElement(p.ToolbarGroup,null,i.a.createElement(d.default,{onClick:o}),i.a.createElement(g.default,null)),i.a.createElement(p.ToolbarGroup,null,e)),i.a.createElement(f.default,{showChat:!1,side:"right"},i.a.createElement("p",{className:x.a.panelTitle},r.default.t("app.revisions.version_history")),i.a.createElement(b.default,null)),l||i.a.createElement(y.default,{userHasAccess:c}),t)}}])&&R(t.prototype,n),o&&R(t,o),u}(o.PureComponent),P(z,"propTypes",{hideRevisions:u.a.func.isRequired,logPaywallHit:u.a.func.isRequired,selectedIndex:u.a.number.isRequired,editorState:u.a.object,extraData:u.a.object,userHasAccess:u.a.bool.isRequired,loading:u.a.bool.isRequired}),z);M=D([Object(c.connect)((function(e){var t=e.getIn(["revisions","extraData"]);return{selectedIndex:e.getIn(["revisions","selectedIndex"]),editorState:e.getIn(["revisions","editorState"]),loading:e.getIn(["revisions","loading"]),extraData:t?t.toJS():{},userHasAccess:m.default.canAccessRevisions}}),(function(e){return{hideRevisions:function(){e({type:O.REVISIONS_HIDE})},logPaywallHit:function(){e({type:O.REVISIONS_PAYWALL_HIT})}}})),L("design:type",Function),L("design:paramtypes",[void 0])],M)},NI0h:function(e,t,n){"use strict";n.r(t);var r=n("N3rF");n.d(t,"default",(function(){return r.default}))},OG9s:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("/TeS"),o=n("EKef"),i=n("alRy");function a(e,t){var n=t.mouseX,a=t.mouseY,u=t.scaleX,c=t.scaleY,l=t.isZoomLayout,s=e.objectId&&o.default.editorState.getEntity(e.objectId),f=Object(i.default)(e.blockId,s,{mouseX:n,mouseY:a,scaleX:u,scaleY:c,isZoomLayout:l});return{type:r.CONVERSATIONS_CHANGE_COMMENT,payload:{key:e.key,put:{positionX:f.x,positionY:f.y}}}}},"OJ/W":function(e,t,n){"use strict";n.r(t),n.d(t,"Hue",(function(){return R}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("vOnD");function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?c(e):t}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function v(){var e=b(["\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n"]);return v=function(){return e},e}function m(){var e=b(["\n    position: relative;\n    height: 100%;\n    background: #ff0000; /* Old browsers */\n    background: url(",");\n    background: -moz-linear-gradient(\n        left,\n        #ff0000 0%,\n        #ff00ff 15%,\n        #0000ff 33%,\n        #00ffff 49%,\n        #00ff00 67%,\n        #ffff00 84%,\n        #ff0000 100%\n    ); /* FF3.6+ */\n    background: -webkit-gradient(\n        linear,\n        left top,\n        right top,\n        color-stop(0%, #ff0000),\n        color-stop(15%, #ff00ff),\n        color-stop(33%, #0000ff),\n        color-stop(49%, #00ffff),\n        color-stop(67%, #00ff00),\n        color-stop(84%, #ffff00),\n        color-stop(100%, #ff0000)\n    ); /* Chrome,Safari4+ */\n    background: -webkit-linear-gradient(\n        left,\n        #ff0000 0%,\n        #ff00ff 15%,\n        #0000ff 33%,\n        #00ffff 49%,\n        #00ff00 67%,\n        #ffff00 84%,\n        #ff0000 100%\n    ); /* Chrome10+,Safari5.1+ */\n    background: -o-linear-gradient(\n        left,\n        #ff0000 0%,\n        #ff00ff 15%,\n        #0000ff 33%,\n        #00ffff 49%,\n        #00ff00 67%,\n        #ffff00 84%,\n        #ff0000 100%\n    ); /* Opera 11.10+ */\n    background: -ms-linear-gradient(\n        left,\n        #ff0000 0%,\n        #ff00ff 15%,\n        #0000ff 33%,\n        #00ffff 49%,\n        #00ff00 67%,\n        #ffff00 84%,\n        #ff0000 100%\n    ); /* IE10+ */\n    background: linear-gradient(\n        to right,\n        #ff0000 0%,\n        #ff00ff 15%,\n        #0000ff 33%,\n        #00ffff 49%,\n        #00ff00 67%,\n        #ffff00 84%,\n        #ff0000 100%\n    ); /* W3C */\n"]);return m=function(){return e},e}function O(){var e=b(["\n    position: absolute;\n    top: 0px;\n"]);return O=function(){return e},e}var w=u.default.div(v()),E=u.default.div(m(),n("Rz4B")),_=u.default.div.attrs((function(e){var t=e.hue;return{style:{left:"".concat(j(t),"%")}}}))(O()),x=function(e,t,n){var r,o=n.clientWidth,i=("number"==typeof e.pageX?e.pageX:e.touches[0].pageX)-(n.getBoundingClientRect().left+window.pageXOffset);if(i<0)r=0;else if(i>o)r=0;else{var a=-100*i/o+100;r=Math.round(360*a/100)}return t.h!==r?{h:r,s:t.s,v:t.v}:null};function j(e){return-100*e/360+100}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(a,e);var t,n,r,i=y(a);function a(){var e;return l(this,a),f(c(e=i.apply(this,arguments)),"_container",o.a.createRef()),f(c(e),"_handleChange",(function(t){var n=e.props.hsv;t.preventDefault();var r=x(t,n,e._container.current);r&&e.props.onChange(r)})),f(c(e),"_handleMouseDown",(function(t){e._handleChange(t),window.addEventListener("mousemove",e._handleChange),window.addEventListener("mouseup",e._handleMouseUp)})),f(c(e),"_handleMouseUp",(function(){e._unbindEventListeners()})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this._unbindEventListeners()}},{key:"render",value:function(){var e=this.props.hsv.h;return(o.a.createElement(w,null,o.a.createElement(E,{ref:this._container,onMouseDown:this._handleMouseDown,onTouchMove:this._handleChange,onTouchStart:this._handleChange},o.a.createElement(_,{hue:e},this.props.children))))}},{key:"_unbindEventListeners",value:function(){window.removeEventListener("mousemove",this._handleChange),window.removeEventListener("mouseup",this._handleMouseUp)}}])&&s(t.prototype,n),r&&s(t,r),a}(r.PureComponent);f(R,"propTypes",{hsv:a.a.object.isRequired,onChange:a.a.func.isRequired,children:a.a.node.isRequired}),t.default=R},OVpQ:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("avnT"),f=n("USB3"),p=n("76fW"),d=n.n(p);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function E(){var e=m(["\n    position: absolute;\n    box-sizing: border-box;\n    border: 2px dotted #ff00ff;\n    pointer-events: auto;\n\n    ","\n"]);return E=function(){return e},e}function _(){var e=m(["\n    display: block;\n    position: absolute;\n    background: #ff00ff;\n    border: 1px solid #fff;\n    pointer-events: auto;\n\n    ","\n"]);return _=function(){return e},e}function x(){var e=m(["\n    display: block;\n    position: absolute;\n    width: 4px;\n    height: 4px;\n    cursor: pointer;\n    pointer-events: auto;\n    box-sizing: border-box;\n    background: #ff00ff;\n    border-left: 1px solid #fff;\n    border-top: 1px solid #fff;\n\n    &::before,\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        background: #ff00ff;\n        box-sizing: border-box;\n        border: 1px solid #fff;\n    }\n\n    &:before {\n        height: 6px;\n        width: 4px;\n        left: -1px;\n        bottom: -6px;\n        border-top: none;\n    }\n\n    &:after {\n        width: 6px;\n        height: 4px;\n        right: -6px;\n        top: -1px;\n        border-left: 0;\n    }\n\n    ","\n"]);return x=function(){return e},e}var j,R,P,S=l.default.div(E(),(function(e){return e.theme.id===f.default.id&&"\n        border-color: ".concat(f.default.purple400,";\n    ")})),k=l.default.div(_(),(function(e){return e.theme.id===f.default.id&&"\n        background: ".concat(f.default.purple400,";\n    ")})),C=l.default.div(x(),(function(e){return e.theme.id===f.default.id&&"\n        background: ".concat(f.default.purple400,";\n\n        &::before,\n        &::after {\n            background: ").concat(f.default.purple400,";\n        }\n    ")})),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=w(a);function a(){return h(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.crop,n=e.onDrag,r=e.onHandleMove,i={top:"".concat(t.get("top"),"%"),right:"".concat(t.get("right"),"%"),bottom:"".concat(t.get("bottom"),"%"),left:"".concat(t.get("left"),"%")};return o.a.createElement(S,{style:i,onMouseDown:n},o.a.createElement(k,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.N,className:d.a.topHandle}),o.a.createElement(k,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.E,className:d.a.rightHandle}),o.a.createElement(k,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.S,className:d.a.bottomHandle}),o.a.createElement(k,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.W,className:d.a.leftHandle}),o.a.createElement(C,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.NW,className:d.a.topLeftHandle}),o.a.createElement(C,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.NE,className:d.a.topRightHandle}),o.a.createElement(C,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.SE,className:d.a.bottomRightHandle}),o.a.createElement(C,{onMouseDown:r,"data-origin":s.RESIZE_ORIGIN.SW,className:d.a.bottomLeftHandle}))}}])&&b(t.prototype,n),r&&b(t,r),a}(r.PureComponent);j=T,R="propTypes",P={crop:c.a.contains({top:a.a.number,right:a.a.number,bottom:a.a.number,left:a.a.number}).isRequired,onHandleMove:a.a.func,onDrag:a.a.func},R in j?Object.defineProperty(j,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[R]=P,t.default=T},OsVm:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return A}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("vOnD"),c=n("SC+/"),l=n("SUR1"),s=n("OJ/W"),f=n("TKOg"),p=n("9TVu");function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?d(e):t}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function E(){var e=m(["\n    display: block;\n"]);return E=function(){return e},e}function _(){var e=m(["\n    display: flex;\n    height: 12px;\n    margin-top: 15px;\n"]);return _=function(){return e},e}function x(){var e=m(["\n    flex: 1;\n    margin-left: 6px;\n    position: relative;\n    margin-right: 6px;\n    padding: 0 6px;\n    border-radius: 6px;\n    background: red;\n"]);return x=function(){return e},e}function j(){var e=m(["\n    height: 12px;\n    position: relative;\n"]);return j=function(){return e},e}function R(){var e=m(["\n    width: 12px;\n    height: 12px;\n    border-radius: 10px;\n    border: 2px white solid;\n    transform: translateX(-50%);\n"]);return R=function(){return e},e}function P(){var e=m(["\n    width: 250px;\n    height: 150px;\n    position: relative;\n"]);return P=function(){return e},e}function S(){var e=m(["\n    border: 2px solid #ffffff;\n    filter: drop-shadow(0px 1px 4px rgba(0, 0, 0, 0.25));\n    box-sizing: border-box;\n    border-radius: 50%;\n    cursor: pointer;\n    transform: translate(-6px, -6px);\n    width: 12px;\n    height: 12px;\n"]);return S=function(){return e},e}var k=u.default.div(E()),C=u.default.div(_()),T=u.default.div(x()),I=u.default.div(j()),z=u.default.div(R()),D=u.default.div(P()),L=u.default.div(S());function M(e){var t=Object(c.rgb)(e).hex(),n=Object(l.hsv)(t);return{h:n.h,s:n.s,v:n.v}}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(a,e);var t,n,r,i=w(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),b(d(t=i.call(this,e)),"_onHsvChange",(function(e){var n=Object(l.hsv)(e.h,e.s,e.v);t.props.onChange&&t.props.onChange(n.hex())})),b(d(t),"_onHueChange",(function(e){var n=M(t.props.color);if(isNaN(n.h))t.setState({hsv:{h:e.h}});else{var r=Object(l.hsv)(e.h,e.s,e.v);t.props.onChange(r.hex())}}));var n=M(t.props.color);return t.state={hsv:{h:isNaN(n.h)?0:n.h,s:n.s,v:n.v},color:t.props.color},t}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.color!==t.color){var n=M(e.color);return{color:e.color,hsv:{h:isNaN(n.h)?t.hsv.h:n.h,s:n.s,v:n.v}}}return null}}],(n=[{key:"render",value:function(){return o.a.createElement(k,null,o.a.createElement(D,null,o.a.createElement(f.default,{hsv:this.state.hsv,onChange:this._onHsvChange},o.a.createElement(L,null))),o.a.createElement(C,null,o.a.createElement(p.EyeDropper,{onChange:this.props.onChange}),o.a.createElement(T,null,o.a.createElement(I,null,o.a.createElement(s.default,{hsv:this.state.hsv,onChange:this._onHueChange},o.a.createElement(z,null))))))}}])&&h(t.prototype,n),r&&h(t,r),a}(r.PureComponent);b(A,"propTypes",{x:a.a.number,y:a.a.number,color:a.a.string.isRequired,onChange:a.a.func.isRequired,onClose:a.a.func})},PCE5:function(e,t,n){e.exports=n.p+"436853423c7cde587a2864582d28ec78.svg"},PINJ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("Zcty"),o=n("hl5+"),i=n("ySsV");function a(e){r.default.dispatch({type:o.REMOVE_LAYOUT,layout:e,projectId:i.default.infographicId})}},PXfb:function(e,t,n){e.exports=n.p+"b183c7180b09843ecb4b1778e90565a0.svg"},Q4CN:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return je}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("17x9"),u=n.n(a),c=n("/MKj"),l=n("Pp7T"),s=n.n(l),f=n("M39V"),p=n.n(f),d=(n("k0mc"),n("WExX")),h=n("TJ0u"),b=n("EKef"),g=n("ySsV"),y=n("K7XO"),v=n("xZ3h"),m=n("aXXi"),O=n("e0gr"),w=n("hl5+"),E=n("XSDi"),_=n("epKC"),x=n("Ar8A"),j=n("vCdm"),R=n("bPAd"),P=n("BL37"),S=n("1ZlU"),k=n("Xmk4"),C=n("kbEN"),T=n("sScL"),I=n("4VoC"),z=n("fhZ6"),D=n("MCma"),L=n("s3Vt"),M=n("Sye6"),A=n("DvT9"),q=n("duLV"),N=n("xVW7"),B=n("kMmm"),U=n("G5AB"),Y=n("J3MI"),K=n("3NuN"),X=n("KamX"),H=n("/TeS"),G=n("7EpH"),Z=n("yMTd"),F=n("WdyC"),V=n("vmwM"),W=n("jjTP"),J=n("1+J2"),Q=n("tfQu"),$=n("Nv7s"),ee=n("maLv"),te=n("Yzu6"),ne=n("6Bru"),re=n("GnQD");function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ue(e,t,n[t])}))}return e}function fe(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function pe(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?ie(e):t}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){return function(e){if(Array.isArray(e))return e}(e)||le(e)||ye(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||le(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ge=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ye(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}var me,Oe=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},we=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ee=p.a.getParser(window.navigator.userAgent),_e=Ee.isOS(p.a.OS_MAP.MacOS),xe=Ee.isBrowser(p.a.BROWSER_MAP.ie),je=(ue(me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(u,e);var t,n,o,a=ve(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).handleKeys=t.handleKeys.bind(ie(t)),t.wrapper=i.a.createRef(),t}return t=u,(n=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeys,!1),document.addEventListener("keyup",this.handleKeys,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeys,!1),document.removeEventListener("keyup",this.handleKeys,!1)}},{key:"handleKeys",value:function(e){var t=e.target,n=e.type;(t===document.body||t instanceof HTMLButtonElement||"button"===t.getAttribute("role"))&&(!xe||"true"!==t.contentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName)&&("keyup"===n?this.handleKeyUp(e):"keydown"===n?this.handleKeyDown(e):s()(!1,"Unknown event type"))}},{key:"shouldShowObjectGuides",get:function(){return this.props.guideSettings&&!this.props.guideSettings.showGuides&&this.props.guideSettings.snapObjects}},{key:"snapMoveEntities",value:function(e,t,n,r){var o;if(this.shouldShowObjectGuides){var i=t.first().getBlockKey(),a=b.default.editorState.getCurrentContent().getBlock(i).getEntities(),u=Object(Y.flattenEntities)(b.default.editorState,t);o=Object(Q.findNextSmartSnap)(Object(ne.calculateBoundingBox)(t,!0),u,a,b.default.editorState.getPageSize(),n)}else if(this.props.guideSettings&&this.props.guideSettings.showGuides){var c=new te.GridSettings(b.default.editorState.getPageSize().width,b.default.editorState.getPageSize().height,this.props.guideSettings.columnCount,this.props.guideSettings.whitespacePercent,this.props.guideSettings.rowSpacing).getGridLines(),l=c.guides,s=c.baselines;o=Object(Q.findNextGridSnap)(Object(ne.calculateBoundingBox)(t,!0),b.default.editorState.getPageSize(),n,l,s)}return Object(ee.default)(),o.next=o.next.filter((function(e){return e.distance>0})),o.prev=o.prev.filter((function(e){return e.distance>0})),Object(q.default)(e.getEntities(),["up","down"].includes(r)?"top":"left",["up","left"].includes(r)?-o.prev[0].distance:o.next[0].distance),o}},{key:"handleKeyDown",value:function(e){if(!O.ActiveTextEditorStore.editing&&"input"!==e.target.tagName.toLowerCase()){var t=_e?e.metaKey:e.ctrlKey,n=e.metaKey||e.ctrlKey||e.altKey,o=M.default.currentSelection,i=b.default.editorState,a=i.getEntities(o.getEntities()),u=a.every((function(e){return e.isLocked()})),c=a.some((function(e){return e.isLocked()})),l=a.some((function(e){return e.getCalloutKey()}));switch(e.keyCode){case z.default.BACKSPACE:case z.default.DELETE:if(c||n||this.props.editingObject)return;if(a.isEmpty()){if(!o.hasNoBlocks()&&i.getCurrentContent().getBlocks().size>1){var s=o.getBlocks().first(),f=i.getCurrentContent().getBlockIndex(s)+1,p=i.getCurrentContent().getBlocks().size;Object(L.showConfirmDialog)({title:r.default.t("app.freelayout_editor.delete_page_dialog_title",{page_number:f}),description:r.default.t("app.freelayout_editor.delete_page_dialog_description"),button:r.default.t("delete")}).then((function(){Object(T.default)([s]),f===p&&Object(v.scrollToPage)(f-2)}))}}else{var d=i.getEntities(o.getEntities()),m=he(Object(Y.flattenEntities)(i,d).keys()).slice(0);Object(R.default)(m),d.every((function(e){return e.getCalloutKey()}))&&Object(A.updateSelectionState)(o.clear().addEntities(d.first().getCalloutKey()))}break;case z.default.DOWN_ARROW:if(t&&!e.altKey)if(0===o.getEntities().size)Object(v.scrollToPage)(h.default.activePageIndex+1);else{var w=this.snapMoveEntities(o,a,"vertical","down");Object($.default)([Object(Q.createVisibleGuide)(fe(se({},w.next[0]),{direction:"vertical"}),w.selectedBounds,0)])}else{if(n)return;if(u||l)return;Object(q.default)(o.getEntities(),"top",e.shiftKey?10:1)}break;case z.default.UP_ARROW:if(t&&!e.altKey&&0!==o.getEntities().size){var U=this.snapMoveEntities(o,a,"vertical","up");Object($.default)([Object(Q.createVisibleGuide)(fe(se({},U.prev[0]),{direction:"vertical"}),U.selectedBounds,0)])}else if(t&&!e.altKey&&h.default.activePageIndex>0)Object(v.scrollToPage)(h.default.activePageIndex-1);else{if(n)return;if(u||l)return;Object(q.default)(o.getEntities(),"top",e.shiftKey?-10:-1)}break;case z.default.LEFT_ARROW:if(a.isEmpty()||u||l)return;if(t&&!e.altKey){var H=this.snapMoveEntities(o,a,"horizontal","left");Object($.default)([Object(Q.createVisibleGuide)(fe(se({},H.prev[0]),{direction:"horizontal"}),H.selectedBounds,0)])}else{if(n)return;Object(q.default)(o.getEntities(),"left",e.shiftKey?-10:-1)}break;case z.default.RIGHT_ARROW:if(a.isEmpty()||u||l)return;if(t&&!e.altKey){var W=this.snapMoveEntities(o,a,"horizontal","right");Object($.default)([Object(Q.createVisibleGuide)(fe(se({},W.next[0]),{direction:"horizontal"}),W.selectedBounds,0)])}else{if(n)return;Object(q.default)(o.getEntities(),"left",e.shiftKey?10:1)}break;case z.default.KEY_Z:if(t&&!e.altKey){e.shiftKey?Object(K.redo)():Object(K.undo)();break}return;case z.default.KEY_Y:if(t&&!e.altKey){Object(K.redo)();break}return;case z.default.KEY_C:if(t&&e.shiftKey){Object(D.copyElementStyle)();break}if(c||!t||e.altKey){if(n)return;Object(I.changeActiveHeader)("chart");break}Object(j.default)();break;case z.default.KEY_V:if(!c&&t&&e.shiftKey){Object(D.pasteElementStyle)();break}if(t&&!e.altKey&&window.clipboardData){var ee=this.props,te=ee.mousePositionX,ne=ee.mousePositionY;Object(x.default)(window.clipboardData.getData("Text"),e,{mousePositionX:te,mousePositionY:ne})}return;case z.default.KEY_D:if(t){if(c)break;if(!a.isEmpty()){var re=a.first().getBlockKey();Object(E.default)(a,re,{offsetEntities:!0});break}if(1===o.getBlocks().size){var oe=o.getBlocks().first(),ie=i.getCurrentContent().getBlockIndex(oe);Object(X.default)(oe,ie+1,{scroll:!0});break}}return;case z.default.KEY_O:this.props.toggleElementsOutsideBlockVisible(g.default.infographicId),Object(J.logShowOverflowWebJs)({});break;case z.default.KEY_R:if(!a.size||n)return;if(N.default.pointerDown||a.first().locked||l)break;var ae={type:"rotate",key:a.map((function(e){return e.getKey()})).join("-")},ue=Object(Y.flattenEntities)(i,a)||N.default.initialEntityPositions;ae.blockRect=a.size?Object(Z.getRelativeBlockRect)(ue.first()):null;var ce=i.getCurrentContent().getBlock(a.first().blockKey);Object(B.default)(ae,ue,{x:-1,y:-1},ce);break;case z.default.KEY_I:if(n)return;Object(I.changeActiveHeader)("image");break;case z.default.KEY_X:if(!t||a.isEmpty())break;Object(j.default)();var le=he(Object(Y.flattenEntities)(i,a).keys()).slice(0);Object(R.default)(le);break;case z.default.KEY_G:if(c||a.isEmpty()&&n)return;if(t&&e.shiftKey)_.ungroupEntities.apply(void 0,be(o.getEntities().values()));else if(t&&a.size>1)Object(_.groupEntities)(o.getEntities());else{if(n)return;this.props.toggleGridAndGuides(g.default.infographicId)}break;case z.default.KEY_L:if(b.default.multiLayout){this.props.toggleLayout();break}if(n)return;break;case z.default.KEY_T:if(n)return;Object(I.changeActiveHeader)("text");break;case z.default.KEY_S:if(t&&e.altKey,n)return;Object(I.changeActiveHeader)("shape");break;case z.default.KEY_M:if(n)return;Object(I.changeActiveHeader)("map");break;case z.default.KEY_A:if(t){var pe,de=h.default.activePageIndex,ge=i.getCurrentContent().getBlocks().get(de),ye=[];ge.getEntities().forEach((function(e){e.locked||e.getGroupKey()||e.getCalloutKey()||ye.push(e.getKey())}));var ve=(pe=o.clear()).addEntities.apply(pe,be(ye));Object(A.updateSelectionState)(ve)}break;case z.default.OPEN_BRACKET:if(a.isEmpty())return;t&&e.altKey?P.default.apply(void 0,be(o.getEntities())):t&&k.default.apply(void 0,be(o.getEntities()));break;case z.default.CLOSE_BRACKET:if(a.isEmpty())return;t&&e.altKey?S.default.apply(void 0,be(o.getEntities())):t&&C.default.apply(void 0,be(o.getEntities()));break;case z.default.SPACE:if(n)return;!N.default.navigating&&Object(G.default)();break;case z.default.ESCAPE:if(n)return;this.props.commenting?(this.props.closeCommentMarker(),this.props.closeCommenting()):this.props.hasOpenComment?this.props.closeCommentMarker():this.props.sidebarOpen?this.props.closeSidebar():V.default.activeType?Object(F.stopClipping)():y.default.activeHeader&&Object(I.closeElementMenu)();break;case z.default.ENTER:if(n)return;V.default.activeType&&Object(F.stopClipping)();break;case z.default.DASH:t&&this.props.onZoom(-1);break;case z.default.EQUALS:t&&this.props.onZoom(1);break;default:return}e.stopPropagation(),e.preventDefault()}}},{key:"handleKeyUp",value:function(e){switch(e.keyCode){case z.default.KEY_R:Object(U.default)();break;case z.default.SPACE:this.props.saveEditorPosition(),Object(U.default)();break;case z.default.LEFT_META:case z.default.RIGHT_META:case z.default.CTRL:Object(U.default)()}}},{key:"render",value:function(){return null}}])&&ae(t.prototype,n),o&&ae(t,o),u}(o.PureComponent),"propTypes",{toggleGridAndGuides:u.a.func.isRequired,commenting:u.a.bool.isRequired,hasOpenComment:u.a.bool.isRequired,sidebarOpen:u.a.bool.isRequired,closeCommentMarker:u.a.func.isRequired,closeCommenting:u.a.func.isRequired,closeSidebar:u.a.func.isRequired,onZoom:u.a.func.isRequired,saveEditorPosition:u.a.func.isRequired,toggleLayout:u.a.func.isRequired,mousePositionX:u.a.number,mousePositionY:u.a.number,editingObject:u.a.bool.isRequired,toggleElementsOutsideBlockVisible:u.a.func.isRequired,saveImitation:u.a.func.isRequired,guideSettings:u.a.shape({showGuides:u.a.bool.isRequired,snapObjects:u.a.bool.isRequired,whitespacePercent:u.a.number.isRequired,columnCount:u.a.number.isRequired,rowSpacing:u.a.number.isRequired})}),me);je=Oe([Object(c.connect)((function(e){var t=e.get("conversations"),n=e.get("chartEditor"),r=e.get("flexEditorGrid"),o=r.whitespacePercent,i=r.columnCount,a=r.rowSpacing,u=e.get("localProjectSettings"),c=u.showGuides,l=u.snapObjects,s=e.get("sidebar").active;return{commenting:t.commenting,hasOpenComment:!!t.openCommentKey,sidebarOpen:!!s,editingObject:n.editing,guideSettings:{showGuides:c,snapObjects:l,whitespacePercent:o,columnCount:i,rowSpacing:a}}}),(function(e){return{toggleGridAndGuides:function(t){e({type:m.FLEX_EDITOR_TOGGLE_GRID_AND_GUIDES,payload:{projectId:t}})},closeCommentMarker:function(){e({type:H.CONVERSATIONS_TOGGLE_MARKER})},closeCommenting:function(){e({type:H.CONVERSATIONS_TOGGLE_COMMENTING})},closeSidebar:function(){e({type:Object(d.getType)(re.closeSidebar)})},onZoom:function(t){e({type:w.EDITOR_ZOOM,payload:{direction:t}})},saveImitation:function(){e({type:m.FLEX_EDITOR_CONTENT_SAVING}),setTimeout((function(){e({type:m.FLEX_EDITOR_CONTENT_SAVE_REQUESTED})}),1e3)},saveEditorPosition:function(){e({type:"EDITOR_STATIC_POSITION"})},toggleLayout:W.default,toggleElementsOutsideBlockVisible:function(t){e({type:w.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:t})}}}),null,{areStatesEqual:function(e,t){return e.get("conversations")===t.get("conversations")&&e.get("chartEditor")===t.get("chartEditor")&&e.get("flexEditorGrid")===t.get("flexEditorGrid")&&e.get("localProjectSettings")===t.get("localProjectSettings")&&e.get("sidebar")===t.get("sidebar")}}),we("design:type",Function),we("design:paramtypes",[void 0])],je)},R8DA:function(e,t,n){var r=n("sEG9");(t=e.exports=n("I1BE")(!1)).push([e.i,"._2e1ukwJgSrgQjsvZr_Ql1N {\n    width: 4px;\n    height: 16px;\n    display: block;\n    position: absolute;\n    background: url("+r(n("yGHk"))+") no-repeat center center;\n    pointer-events: auto;\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N._34wgMP54-Nba6fJgRtInqi {\n    background-image: url("+r(n("MzrW"))+");\n}\n\n._3kmx70mf1fL3QxU5aAQU4z,\n._2v-E7zp455rPYELpRHxUSi {\n    left: 50%;\n    transform: rotate(90deg) translateX(-50%);\n}\n._3kmx70mf1fL3QxU5aAQU4z:hover,\n._2v-E7zp455rPYELpRHxUSi:hover,\n._3kmx70mf1fL3QxU5aAQU4z._1n8_-lJOYsF-6Qd31xZUfq,\n._2v-E7zp455rPYELpRHxUSi._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) translateX(-50%) scale(1.5);\n}\n\n._2qJ7IPZhc4hK6aQnTceZbx,\n._1NHwB4sjlyV39sO7_vUczR {\n    top: 50%;\n    transform: translateY(-50%);\n}\n._2qJ7IPZhc4hK6aQnTceZbx:hover,\n._1NHwB4sjlyV39sO7_vUczR:hover,\n._2qJ7IPZhc4hK6aQnTceZbx._1n8_-lJOYsF-6Qd31xZUfq,\n._1NHwB4sjlyV39sO7_vUczR._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: translateY(-50%) scale(1.5);\n}\n\n._3kmx70mf1fL3QxU5aAQU4z {\n    top: -6px;\n    cursor: ns-resize;\n}\n._2v-E7zp455rPYELpRHxUSi {\n    bottom: -10px;\n    cursor: ns-resize;\n}\n._2qJ7IPZhc4hK6aQnTceZbx {\n    left: -2px;\n    cursor: ew-resize;\n}\n._1NHwB4sjlyV39sO7_vUczR {\n    right: -2px;\n    cursor: ew-resize;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe {\n    width: 10px;\n    height: 10px;\n    display: block;\n    position: absolute;\n    cursor: pointer;\n    pointer-events: auto;\n    background: url("+r(n("EKTl"))+") no-repeat center center;\n}\n\n._1-7YjYFlnWk7REKu-C4DAe._34wgMP54-Nba6fJgRtInqi {\n    background-image: url("+r(n("dtaK"))+");\n}\n\n.Ual2JhPJAsByzbiNr1Npv {\n    top: -2px;\n    left: -2px;\n    transform: rotate(90deg);\n    cursor: nwse-resize;\n}\n.Ual2JhPJAsByzbiNr1Npv:hover, .Ual2JhPJAsByzbiNr1Npv._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(90deg) scale(1.5) translate(1px, -1px);\n}\n\n._3y7UVk0T-fRvN5kQ5BPasn {\n    top: -2px;\n    right: -2px;\n    transform: rotate(180deg);\n    cursor: nesw-resize;\n}\n._3y7UVk0T-fRvN5kQ5BPasn:hover, ._3y7UVk0T-fRvN5kQ5BPasn._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(180deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Cdd86nBkd-22Mo-CpgMNx {\n    bottom: -2px;\n    right: -2px;\n    transform: rotate(270deg);\n    cursor: nwse-resize;\n}\n._2Cdd86nBkd-22Mo-CpgMNx:hover, ._2Cdd86nBkd-22Mo-CpgMNx._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: rotate(270deg) scale(1.5) translate(1px, -1px);\n}\n\n._2Dv7RZw0GkQknELEROlc5x {\n    bottom: -2px;\n    left: -2px;\n    cursor: nesw-resize;\n}\n._2Dv7RZw0GkQknELEROlc5x:hover, ._2Dv7RZw0GkQknELEROlc5x._1n8_-lJOYsF-6Qd31xZUfq {\n    transform: scale(1.5) translate(1px, -1px);\n}\n\n._2e1ukwJgSrgQjsvZr_Ql1N,\n._1-7YjYFlnWk7REKu-C4DAe {\n    transition: transform 100ms ease-out;\n}\n",""]),t.locals={sideHandle:"_2e1ukwJgSrgQjsvZr_Ql1N",prezigram:"_34wgMP54-Nba6fJgRtInqi",n:"_3kmx70mf1fL3QxU5aAQU4z",s:"_2v-E7zp455rPYELpRHxUSi",selected:"_1n8_-lJOYsF-6Qd31xZUfq",w:"_2qJ7IPZhc4hK6aQnTceZbx",e:"_1NHwB4sjlyV39sO7_vUczR",cornerHandle:"_1-7YjYFlnWk7REKu-C4DAe",nw:"Ual2JhPJAsByzbiNr1Npv",ne:"_3y7UVk0T-fRvN5kQ5BPasn",se:"_2Cdd86nBkd-22Mo-CpgMNx",sw:"_2Dv7RZw0GkQknELEROlc5x"}},RZ7o:function(e,t,n){"use strict";n.r(t);var r=n("haA1");n.d(t,"default",(function(){return r.default}))},Rz4B:function(e,t,n){e.exports=n.p+"702ad9879e8aadac2e1077624805b19b.svg"},T9bt:function(e,t,n){"use strict";n.r(t);var r=n("4Zd/");n.d(t,"default",(function(){return r.default}))},TAoN:function(e,t,n){e.exports=n.p+"18e91817ce3d693866f097e616ef72c1.svg"},TKOg:function(e,t,n){"use strict";n.r(t),n.d(t,"Saturation",(function(){return k}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("vOnD"),c=n("LvDl"),l=n.n(c);function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?s(e):t}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function O(){var e=y(["\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n"]);return O=function(){return e},e}function w(){var e=y(["\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background: -webkit-linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n    background: linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n"]);return w=function(){return e},e}function E(){var e=y(["\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background: -webkit-linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n    background: linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n"]);return E=function(){return e},e}function _(){var e=y(["\n    position: absolute;\n    cursor: default;\n"]);return _=function(){return e},e}var x=function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,u="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,c=a-(n.getBoundingClientRect().left+window.pageXOffset),l=u-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>o&&(c=o),l<0?l=0:l>i&&(l=i);var s=Math.round(c/o*100)/100,f=Math.round(100*(1-l/i))/100;return{h:t.h,s:s,v:f}},j=u.default.div.attrs((function(e){var t=e.hsv;return{style:{background:"hsl(".concat(t.h,", 100%, 50%)")}}}))(O()),R=u.default.div(w()),P=u.default.div(E()),S=u.default.div.attrs((function(e){var t=e.hsv;return{style:{top:"".concat(-100*t.v+100,"%"),left:"".concat(100*t.s,"%"),pointerEvents:"none"}}}))(_()),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,i=m(a);function a(){var e;return f(this,a),d(s(e=i.apply(this,arguments)),"_container",o.a.createRef()),d(s(e),"_throttle",l.a.throttle((function(e,t,n){e(t,n)}),50)),d(s(e),"handleChange",(function(t){t.preventDefault(),e._throttle(e.props.onChange,x(t,e.props.hsv,e._container.current),t)})),d(s(e),"handleMouseDown",(function(t){e.handleChange(t),window.addEventListener("mousemove",e.handleChange),window.addEventListener("mouseup",e.handleMouseUp)})),d(s(e),"handleMouseUp",(function(){e.unbindEventListeners()})),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this._throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this.props.hsv;return(o.a.createElement(j,{ref:this._container,hsv:e,onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.a.createElement(R,null,o.a.createElement(P,null),o.a.createElement(S,{hsv:e},this.props.children))))}}])&&p(t.prototype,n),r&&p(t,r),a}(r.PureComponent);d(k,"propTypes",{hsv:a.a.object.isRequired,onChange:a.a.func.isRequired,children:a.a.node.isRequired}),t.default=k},Tadz:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("17x9"),u=n.n(a),c=n("eqw4"),l=n("ySsV"),s=n("Mzex"),f=n("832M"),p=n("Pwhp"),d=n("NI0h"),h=n("rQKZ"),b=n("aXXi"),g=n("v8xS"),y=n("60SJ");function v(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return!t||"object"!==x(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var x=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var R,P,S,k,C=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},T=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},I=(R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(a,e);var t,n,r,i=j(a);function a(){return m(this,a),i.apply(this,arguments)}return t=a,r=[{key:"getStores",value:function(){return[c.default,l.default,y.default]}},{key:"calculateState",value:function(){return{shouldPresent:c.default.isPresenting,showChartsOnScroll:y.default.getState().get("showChartsOnScroll"),projectId:l.default.infographicId,flexTemplateId:l.default.flexTemplateId,isZoomLayout:l.default.isZoomLayout}}}],(n=[{key:"componentDidMount",value:function(){this.props.openProject(this.state.projectId,this.state.flexTemplateId,this.props.options,this.state.isZoomLayout)}},{key:"componentWillUnmount",value:function(){this.props.closeProject(this.state.projectId)}},{key:"render",value:function(){return this.state.shouldPresent?o.a.createElement(f.default,{showChartsOnScroll:this.state.showChartsOnScroll,withPresenterView:!0}):this.props.shouldShowRevisions?o.a.createElement(d.default,null):o.a.createElement(s.default,{toolbar:o.a.createElement(p.default,{isFreeLayout:!0})})}}])&&O(t.prototype,n),r&&O(t,r),a}(r.Component),P=R,S="propTypes",k={shouldShowRevisions:u.a.bool.isRequired,openProject:u.a.func.isRequired,closeProject:u.a.func.isRequired,options:u.a.object},S in P?Object.defineProperty(P,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):P[S]=k,R);I=C([Object(i.connect)((function(e){return{shouldShowRevisions:e.getIn(["revisions","shouldShowRevisions"])}}),(function(e){return{openProject:function(t,n,r,o){return(i=function(){return T(this,(function(i){switch(i.label){case 0:return[4,Object(g.loadTemplate)(n)];case 1:return i.sent(),e({type:b.FLEX_EDITOR_OPEN_PROJECT,payload:{projectId:t,options:r,useBackboneModel:!0,isZoomLayout:o}}),[2]}}))},function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){v(o,n,r,a,u,"next",e)}function u(e){v(o,n,r,a,u,"throw",e)}a(void 0)}))})();var i},closeProject:function(t){e({type:b.FLEX_EDITOR_CLOSE_PROJECT,payload:{projectId:t}})}}})),Object(h.default)()],I)},UF7a:function(e,t,n){e.exports=n.p+"6b8334f7a9de92bdbb7f64b105a68b26.svg"},Uvuq:function(e,t,n){e.exports=n.p+"2734b7a0dbef19e0903b8bc4da097f60.svg"},W0Zp:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("Jgc/"),s=n("TSYQ"),f=n.n(s),p=n("vOnD"),d=n("vmwM"),h=n("avnT"),b=n("WdyC"),g=n("XjPQ"),y=n("fJPJ"),v=n.n(y),m=n("qLhN"),O=n.n(m),w=n("Mp8E"),E=n("zkXd"),_=n("EKef"),x=n("USB3"),j=n("PXfb"),R=n.n(j);n("/fDD");function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?P(e):t}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function A(){var e=D(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px dotted #3195cb;\n    /* selector outset, see style.css */\n    margin: 30px;\n    pointer-events: auto;\n\n    ","\n"]);return A=function(){return e},e}function q(){var e=D(["\n    pointer-events: auto;\n    position: absolute;\n    height: 11px;\n    width: 11px;\n    margin: 3px;\n    background: #3195cb;\n    outline: solid 1px #fff;\n    cursor: pointer;\n\n    ","\n"]);return q=function(){return e},e}var N=p.default.div(A(),(function(e){return e.theme.id===x.default.id&&"\n        border-color: ".concat(x.default.blue500,";\n    ")})),B=p.default.div(q(),(function(e){return e.theme.id===x.default.id&&"\n        background: ".concat(x.default.blue500,";\n    ")})),U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(a,e);var t,n,r,i=M(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._onResizeStart=t._onResizeStart.bind(P(t)),t._onRotateStart=t._onRotateStart.bind(P(t)),t._onHandleMove=t._onHandleMove.bind(P(t)),t._onHandleStop=t._onHandleStop.bind(P(t)),t._onDragStart=t._onDragStart.bind(P(t)),t._onDrag=t._onDrag.bind(P(t)),t._onDragStop=t._onDragStop.bind(P(t)),t.onBackgroundDragStart=Object(E.createBackgroundDragHandler)({moveClip:b.moveImageMask,onStart:function(){return t.setState({draggingBackground:!0})},onEnd:function(){return t.setState({draggingBackground:!1})}}).bind(P(t)),t}return t=a,r=[{key:"getStores",value:function(){return[d.default,_.default]}},{key:"calculateState",value:function(e,t){var n,r=t.entity,o=t.scaleX,i=t.scaleY,a=d.default.currentImageClip,u=a.get("boundingBox"),c={left:u.get("left")*r.getWidth()*o,top:u.get("top")*r.getHeight()*i,width:u.get("width")*r.getWidth()*o,height:u.get("height")*r.getHeight()*i};return{mask:a,maskDimensions:c,selectorDimensions:{left:c.left-30,top:c.top-30,width:c.width+60,height:c.height+60},entityDimensions:{width:r.getWidth()*o,height:r.getHeight()*i},transformOriginOffset:d.default.transformOriginOffset,rotationAvailable:!r.getCalloutKey(),backgroundDragEnabled:!r.getCalloutKey(),imageURL:(n=_.default.editorState.getAssetURL(r.getProperty("assetId")),n.replace(/_q\.(jpg|jpeg|png|svg|gif)$/,".$1"))}}}],(n=[{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop),document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"_onResizeStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.dataset.origin,n=this.props,r=n.scaleX,o=n.scaleY;Object(b.startClipResize)({startPoint:Object(g.Point)(e.clientX,e.clientY),resizeOrigin:t,scaleX:r,scaleY:o}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onRotateStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,r=t.scaleY;Object(b.startClipRotate)({startPoint:Object(g.Point)(e.clientX,e.clientY),scaleX:n,scaleY:r}),document.addEventListener("mousemove",this._onHandleMove),document.addEventListener("mouseup",this._onHandleStop)}},{key:"_onHandleMove",value:function(e){e.stopPropagation(),Object(b.transformImageMask)(Object(g.Point)(e.clientX,e.clientY))}},{key:"_onHandleStop",value:function(){document.removeEventListener("mousemove",this._onHandleMove),document.removeEventListener("mouseup",this._onHandleStop)}},{key:"_onDragStart",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.scaleX,r=t.scaleY;Object(b.startClipMove)({startPoint:Object(g.Point)(e.clientX,e.clientY),scaleX:n,scaleY:r}),document.addEventListener("mousemove",this._onDrag),document.addEventListener("mouseup",this._onDragStop)}},{key:"_onDrag",value:function(e){e.stopPropagation(),Object(b.moveImageMask)(Object(g.Point)(e.clientX,e.clientY))}},{key:"_onDragStop",value:function(){document.removeEventListener("mousemove",this._onDrag),document.removeEventListener("mouseup",this._onDragStop)}},{key:"render",value:function(){var e,t=this.props.entity,n=this.state,r=n.mask,i=n.maskDimensions,a=n.selectorDimensions,u=n.entityDimensions,c=n.rotationAvailable,l=n.backgroundDragEnabled,s=n.imageURL,p=T({transform:"rotate(".concat(r.get("rotate"),"deg)")},i),d=T({transform:"rotate(".concat(r.get("rotate"),"deg)")},a),b={className:f()(v.a.mask,k({},v.a.maskPrezigram,!1)),style:p};return o.a.createElement("div",{className:v.a.container},o.a.createElement("img",{className:f()(v.a.background,(e={},k(e,v.a.draggableBackground,l),k(e,v.a.draggingBackground,this.state.draggingBackground),e)),src:s,onMouseDown:l?this.onBackgroundDragStart:void 0}),o.a.createElement(w.default,{id:t.getKey(),clip:r,type:"mask",src:s,width:u.width,height:u.height,maskProps:b,filters:t.getFilters(),editing:!0}),o.a.createElement("div",{className:v.a.selector,style:d},o.a.createElement(N,{onMouseDown:this._onDragStart}),c&&o.a.createElement("img",{src:R.a,onMouseDown:this._onRotateStart,className:O.a.rotationIcon}),o.a.createElement(B,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.NW,className:f()(v.a.nw,O.a.nw)}),o.a.createElement(B,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.NE,className:f()(v.a.ne,O.a.ne)}),o.a.createElement(B,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.SE,className:f()(v.a.se,O.a.se)}),o.a.createElement(B,{onMouseDown:this._onResizeStart,"data-origin":h.RESIZE_ORIGIN.SW,className:f()(v.a.sw,O.a.sw)})))}}])&&S(t.prototype,n),r&&S(t,r),a}(o.a.Component);k(U,"propTypes",{entity:c.a.record.isRequired,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired}),t.default=l.Container.create(U,{withProps:!0})},W1yj:function(e,t,n){e.exports=n.p+"4fb72f505d30d63dc89e91ddeb9e10d2.svg"},WJLs:function(e,t,n){e.exports=n.p+"d5cca40ace644d35ebc860cb51c24a05.svg"},WatP:function(e,t,n){e.exports=n.p+"434dec2ebffdf5828651a17dd55ed3dd.svg"},WtYs:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("/MKj"),u=n("vOnD"),c=n("USB3"),l=n("Zcty"),s=n("eT4A"),f=n("+EWy"),p=n("dkay");function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}var m=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function O(){var e,t,n=(e=["\n    float: right;\n    margin-top: 10px;\n    margin-right: 10px;\n    background-color: #2d2d2d;\n    border-radius: 4px;\n    width: 30px;\n    height: 30px;\n    cursor: pointer;\n    display: inline-block;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n    background-image: url(",");\n    background-size: 13px;\n    background-position: center center;\n    background-repeat: no-repeat;\n    pointer-events: auto;\n    &:hover {\n        background-color: #3195cb;\n    }\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return O=function(){return n},n}var w=u.default.div(O(),n("WatP"),(function(e){return e.theme.id===c.default.id&&"\n        box-shadow: ".concat(c.default.shadow.menus,";\n        background-color: ").concat(c.default.white,";\n        background-image: url(").concat(n("e5fd"),");\n        &:hover {\n            background-color: ").concat(c.default.blue500,";\n            background-image: url(").concat(n("WatP"),");\n        }\n    ")})),E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(n,e);var t=v(n);function n(){var e;return d(this,n),(e=t.apply(this,arguments)).edit=function(){Object(f.default)(),e.props.startEdit()},e}return n.prototype.render=function(){return i.a.createElement(w,{onClick:this.edit,"data-tooltip":r.default.t("app.freelayout_editor.edit"),"data-tooltip-position":"bottom"})},n}(o.PureComponent);E=m([Object(a.connect)(null,(function(e){return{startEdit:function(){e({type:p.INPLACE_EDITOR_SET_EDITING,payload:{editing:!0}}),l.default.dispatch({type:s.DATA_TABLE_OPEN,inPlaceEditing:!0})}}}))],E)},Wuuo:function(e,t,n){"use strict";function r(e,t,n){var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=a.value;e=e.setEntity(c,{hidden:n})}}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}n.r(t),n.d(t,"setVisibility",(function(){return r}))},X7Jj:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return P}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("z3Ib"),f=n("B6Rb"),p=n("ZgL/"),d=n("USB3"),h=n("30eB"),b=n.n(h);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function E(){var e,t,n=(e=["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return E=function(){return n},n}var _,x,j,R=l.default.div(E(),(function(e){return e.solid&&"\n        border: 1px solid ".concat(e.theme.id===d.default.id?d.default.blue500:"#3195cb",";\n    ")})),P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=w(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._refs={},t._handlers={resize:t._assignHandler("resize"),resizeSide:t._assignHandler("resizeSide"),resizeWidth:t._assignHandler("resizeWidth"),scaleText:t._assignHandler("scaleText"),select:t._assignHandler("select_entity")},t}return t=a,(n=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?p.default.addHandler(n,e,t.props.entity.getKey()):t._refs[e]&&p.default.removeHandler(t._refs[e],e,t.props.entity.getKey()),t._refs[e]=n}}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.width,r=e.height,i=e.selected,a=e.resizing,u=e.dragging,c=e.hovered,l=a||u,p=Object(f.getOverlayMode)(t);return o.a.createElement("div",{className:b.a.overlay},o.a.createElement(R,{solid:i||!l&&c,ref:this._handlers.select}),i&&!u&&o.a.createElement(s.default,{width:n,height:r,handlers:this._handlers,rotation:0,resizing:a,mode:p}))}}])&&g(t.prototype,n),r&&g(t,r),a}(r.PureComponent);_=P,x="propTypes",j={entity:c.a.record.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,selected:a.a.bool.isRequired,resizing:a.a.bool.isRequired,dragging:a.a.bool.isRequired,hovered:a.a.bool.isRequired},x in _?Object.defineProperty(_,x,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[x]=j},XGeZ:function(e,t,n){e.exports=n.p+"9140957c7c751684a0d27d0da5364eff.svg"},XPW7:function(e,t,n){e.exports=n.p+"3080190c0361b3120dd87f61368261df.svg"},YNSi:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("/MKj"),s=n("1GB4"),f=n("vmwM"),p=n("rQKZ"),d=n("5ERT"),h=n("AWSl"),b=n("f4JI"),g=n("0ENQ"),y=n("U+ZW"),v=n("gnXf"),m=n("5I7P");function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?O(e):t}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var C,T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=(C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(a,e);var t,n,r,i=k(a);function a(){var e;return w(this,a),_(O(e=i.apply(this,arguments)),"state",{hoveredTimerId:void 0,hoveredEntity:void 0}),_(O(e),"_showPreview",(function(t){var n=e.state.hoveredTimerId;n&&(clearTimeout(n),n=void 0),e.setState({hoveredEntity:t,hoveredTimerId:n})})),_(O(e),"_clearHidePreviewTimer",(function(){e.state.hoveredTimerId&&(clearTimeout(e.state.hoveredTimerId),e.setState({hoveredTimerId:void 0}))})),_(O(e),"_hidePreviewOnTimeout",(function(){var t=setTimeout((function(){e.setState({hoveredEntity:void 0,hoveredTimerId:void 0})}),y.CALLOUT_HIDE_DELAY);e.setState({hoveredTimerId:t})})),_(O(e),"_hidePreview",(function(){e.state.hoveredTimerId&&clearTimeout(e.state.hoveredTimerId),e.setState({hoveredTimerId:void 0,hoveredEntity:void 0})})),_(O(e),"_closeCallout",(function(){e.props.entity&&e.props.calloutOpen&&e.props.onToggleCallout(e.props.entity)})),_(O(e),"_selectEntity",(function(t){e.props.onSelectionChange(s.default.singleItem(t.getKey()))})),e}return t=a,r=[{key:"getStores",value:function(){return[f.default]}},{key:"calculateState",value:function(e,t){return{entityIsBeingClipped:f.default.activeType&&t.entity&&t.entity.key===f.default.activeEntityKey}}}],(n=[{key:"componentDidUpdate",value:function(e){if(this.props.entity!==e.entity||this.props.hoveredEntity!==e.hoveredEntity){var t=this.props.hoveredEntity,n=this.props.entity&&this.props.entity.getKey();t&&t!==e.hoveredEntity&&t.getCallout()&&t.getKey()!==n?this._showPreview(t):this.state.hoveredEntity&&this.state.hoveredEntity.getKey()===n?this._hidePreview():e.hoveredEntity&&this.state.hoveredEntity===e.hoveredEntity&&this._hidePreviewOnTimeout()}}},{key:"componentDidMount",value:function(){Object(d.default)(this.props.block,this.props.assets)}},{key:"componentWillUnmount",value:function(){this.state.hoveredTimerId&&clearTimeout(this.state.hoveredTimerId)}},{key:"render",value:function(){var e=this.props,t=e.entity,n=e.callout,r=e.calloutOpen,i=e.calloutEntities,a=e.calloutBounds,u=e.calloutScale,c=e.scaleX,l=e.scaleY,s=this.state,f=s.hoveredEntity,p=s.entityIsBeingClipped;return o.a.createElement(o.a.Fragment,null,n&&r&&!p&&o.a.createElement(v.default,x({key:t.getKey(),entity:t,design:this.props.design,assets:this.props.assets,callout:n,calloutEntities:i,bounds:a,selectedEntities:this.props.selectedEntities,onEntityMouseDown:this.props.onEntityMouseDown,onEntityMouseUp:this.props.onEntityMouseUp,onClose:this._closeCallout},u)),n&&!r&&!p&&o.a.createElement(m.default,{entity:t,entityBounds:t.bounds(),callout:n,scaleX:c,scaleY:l,onToggleCallout:this.props.onToggleCallout}),f&&o.a.createElement(m.default,{entity:f,entityBounds:f.bounds(),callout:f.getCallout(),scaleX:c,scaleY:l,onToggleCallout:this._selectEntity,onMouseLeave:this._hidePreviewOnTimeout,onMouseEnter:this._clearHidePreviewTimer}))}}])&&E(t.prototype,n),r&&E(t,r),a}(r.Component),_(C,"propTypes",{design:c.a.map.isRequired,assets:a.a.shape({getURL:a.a.func.isRequired}),block:c.a.record.isRequired,selectedEntities:c.a.set,hoveredEntity:c.a.record,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,pageSize:a.a.shape({width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,onEntityMouseDown:a.a.func.isRequired,onEntityMouseUp:a.a.func.isRequired,entity:c.a.record,callout:c.a.map,calloutOpen:a.a.bool,calloutEntities:c.a.list,calloutScale:a.a.shape({scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired}),calloutBounds:a.a.shape({top:a.a.string.isRequired,left:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}),onToggleCallout:a.a.func.isRequired,onSelectionChange:a.a.func.isRequired}),C);I=T([Object(l.connect)((function(e,t){var n,r,o,i,a,u=t.block,c=t.pageSize,l=t.scaleX,s=t.scaleY,f=e.get("calloutEdit"),p=f.entityKey&&u.getKey()===f.blockKey?u.getEntity(f.entityKey):void 0;if(p&&p.getCallout()){if(o=p.getCallout(),n=f.get("calloutOpen")){r=u.getEntitiesByKeys(o.get("entities"),{orderByKeys:!0}),i=Object(h.default)(o,c,{scaleX:l,scaleY:s});var d="overlay"===o.get("type");a=Object(b.default)(o.get("position"),o.get("width"),o.get("height"),{entityBounds:p.bounds(),isOverlay:d,pageSize:c,scaleX:l,scaleY:s,calloutScale:i})}}else p=void 0;return{entity:p,callout:o,calloutOpen:n,calloutEntities:r,calloutScale:i,calloutBounds:a}}),(function(e){return{onToggleCallout:function(t){e({type:g.CALLOUTS_TOGGLE_CALLOUT,payload:{entity:t}})}}}),null,{areStatesEqual:function(e,t){return e.get("calloutEdit")===t.get("calloutEdit")},areStatePropsEqual:function(e,t){return e.entity===t.entity&&e.callout===t.callout&&e.calloutOpen===t.calloutOpen&&e.calloutEntities===t.calloutEntities&&e.calloutScale===t.calloutScale&&e.calloutBounds===t.calloutBounds}}),Object(p.default)({withProps:!0})],I)},YP07:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return S}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("rQKZ"),s=n("vmwM"),f=n("ZgL/"),p=n("xVW7"),d=n("MYRr"),h=n("30eB"),b=n.n(h);function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}var E,_,x,j,R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},S=(E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=w(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._refs={},t._handlers={resize:t._assignHandler("callout"),resizeSide:t._assignHandler("callout"),select:t._assignHandler("select_entity")},t}return t=a,r=[{key:"getStores",value:function(){return[s.default,p.default]}},{key:"calculateState",value:function(){return{clipping:!!s.default.activeType,dragging:p.default.dragging,resizing:p.default.resizing}}}],(n=[{key:"_assignHandler",value:function(e){var t=this;return function(n,r){var o=r?"".concat(e,"_").concat(r):e;n?f.default.addHandler(n,o,t.props.entityKey):t._refs[o]&&f.default.removeHandler(t._refs[o],o,t.props.entityKey),t._refs[o]=n}}},{key:"render",value:function(){var e=this.props,t=e.entities,n=e.callout,r=this.state,i=r.dragging,a=r.resizing,u=r.clipping,c=t.size>1||"TEXT"!==t.first().getType()||!n.get("fixedPaddings"),l="resize-".concat(this.props.entityKey,"-").concat(n.get("fixedPaddings"));return o.a.createElement("div",{className:b.a.calloutOverlay},o.a.createElement("div",{className:b.a.calloutOverlaySelect,ref:this._handlers.select}),!i&&!u&&o.a.createElement(d.default,{key:l,handlers:this._handlers,resizing:a,withVerticalResize:c}))}}])&&g(t.prototype,n),r&&g(t,r),a}(r.Component),_=E,x="propTypes",j={entityKey:a.a.string.isRequired,callout:c.a.map.isRequired,entities:c.a.list.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,hovered:a.a.bool.isRequired,selected:a.a.bool.isRequired},x in _?Object.defineProperty(_,x,{value:j,enumerable:!0,configurable:!0,writable:!0}):_[x]=j,E);S=R([Object(l.default)(),P("design:type",Function),P("design:paramtypes",[void 0])],S)},"Z+h/":function(e,t,n){"use strict";n.r(t);var r=n("17x9"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("TSYQ"),f=n.n(s),p=n("Jgc/"),d=n("vmwM"),h=n("Tha3"),b=n("hl5+"),g=n("xVW7"),y=n("/QJz"),v=n("W0Zp"),m=n("z3Ib"),O=n("4fFA"),w=n("avnT"),E=n("B6Rb"),_=n("hDjw"),x=n("USB3"),j=n("qLhN"),R=n.n(j),P=n("PXfb"),S=n.n(P);n("/fDD");function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}function A(){var e=D(["\n    height: 1px;\n    position: absolute;\n    left: 31px;\n    right: 31px;\n    top: calc(50% - 0.5px);\n    background: ",";\n\n    ","\n"]);return A=function(){return e},e}function q(){var e=D(["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n\n    ","\n\n    ","\n\n    ","\n"]);return q=function(){return e},e}var N,B,U,Y=l.default.div(A(),(function(e){return e.theme.id===x.default.id?x.default.blue500:"#3195cb"}),(function(e){return e.locked&&"\n        background: ".concat(e.theme.id===x.default.id?x.default.neutral60:"#949496",";\n    ")})),K=l.default.div(q(),(function(e){return e.solid&&"\n        border: 1px solid ".concat(e.theme.id===x.default.id?x.default.blue500:"#3195cb",";\n    ")}),(function(e){return e.locked&&"\n        border: 1px solid ".concat(e.theme.id===x.default.id?x.default.neutral60:"#949496",";\n    ")}),(function(e){return e.none&&"\n        border: none;\n    "})),X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(u,e);var t,n,r,o=M(u);function u(){return k(this,u),o.apply(this,arguments)}return t=u,r=[{key:"getStores",value:function(){return[d.default,g.default]}},{key:"calculateState",value:function(e,t){var n=g.default.activeHandle;return{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.entity.getKey(),isResizing:g.default.resizing,isDragging:g.default.dragging,clipping:d.default.activeEntityKey===t.entity.getKey()?d.default.activeType:null,mode:Object(E.getOverlayMode)(t.entity)}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.handlers,n=e.hovered,r=e.selected,o=e.multiSelectionActive,u=e.entity,c=e.scaleX,l=e.scaleY,s=e.editing,p=this.state,d=p.isRotating,g=p.isResizing,E=p.isDragging,x=p.clipping,j=p.mode,P=d||g||E,k=j===w.OVERLAY_MODES.CONNECTOR,C=u.getTransform().getRotate(),T=u.getProperty("crop"),I=u.getProperty("mask"),z=u.locked,D=x?u:Object(h.calculateClippedRectangle)(u),L={transform:"rotate(".concat(C||0,"deg)"),top:D.top*this.props.scaleY,left:D.left*this.props.scaleX,width:D.width*this.props.scaleX,height:D.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:E&&!x?.5:1};if(k&&(L.top=0,L.left=0,L.width="100%",L.height="100%"),x&&T){var M=T.get("left")+(100-T.get("left")-T.get("right"))/2,A=T.get("top")+(100-T.get("top")-T.get("bottom"))/2;L.transformOrigin="".concat(M,"% ").concat(A,"%")}else if(x&&I){var q=100*I.get("center").get("left"),N=100*I.get("center").get("top");L.transformOrigin="".concat(q,"% ").concat(N,"%")}var B={},U=0;I&&!x?(U=I.get("rotate"),B.transform="rotate(".concat(U,"deg)")):x&&(B.display="none");var X,H=C+U;x===b.IMAGE_CROP?X=a.a.createElement(y.default,{entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY}):x===b.IMAGE_MASK&&(X=a.a.createElement(v.default,{entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY}));var G=j===w.OVERLAY_MODES.RECTANGLE||j===w.OVERLAY_MODES.TEXT||j===w.OVERLAY_MODES.CONTAINERLESS,Z=k&&o;return a.a.createElement("div",{style:L},X,a.a.createElement("div",{className:f()(!k&&R.a.selector),style:B},a.a.createElement(K,{solid:G&&!z&&(r||!P&&n),locked:G&&z&&(r||!P&&n),none:j===w.OVERLAY_MODES.CONTAINERLESS&&s,ref:t.select}),j===w.OVERLAY_MODES.LINE&&(n&&!r&&!P||r&&z)&&a.a.createElement(Y,{locked:z}),Z&&!s&&a.a.createElement(_.default,{entity:u,scaleX:c,scaleY:l,block:this.props.block,pageSize:this.props.pageSize,readOnly:!1,overlay:!0}),r&&!z&&!o&&!this.props.commenting&&a.a.createElement(i.Fragment,null,(d||!g&!s)&&G&&a.a.createElement("img",{ref:t.rotate,className:R.a.rotationIcon,src:S.a}),!d&&!E&&a.a.createElement(i.Fragment,null,!k&&a.a.createElement(m.default,{isGroup:u.isGroup(),width:L.width,height:L.height,handlers:t,rotation:H,resizing:g,mode:j}),k&&a.a.createElement(O.default,{handlers:t,rotation:H,entity:u,scaleX:this.props.scaleX,scaleY:this.props.scaleY,block:this.props.block,pageSize:this.props.pageSize})))))}}])&&C(t.prototype,n),r&&C(t,r),u}(i.Component);N=X,B="propTypes",U={entity:c.a.record.isRequired,scaleX:o.a.number.isRequired,scaleY:o.a.number.isRequired,hovered:o.a.bool.isRequired,selected:o.a.bool.isRequired,handlers:o.a.object.isRequired,multiSelectionActive:o.a.bool,isClipping:o.a.bool,commenting:o.a.bool,block:o.a.any.isRequired,pageSize:o.a.shape({width:o.a.number.isRequired,height:o.a.number.isRequired}),editing:o.a.bool},B in N?Object.defineProperty(N,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):N[B]=U,t.default=p.Container.create(X,{withProps:!0})},ZGOS:function(e,t,n){var r=n("rRPG");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},ZTyM:function(e,t,n){var r=n("wa9k");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},"a+T+":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("/MKj"),u=n("vOnD"),c=n("weSN"),l=n("rQKZ"),s=n("EKef"),f=n("TJ0u"),p=n("USB3"),d=n("DvT9"),h=n("1GB4"),b=n("Sye6"),g=n("pbbw"),y=n("6Y9Q"),v=n("wr7g"),m=n("Wuuo"),O=n("IzIH"),w=n("xZ3h");function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function S(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function I(){var e=P(["\n    background-color: #434343;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    color: #ffffff;\n    font-size: 11px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    font-weight: 500;\n\n    ","\n"]);return I=function(){return e},e}function z(){var e=P(["\n    min-width: 180px;\n    background-color: #434343;\n    border-radius: 4px;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    cursor: default;\n\n    ","\n"]);return z=function(){return e},e}function D(){var e=P(["\n    padding: 5px 10px 10px 10px;\n    font-size: 11px;\n    border-bottom-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n    max-height: 300px;\n    overflow: auto;\n    background-color: #7d7d7d;\n\n    ","\n"]);return D=function(){return e},e}var L=u.default.div(I(),(function(e){return Object(p.prezigram)(e.theme)&&"\n        font-family: ".concat(p.default.fonts.ralewayBold,";\n        background-color: ").concat(p.default.neutral60,";\n        color: ").concat(p.default.neutral600,";\n    ")})),M=u.default.div(z(),(function(e){return Object(p.prezigram)(e.theme)&&"\n        background-color: ".concat(p.default.white,";\n        box-shadow: ").concat(p.default.shadow.default,";\n    ")})),A=u.default.div(D(),(function(e){return Object(p.prezigram)(e.theme)&&"\n        background-color: ".concat(p.default.white,";\n    ")})),q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=C(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).getEntityItems=function(){var t=e.state,n=t.entities,r=t.currentSelection;return n.map((function(t,n){return!t||void 0===n||t.getGroupKey()?null:i.a.createElement(c.default,{key:n,entity:t,index:n+1,onDrop:e.onDrop,isSelected:r.containsEntity(t.getKey()),onLayerClick:e._onLayerClick,onLockToggle:e._onLockToggle,onVisibilityToggle:e._onVisibilityToggle})})).reverse()},e._onLockToggle=function(e){var t=e.isLocked()?v.unlockEntities:v.lockEntities;Object(g.default)(t(s.default.editorState,[e.getKey()]))},e._onVisibilityToggle=function(e){var t=!e.isHidden();Object(g.default)(Object(m.setVisibility)(s.default.editorState,[e.getKey()],t))},e.onDrop=function(e,t){Object(g.default)(Object(y.sendToIndex)(s.default.editorState,[t],e))},e._onLayerClick=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.state.currentSelection,o=t.getKey(),i=r.containsEntity(o),a=r.getEntities();n?i?Object(d.updateSelectionState)(h.default.createFromEntityKeys(a.filter((function(e){return e!==o})))):Object(d.updateSelectionState)(h.default.createFromEntityKeys(S(a).concat([o]))):i?Object(d.updateSelectionState)(h.default.createEmpty()):Object(d.updateSelectionState)(h.default.singleItem(o))},e.getPages=function(){for(var t=[],n=0;n<e.state.pageCount;n++)t.push(i.a.createElement("option",{key:n,value:n},r.default.t("app.chart_settings.columns_menu.url.page_n",{number:n+1})));return t},e.changePage=function(e){Object(w.scrollToPage)(parseInt(e.target.value,10))},e}return n.prototype.render=function(){var e=this.getEntityItems();return(i.a.createElement(M,null,i.a.createElement(L,null,r.default.t("app.freelayout_editor.layerMap.buttonTitle")),i.a.createElement(A,null,i.a.createElement(O.default,{fitWidth:!0,value:this.state.activePageIndex,onChange:this.changePage},this.getPages()),e)))},n.getStores=function(){return[s.default,f.default,b.default]},n.calculateState=function(){var e=f.default.activePageIndex;return{activePageIndex:e.toString(),entities:s.default.editorState.getCurrentContent().getBlocks().get(e).entities,currentSelection:b.default.currentSelection,pageCount:s.default.defaultEditorState.getCurrentContent().getBlocks().size}},n}(o.Component);q=T([Object(a.connect)(),Object(l.default)({withProps:!0})],q)},a42G:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return M}));var r=n("17x9"),o=n.n(r),i=n("vOnD"),a=n("q1tI"),u=n.n(a),c=n("yb06"),l=n.n(c),s=n("/MKj"),f=n("Sye6"),p=n("TJ0u"),d=n("rQKZ"),h=n("xVW7"),b=n("XjPQ"),g=n("USB3");function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?y(e):t}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var j,R=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function S(){var e=E(["\n    pointer-events: auto;\n    position: absolute;\n    height: 13px;\n    width: 13px;\n    padding: 2px;\n    transform-origin: top left;\n    box-sizing: content-box;\n    cursor: crosshair;\n"]);return S=function(){return e},e}function k(){var e=E(["\n    pointer-events: none;\n    height: 11px;\n    width: 11px;\n    border-radius: 100%;\n    background-color: #3195cb;\n    border: 1px solid #fff;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n\n    ","\n"]);return k=function(){return e},e}var C=["create-n","create-e","create-s","create-w"];var T,I,z,D=i.default.div(S()),L=i.default.div(k(),(function(e){return e.theme.id===g.default.id&&"\n        background-color: ".concat(g.default.blue500,";\n    ")})),M=(j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,e);var t,n,r,o=x(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e))._setRef=t._setRef.bind(y(t)),t._storePositions=t._storePositions.bind(y(t)),t._findActiveResize=t._findActiveResize.bind(y(t)),t._handleMouseDown=t._handleMouseDown.bind(y(t)),t._handleMouseUp=t._handleMouseUp.bind(y(t)),t._refs={},t}return t=i,r=[{key:"getStores",value:function(){return[p.default,f.default,h.default]}},{key:"calculateState",value:function(e,t){var n=p.default.scrolling,r=t&&t.resizing,o=e&&e.positions,i=f.default.currentSelection,a=h.default.dragging,u=h.default.pointerMovedX,c=h.default.pointerMovedY,l=e&&e.selected;return e&&e.resizing&&!r&&(l=null),{positions:o,selected:l,scrolling:n,resizing:r,selection:i,dragX:u,dragY:c,dragging:a}}}],(n=[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){var n,r;(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.selection!==this.state.selection||t.dragging!==this.state.dragging||e.rotation!==this.props.rotation||(n=e.entityRect,r=this.props.entityRect,n.width!==r.width||n.height!==r.height||n.left!==r.left||n.top!==r.top))&&this._storePositions()}},{key:"render",value:function(){var e=this,t=this.props,n=t.entityRect,r=t.zoom,o=this.props.rotation,i=this.state,a=i.selected,c=i.dragX,l=i.dragY,s=this._findActiveResize(),f=function(e,t){var n=function(e){var t=e.left,n=e.top,r=e.width,o=e.height;return{"create-n":{x:t+r/2,y:n},"create-e":{x:t+r,y:n+o/2},"create-s":{x:t+r/2,y:n+o},"create-w":{x:t,y:n+o/2}}}(e),r=Object(b.centerOf)(e),o=Object(b.rad)(Object(b.positiveDeg)(t));for(var i in n){var a=n[i],u=Object(b.Point)(0,0),c=1;switch(i){case"create-e":u.x=9;break;case"create-w":u.x-=26,c=-1;break;case"create-n":u.y-=26;break;case"create-s":u.y=9,c=-1}a.x+=u.x,a.y+=u.y;var l=Object(b.rotatePoint)(a,o,r),s=Object(b.Point)(l.x-r.x,l.y-r.y),f=Math.atan2(-s.x,s.y),p=Object(b.movePoint)(l,f,8*c);a.x=Math.round(p.x),a.y=Math.round(p.y)}return n}(n,o);return a&&null!==c&&(f[a].x=c*r+30-8,f[a].y=l*r+30-8,o=0),u.a.createElement("div",null,C.map((function(t){return u.a.createElement(D,{style:{left:f[t].x,top:f[t].y,transform:"rotate(".concat(o,"deg)")},key:t,ref:function(n){return e._setRef(t,n)},onMouseDown:function(){return e._handleMouseDown(t)},onMouseUp:e._handleMouseUp},u.a.createElement(L,{style:{transform:e._getTransform(t,s,a)}}))})))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,r=this.state,o=r.positions,i=r.selected;if(i)return{type:i,scale:1};var a=null;return!o||i||t||Object.keys(o).forEach((function(e){var t=o[e],r=t?Math.floor(Object(b.distance)(n,t)):1/0;(!a||r<a.distance)&&(a={type:e,distance:r})})),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>86)return 0;var t=.75*(99-e)/86+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getTransform",value:function(e,t,n){var r=0;return n===e&&(r=1),!n&&t&&t.type===e&&(r=t.scale),"scale(".concat(r,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach((function(n){var r=e._refs[n];t[n]=r?e._getPosition(r):null})),this.setState({positions:t})}},{key:"_setRef",value:function(e,t){this.props.handlers.connectorCreate(t),this._refs[e]=t}},{key:"_handleMouseDown",value:function(e){this.setState({selected:e})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}])&&v(t.prototype,n),r&&v(t,r),i}(a.Component),T=j,I="propTypes",z={entityRect:o.a.object.isRequired,handlers:o.a.object.isRequired,rotation:o.a.number.isRequired,zoom:o.a.number.isRequired,resizing:o.a.bool.isRequired,mode:o.a.string.isRequired,mousePosition:l.a.contains({x:o.a.number.isRequired,y:o.a.number.isRequired})},I in T?Object.defineProperty(T,I,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[I]=z,j);M=R([Object(s.connect)((function(e){return{mousePosition:e.get("mousePosition"),zoom:e.getIn(["editorZoom","zoom"])}})),Object(d.default)({withProps:!0}),P("design:type",Function),P("design:paramtypes",[void 0])],M)},alRy:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("yMTd"),o=n("XjPQ");function i(e,t,n){var i=n.mouseX,a=n.mouseY,u=n.scaleX,c=n.scaleY,l=n.isZoomLayout,s=Object(r.getElementForBlock)(e).getBoundingClientRect(),f=Object(o.Point)(i-s.left,a-s.top);if(t){var p=function(e,t,n){var r=e.bounds();return Object(o.Rectangle)(r.left*t-.05*r.width*t,r.top*n-.05*r.height*n,r.width*t*1.1,r.height*n*1.1)}(t,u,c);(function(e,t){return e.x<t.left||e.x>t.left+t.width||e.y<t.top||e.y>t.top+t.height})(f,p)&&(f=function(e,t){var n=Object(o.Point)(t.left+t.width/2,t.top+t.height/2),r=(n.y-e.y)/(n.x-e.x),i=t.top+t.height,a=t.left+t.width;if(e.x<=n.x){var u=r*(t.left-e.x)+e.y;if(t.top<=u&&u<=i)return Object(o.Point)(t.left,u)}if(e.x>=n.x){var c=r*(a-e.x)+e.y;if(t.top<=c&&c<=i)return Object(o.Point)(a,c)}if(e.y<=n.y){var l=(t.top-e.y)/r+e.x;if(t.left<=l&&l<=a)return Object(o.Point)(l,t.top)}if(e.y>=n.y){var s=(i-e.y)/r+e.x;if(t.left<=s&&s<=a)return Object(o.Point)(s,i)}return e}(f,p));var d=t.getTransform().getRotate();if(0!==d){var h=Object(o.centerOf)(t.rectangle());h=Object(o.Point)(h.x*u,h.y*c),f=Object(o.rotatePoint)(f,-Object(o.rad)(d),h)}return f=Object(o.Point)(f.x/u-t.left,f.y/c-t.top),Object(o.Point)(f.x/t.width,f.y/t.height)}return l?Object(o.Point)(f.x/s.width,f.y/s.height):Object(o.Point)(Math.max(0,Math.min(1,f.x/s.width)),Math.max(0,Math.min(1,f.y/s.height)))}},bPwz:function(e,t,n){"use strict";n.r(t);var r=n("JwJ8");n.d(t,"default",(function(){return r.default}))},cOS8:function(e,t,n){"use strict";n.r(t),n.d(t,"OnboardingStepDescriptions",(function(){return f}));var r=n("XzT5"),o=n("q1tI"),i=n("vOnD"),a=n("3TRz");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){var e,t,n=(e=["\n    color: #abc0f8;\n    &:hover {\n        color: #d9e3fc;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return c=function(){return n},n}var l,s=i.default.a(c()),f=(u(l={},a.OnboardingStep.AddItem,(function(){return r.default.t("app.onboarding.steps.add_item")})),u(l,a.OnboardingStep.ColorPaletteAndPageSize,(function(){return r.default.t("app.onboarding.steps.color_palette_and_page_size")})),u(l,a.OnboardingStep.PresentInFullScreen,(function(){return r.default.t("app.onboarding.steps.present_in_full_screen")})),u(l,a.OnboardingStep.ShareProject,(function(){return r.default.t("app.onboarding.steps.share_project")})),u(l,a.OnboardingStep.EditChartData,(function(){return r.default.t("app.onboarding.steps.edit_chart_data")})),u(l,a.OnboardingStep.SearchAssets,(function(){return r.default.t("app.onboarding.steps.search_assets")})),u(l,a.OnboardingStep.AddAnimation,(function(){return r.default.t("app.onboarding.steps.add_animation")})),u(l,a.OnboardingStep.EditImage,(function(){return r.default.t("app.onboarding.steps.edit_image")})),u(l,a.OnboardingStep.TransformTransition,(function(){return o.createElement(o.Fragment,null,o.createElement("div",null,r.default.t("app.onboarding.transform_transition_onboarding")),o.createElement(s,{href:"https://support.prezi.com/hc/en-us/articles/4427288487831"},r.default.t("app.onboarding.transform_transition_support_link")))})),u(l,a.OnboardingStep.Checked,(function(){return""})),l)},cfN3:function(e,t,n){"use strict";n.r(t),n.d(t,"FirstTimeBrandkitAvailable",(function(){return O}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("XzT5"),u=n("LvDl"),c=n.n(u),l=n("k0mc"),s=n("gfdX"),f=n("hrfg"),p=n("3TRz"),d=n("eb5B"),h=n("EKef"),b=n("tFc1");function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=Object(r.lazy)((function(){return n.e(9).then(n.bind(null,"UyZ5"))})),O=function(e){var t,n,u=e.activeBrandkitId,h=Object(i.useDispatch)(),b=Object(i.useSelector)((function(e){return e.get("branding")})),g=Object(i.useSelector)((function(e){return e.get("userSettings")})),O="brandkit_first_time_available"in g&&!g.brandkit_first_time_available,w=null==b?void 0:b.loaded,E=null==b?void 0:null===(t=b.brandkits)||void 0===t?void 0:t.map((function(e){return e.id})),_=g.brandkits_seen,x=c.a.difference(null==E?void 0:E.filter((function(e){return e!==u})),_)[0],j=null==b?void 0:null===(n=b.brandkits)||void 0===n?void 0:n.find((function(e){return e.id===x})),R=Object(r.useCallback)((function(){var e=E&&u?v(new Set(E.concat([u]))):E;h(Object(d.updateUserSettings)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}(y({},p.UserSetting.FirstTimeAvailable,!0),e&&y({},p.UserSetting.BrandkitsSeen,e))))}),[h,E,u]);Object(r.useEffect)((function(){w||h(Object(f.loadBrandkits)())}),[w,h]),Object(r.useEffect)((function(){j&&l.glassboxWebPrezigram.logLoadedNewBrandkitPopup()}),[j]),Object(r.useEffect)((function(){!j&&u&&_&&!_.includes(u)&&R()}),[j,_,R,u]);var P=!O&&!(null==_?void 0:_.length)&&(null==E?void 0:E.length);return Object(r.useEffect)((function(){P&&R()}),[P,R]),!j||P?null:o.a.createElement(m,{title:O?a.default.t("app.brandkit.popup.first_time_brandkit_title"):a.default.t("app.brandkit.popup.new_brandkit_available"),body:a.default.t("app.brandkit.popup.body2"),brandkit:j,onContinue:function(){Object(s.openBrandkitSelector)(),R(),l.glassboxWebPrezigram.logContinueToNewBrandkit()},close:R})};t.default=Object(b.withFluxProps)([h.default],(function(){var e;return{activeBrandkitId:null===(e=h.default.brandkit)||void 0===e?void 0:e.get("id")}}))(O)},dGoc:function(e,t,n){var r=n("r5Ws");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},dcZU:function(e,t,n){"use strict";n.r(t);var r=n("17x9"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),f=n("Jgc/"),p=n("xVW7"),d=n("vmwM"),h=n("a42G"),b=n("avnT"),g=n("B6Rb"),y=n("qLhN"),v=n.n(y),m=n("Tha3");function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(i,e);var t,n,r,o=P(i);function i(){return O(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getStores",value:function(){return[p.default,d.default]}},{key:"calculateState",value:function(e,t){var n=t.entity,r=Object(g.getOverlayMode)(n),o=!(d.default.activeEntityKey!==n.getKey()||!d.default.activeType);return{isResizing:p.default.resizing,isDragging:p.default.dragging,mode:r,createHandlesVisible:!n.locked&&r===b.OVERLAY_MODES.RECTANGLE&&!o}}}],(n=[{key:"render",value:function(){var e=this.state,t=e.isResizing,n=e.isDragging,r=e.mode;if(!e.createHandlesVisible)return null;var o=this.props,i=o.handlers,u=o.entity,c=r===b.OVERLAY_MODES.RECTANGLE,l=Object(m.calculateClippedRectangle)(u),f=l.transform.rotate,p={top:0,left:0,width:"100%",height:"100%",position:"absolute",pointerEvents:"none",zIndex:2,opacity:n?.5:1},d={top:l.top*this.props.scaleY+30,left:l.left*this.props.scaleX+30,width:l.width*this.props.scaleX,height:l.height*this.props.scaleY};return u.getCallout()?null:a.a.createElement("div",{style:p},a.a.createElement("div",{className:s()(E({},v.a.selector,c))},a.a.createElement(h.default,{entityRect:d,handlers:i,rotation:f,resizing:t,mode:r})))}}])&&w(t.prototype,n),r&&w(t,r),i}(i.Component);E(S,"propTypes",{entity:c.a.record.isRequired,scaleX:o.a.number.isRequired,scaleY:o.a.number.isRequired,handlers:o.a.object.isRequired}),t.default=f.Container.create(S,{withProps:!0})},dqxC:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("Zcty"),o=n("hl5+");function i(e){r.default.dispatch({type:o.ADD_LAYOUT,layout:e})}},dtaK:function(e,t,n){e.exports=n.p+"bba36cbb2865970c732fce62461d92df.svg"},duLV:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("Zcty"),o=n("hl5+");function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;r.default.dispatch({type:o.MOVE_ENTITIES,entityKeys:e,direction:t,stepSize:n})}},dwEA:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("USB3");function u(){var e,t,n=(e=["\n    font-weight: 500;\n    font-size: 11px;\n    line-height: 13px;\n    color: #656565;\n    margin: 6px 0;\n    text-align: center;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return u=function(){return n},n}var c=i.default.div(u(),(function(e){return e.theme.id===a.default.id&&"\n        color: ".concat(a.default.neutral600,";\n        opacity: ").concat(a.default.alpha40,";\n        font-family: ").concat(a.default.fonts.ralewayBold,";\n    ")}));t.default=function(e){var t=e.children;return(o.a.createElement(c,null,t))}},e5fd:function(e,t,n){e.exports=n.p+"738a3281b62ed6a6b8cafa28cc7cb713.svg"},eQHU:function(e,t,n){e.exports=n.p+"4b59ee38617d5d76a2ed3e09d0dc1a26.svg"},fDNJ:function(e,t,n){"use strict";n.r(t),n.d(t,"NotificationsZIndex",(function(){return f})),n.d(t,"Notifications",(function(){return d}));var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("VYD4"),u=n("dDeV"),c=n("u/T2"),l=n("cfN3");function s(){var e,t,n=(e=["\n    position: fixed;\n    bottom: 10px;\n    right: 10px;\n    z-index: ",";\n\n    &:empty {\n        display: none;\n    }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return s=function(){return n},n}var f=u.ToolbarZIndex+1,p=i.default.div(s(),f),d=function(){return o.a.createElement(p,null,o.a.createElement(c.default,null),a.default.features.brand_kit&&o.a.createElement(l.default,null))}},fJPJ:function(e,t,n){var r=n("D4ZG");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},gO3o:function(e,t,n){e.exports=n.p+"75184516596e637d8550f5292fbc18f2.svg"},"gn/5":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("/TeS"),o=n("alRy");function i(e,t,n){var i=n.mouseX,a=n.mouseY,u=n.scaleX,c=n.scaleY,l=n.isZoomLayout,s=Object(o.default)(e,t,{mouseX:i,mouseY:a,scaleX:u,scaleY:c,isZoomLayout:l});return{type:r.CONVERSATIONS_NEW_MARKER,payload:{blockId:e,objectId:t?t.getKey():void 0,positionX:s.x,positionY:s.y}}}},gnXf:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("TSYQ"),s=n.n(l),f=n("ZgL/"),p=n("yMTd"),d=n("864+"),h=n("MIJD"),b=n("YP07"),g=n("V1wf"),y=n("30eB"),v=n.n(y),m=n("kyW3"),O=n.n(m);function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function P(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?w(e):t}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return P(this,n)}}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(a,e);var t,n,r,i=C(a);function a(){var e;return E(this,a),x(w(e=i.apply(this,arguments)),"state",{hovered:!1}),x(w(e),"_refCallout",(function(t){var n=e.props.entity.getKey();t?(Object(p.setElementForCallout)(n,t),f.default.addHandler(t,"select_entity",n),e._callout=t):(Object(p.removeElementForCallout)(n),f.default.removeHandler(e._callout,"select_entity",n),e._callout=null)})),x(w(e),"_handleMouseDown",(function(t){e._callout===t.target&&e.props.onEntityMouseDown&&e.props.onEntityMouseDown(e.props.entity,t)})),x(w(e),"_handleMouseUp",(function(t){e._callout===t.target&&e.props.onEntityMouseUp&&e.props.onEntityMouseUp(e.props.entity,t)})),x(w(e),"_handleMouseEnter",(function(t){e._callout!==t.target||e.state.hovered?e._callout!==t.target&&e.state.hovered&&e.setState({hovered:!1}):e.setState({hovered:!0})})),x(w(e),"_handleMouseLeave",(function(t){e._callout===t.target&&e.state.hovered&&e.setState({hovered:!1})})),e}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.entity,r=t.callout,i=t.design,a=t.assets,u=t.calloutEntities,c=t.scaleX,l=t.scaleY,f=t.bounds,p="overlay"===r.get("type"),y=Object(d.default)(r,i);return o.a.createElement("div",{className:s()(v.a.callout,v.a[r.get("alignment")],O.a[r.get("position")]),style:R({},y,f),ref:this._refCallout,onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp,onMouseEnter:this._handleMouseEnter,onMouseLeave:this._handleMouseLeave},u&&u.map((function(t){return o.a.createElement(h.default,{key:t.getKey(),entity:t,design:i,assets:a,scaleX:c,scaleY:l,selected:e.props.selectedEntities.includes(t.getKey()),onMouseDown:e.props.onEntityMouseDown,onMouseUp:e.props.onEntityMouseUp})})),o.a.createElement(b.default,{entityKey:n.getKey(),callout:r,entities:u,width:f.width,height:f.height,hovered:this.state.hovered,selected:this.props.selectedEntities.first()===n.getKey()}),p&&o.a.createElement(g.default,{onClose:this.props.onClose}))}}])&&_(t.prototype,n),r&&_(t,r),a}(r.PureComponent);x(T,"propTypes",{entity:c.a.record.isRequired,callout:c.a.map.isRequired,calloutEntities:c.a.list,bounds:a.a.shape({top:a.a.string.isRequired,left:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired}).isRequired,selectedEntities:c.a.set,design:c.a.map.isRequired,assets:a.a.shape({getURL:a.a.func.isRequired}),scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,onEntityMouseDown:a.a.func.isRequired,onEntityMouseUp:a.a.func.isRequired,onClose:a.a.func.isRequired})},h0S4:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._14fds1zp4Ma7oI4rEDnhGT {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._3itQaNaHTNFtipKsYYg7oG {\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    box-sizing: border-box;\n}\n\n._1aOeiiOt3WygNFqvfCmBGX {\n    top: -24px;\n    right: -1px;\n    border-radius: 4px;\n    position: absolute;\n    color: white;\n    padding: 3px;\n    font-size: 12px;\n}\n\n.TcnmMDHaIbwLxPZx9J1Zl {\n    position: absolute;\n    pointer-events: none;\n    z-index: 1;\n}\n",""]),t.locals={container:"_14fds1zp4Ma7oI4rEDnhGT",border:"_3itQaNaHTNFtipKsYYg7oG",username:"_1aOeiiOt3WygNFqvfCmBGX",highlight:"TcnmMDHaIbwLxPZx9J1Zl"}},hBIi:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,'._1cAw051LQZOw2_jdfCzStQ {\n    background-color: #38a86f;\n    height: 40px;\n    border-radius: 6px;\n    color: white;\n    font-size: 15px;\n    text-align: center;\n    line-height: 40px;\n    font-weight: 500;\n    margin-top: 10px;\n    margin-bottom: 20px;\n    cursor: pointer;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:hover {\n    background-color: #64b88d;\n}\n\n._1cAw051LQZOw2_jdfCzStQ:after {\n  content: "";\n  display: block;\n  height: 20px;\n}\n',""]),t.locals={button:"_1cAw051LQZOw2_jdfCzStQ"}},haA1:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("k7+O"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("Jgc/"),f=n("/MKj"),p=n("vOnD"),d=n("EKef"),h=n("ySsV"),b=n("bPwz"),g=n("MeCa"),y=n("tY9K"),v=n("Bq+y"),m=n("a+T+"),O=n("Rh2K"),w=n("hl5+"),E=n("USB3");function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function k(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?_(e):t}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var D,L=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function M(){var e=T(["\n    cursor: default;\n    user-select: none;\n    font-size: 12px;\n    font-weight: 500;\n    padding: 18px 0;\n    background: #2b2b2b;\n    z-index: 2;\n    position: relative;\n\n    ","\n"]);return M=function(){return e},e}function A(){var e=T(["\n    z-index: -2; /*to hide shadow under minimap*/\n    position: absolute;\n    left: -260px;\n    transition: left 0.25s;\n    bottom: 0px;\n    background: #2b2b2b;\n    width: 180px;\n    padding: 9px 6px 11px 0;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n\n    ","\n\n    ","\n"]);return A=function(){return e},e}function q(){var e=T(["\n    display: inline-block;\n    background: #3c3c3c;\n    width: 2px;\n    border-radius: 1px;\n    display: inline-flex;\n    margin-left: 10px;\n    margin-right: 10px;\n    vertical-align: middle;\n    height: 30px;\n\n    ","\n"]);return q=function(){return e},e}function N(){var e=T(["\n    cursor: pointer;\n    color: #fff;\n    font-size: 14px;\n    padding: 7px 5px;\n    display: inline-flex;\n    vertical-align: middle;\n    text-align: center;\n\n    &:hover {\n        text-decoration: none;\n        color: #646464;\n        background: ",";\n        border-radius: 4px;\n    }\n\n    ","\n"]);return N=function(){return e},e}function B(){var e=T(["\n    position: absolute;\n    left: 50px;\n    bottom: 50px;\n    line-height: initial;\n    z-index: -1; /*to be hidden under styled element menu when opened*/\n}"]);return B=function(){return e},e}var U=p.default.div(M(),(function(e){return e.theme.id===E.default.id?"\n        background: ".concat(E.default.neutral400,";\n    "):""})),Y=p.default.div(A(),(function(e){return e.isZoomLayout&&"\n        width: 180px;\n    "}),(function(e){return e.theme.id===E.default.id?"\n        background: ".concat(E.default.neutral400,";\n        bottom: -2px;\n    "):""})),K=p.default.div(q(),(function(e){return e.theme.id===E.default.id?"\n        background: #FFFFFF;\n    ":""})),X=p.default.a(N(),(function(e){return e.theme.id===E.default.id?E.default.neutral300:"#656565;"}),(function(e){return e.disabled&&"\n        opacity: 0.4;\n        pointer-events: none;\n    "})),H=p.default.div(B());var G=(D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(l,e);var t,o,a,c=z(l);function l(){var e;return x(this,l),R(_(e=c.apply(this,arguments)),"state",{showGridPopup:!1,showLayoutPopup:!1,showLayerMap:!1,advancedSettingsPosition:{left:h.default.isZoomLayout&&e.props.miniMapVisible?48:-200}}),R(_(e),"_zoomIn",(function(){e.props.toSingleView({subAction:"zoom",value:1,isZoomLayout:e.state.isZoomLayout})})),R(_(e),"_zoomOut",(function(){e.props.toSingleView({subAction:"zoom",value:-1,isZoomLayout:e.state.isZoomLayout})})),R(_(e),"_zoomReset",(function(){e.props.toSingleView({subAction:"scale",value:1})})),R(_(e),"_onZoomHover",(function(){e.setState({advancedSettingsPosition:{left:48}})})),R(_(e),"_onZoomHoverEnd",(function(){e.state.isZoomLayout&&e.props.miniMapVisible||e.setState({advancedSettingsPosition:{left:-260}})})),R(_(e),"_fillWidth",(function(){e.props.toSingleView({subAction:"fullWidth",isZoomLayout:e.state.isZoomLayout})})),R(_(e),"_toggleFullScreen",(function(){u.a.enabled&&u.a.toggle(),e._fillWidth()})),R(_(e),"_toggleGridPopup",(function(){e.setState({showGridPopup:!e.state.showGridPopup,showLayoutPopup:!1})})),R(_(e),"_toggleLayoutPopup",(function(){e.setState({showGridPopup:!1,showLayoutPopup:!e.state.showLayoutPopup})})),R(_(e),"_toggleMiniMap",(function(){e.props.miniMapVisible?e.props.hideMiniMap():e.props.showMiniMap()})),R(_(e),"_toggleLayoutPopup",(function(){e.setState({showLayoutPopup:!e.state.showLayoutPopup})})),R(_(e),"_toggleLayerMap",(function(){e.setState({showLayerMap:!e.state.showLayerMap})})),e}return t=l,a=[{key:"getStores",value:function(){return[d.default,h.default]}},{key:"calculateState",value:function(e){return S(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}({},e),{thumbsViewDisabled:1===d.default.editorState.getCurrentContent().getBlocks().size,editorState:d.default.editorState,isZoomLayout:h.default.isZoomLayout,layoutIcon:d.default.editingDefaultLayout?"default":"mobile"})}}],(o=[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(v.default,{title:r.default.t("app.freelayout_editor.layerMap.buttonTitle"),tooltipText:r.default.t("app.freelayout_editor.layerMap.tooltip"),toggle:this._toggleLayerMap,open:this.state.showLayerMap,icon:"layers",iconSize:"15px 15px",iconPosition:"center 10px"},i.a.createElement(m.default,null)),this.state.isZoomLayout&&this.props.miniMapVisible&&i.a.createElement(H,null,i.a.createElement(g.default,{zoom:this.state.zoom,editorState:this.state.editorState})),!this.state.isZoomLayout&&i.a.createElement(v.default,{title:r.default.t("app.freelayout_editor.layout.buttonTitle"),tooltipText:r.default.t("app.freelayout_editor.layout.buttonTooltip_1"),toggle:this._toggleLayoutPopup,open:this.state.showLayoutPopup,icon:this.state.layoutIcon,iconSize:"24px 24px",iconPosition:"center 9px"},i.a.createElement(y.default,null)),i.a.createElement(v.default,{title:r.default.t("app.freelayout_editor.grid.buttonTitle"),tooltipText:r.default.t("app.freelayout_editor.grid.buttonTooltip"),toggle:this._toggleGridPopup,open:this.state.showGridPopup,icon:"grid"},i.a.createElement(b.default,{isZoomLayout:this.state.isZoomLayout})),i.a.createElement("div",{onMouseEnter:this._onZoomHover,onMouseLeave:this._onZoomHoverEnd},i.a.createElement(U,{onDoubleClick:this._zoomReset,"data-tooltip":r.default.t("app.freelayout_editor.reset_zoom")},"".concat(Math.round(100*this.props.zoom),"%")),i.a.createElement(Y,{isZoomLayout:this.state.isZoomLayout,style:this.state.advancedSettingsPosition},i.a.createElement(X,{onClick:this._zoomIn,"data-tooltip":r.default.t("app.freelayout_editor.zoom_in"),"data-tooltip-position":"top"},i.a.createElement("img",{src:n("qM+k")})),i.a.createElement(X,{onClick:this._zoomOut,"data-tooltip":r.default.t("app.freelayout_editor.zoom_out"),"data-tooltip-position":"top"},i.a.createElement("img",{src:n("W1yj")})),i.a.createElement(X,{onClick:this._fillWidth,"data-tooltip":r.default.t("app.freelayout_editor.fit_to_screen"),"data-tooltip-position":"top"},i.a.createElement("img",{src:n("PCE5")})),!this.state.isZoomLayout&&i.a.createElement(X,{disabled:this.state.thumbsViewDisabled,onClick:this.props.toThumbnailsView,"data-tooltip":r.default.t("app.freelayout_editor.thumbnails"),"data-tooltip-position":"top"},i.a.createElement("img",{src:n("kaKj")})),i.a.createElement(K,null),this.state.isZoomLayout&&i.a.createElement(X,{onClick:this._toggleMiniMap,"data-tooltip":r.default.t("app.freelayout_editor.pin_map"),"data-tooltip-position":"top"},i.a.createElement("img",{src:n("w3Az")})),i.a.createElement(X,{onClick:this._toggleFullScreen,"data-tooltip":r.default.t("app.freelayout_editor.full_screen"),"data-tooltip-position":"top"},i.a.createElement("img",{src:n("TAoN")})))))}}])&&j(t.prototype,o),a&&j(t,a),l}(o.Component),R(D,"propTypes",{toThumbnailsView:l.a.func.isRequired,toSingleView:l.a.func.isRequired,zoom:l.a.number.isRequired,miniMapVisible:l.a.bool.isRequired,hideMiniMap:l.a.func.isRequired,showMiniMap:l.a.func.isRequired,featureSwitches:l.a.object}),D);G=L([Object(f.connect)((function(e){var t=e.get("editorZoom"),n=e.get("miniMap");return{zoom:t.zoom*t.zoomChange,miniMapVisible:n.visible,featureSwitches:e.get("featureSwitches")||{}}}),(function(e){return{toThumbnailsView:function(){e({type:O.ZOOM_SWITCH_TO_THUMBS_VIEW})},toSingleView:function(t){e({type:O.ZOOM_SWITCH_TO_SINGLE_VIEW,payload:t})},showMiniMap:function(){e({type:w.SHOW_EDITOR_MINI_MAP})},hideMiniMap:function(){e({type:w.HIDE_EDITOR_MINI_MAP})}}}),null,{areStatesEqual:function(e,t){return e.get("editorZoom")===t.get("editorZoom")&&e.get("miniMap")===t.get("miniMap")&&e.get("featureSwitches")===t.get("featureSwitches")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.miniMapVisible===t.miniMapVisible}}),s.Container.create],G)},hfFo:function(e,t,n){e.exports=n.p+"d7ab86a1a63bbfbf7ecce448a120e213.svg"},i5wb:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return I}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("17x9"),u=n.n(a),c=n("/MKj"),l=n("wd/R"),s=n.n(l),f=n("TSYQ"),p=n.n(f),d=n("Zh7m"),h=n("aFOO"),b=n("rMMX"),g=n("KJEt"),y=n.n(g),v=n("R1L0");function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}function R(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?m(e):t}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}var C,T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=(_(C=function(e){j(n,e);var t=k(n);function n(){return O(this,n),t.apply(this,arguments)}return E(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.revisions,r=e.selectedIndex,o=e.previewRevision;return t?i.a.createElement(d.default,{customCss:"margin-top: 50px;"}):i.a.createElement(h.default,{height:"100%"},i.a.createElement("ul",{className:y.a.list},n.map((function(e,t){return i.a.createElement(z,{key:t,idx:t,revision:e,selected:r===t,previewFunc:o})}))))}}]),n}(o.PureComponent),"propTypes",{previewRevision:u.a.func.isRequired,loading:u.a.bool.isRequired,revisions:u.a.any.isRequired,selectedIndex:u.a.number.isRequired}),C);I=T([Object(c.connect)((function(e){return{loading:e.getIn(["revisions","loading"]),revisions:e.getIn(["revisions","revisions"]).filter((function(e){return!e.get("hidden")})),selectedIndex:e.getIn(["revisions","selectedIndex"])}}),(function(e){return{previewRevision:function(t){e({type:v.REVISION_PREVIEW,revisionIndex:t})}}}))],I);var z=function(e){j(n,e);var t=k(n);function n(e){var r;return O(this,n),(r=t.call(this,e)).previewRevision=r.previewRevision.bind(m(r)),r}return E(n,[{key:"previewRevision",value:function(){this.props.previewFunc(this.props.idx)}},{key:"render",value:function(){var e,t=this.props,n=t.idx,o=t.revision,a=t.selected,u=o.get("createdAt"),c=o.get("userName"),l=o.get("userAvatar");return e=0===n?r.default.t("app.revisions.current_version"):s.a.unix(u).format("YYYY-MM-DD, H:mm"),i.a.createElement("li",{className:p()(y.a.item,_({},y.a.selected,a)),onClick:this.previewRevision},i.a.createElement("div",null,i.a.createElement("div",null,e),i.a.createElement("div",{className:y.a.author},i.a.createElement(b.default,{avatarClass:y.a.avatar,avatarImage:l,fullName:c}),i.a.createElement("div",{className:y.a.name},c))))}}]),n}(o.PureComponent);_(z,"propTypes",{idx:u.a.number.isRequired,revision:u.a.object.isRequired,selected:u.a.bool.isRequired,previewFunc:u.a.func.isRequired})},iAio:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("XzT5"),a=n("/MKj"),u=n("WExX"),c=n("vOnD"),l=(n("k0mc"),n("Q5pq")),s=n("USB3"),f=n("qp1x"),p=n("tFc1"),d=n("TJ0u"),h=n("EKef"),b=n("NAkf"),g=n("X/JW"),y=n("2O/L"),v=n("3OL+"),m=n("uD2d"),O=n("ySsV"),w=n("1+J2");function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function j(){var e=x(["\n    margin-left: 0px;\n    top: 7px;\n    right: 7px;\n"]);return j=function(){return e},e}function R(){var e=x(["\n            border: 2px solid ",";\n            box-shadow: none;\n            background: ",";\n        "]);return R=function(){return e},e}function P(){var e=x(["\n    position: fixed;\n    top: ","px;\n    min-height: ","px;\n    z-index: 1;\n    flex-direction: column;\n    text-align: left;\n    font-weight: 500;\n    background: #3c3b3b;\n    border-top: 2px solid #2d2d2d;\n    box-sizing: border-box;\n\n    ","\n"]);return P=function(){return e},e}function S(){var e=x(["\n            background: transparent;\n        "]);return S=function(){return e},e}function k(){var e=x(["\n    padding: 0 28px;\n\n    ","\n"]);return k=function(){return e},e}function C(){var e=x(["\n    display: flex;\n    flex-direction: row;\n    align-items: flex-start;\n    justify-content: left;\n    margin: 0;\n    padding: 5px 0 0 0;\n"]);return C=function(){return e},e}function T(){var e=x(["\n            color: ",";\n            font-family: ",";\n        "]);return T=function(){return e},e}function I(){var e=x(["\n    font-size: 11px;\n    line-height: 15px;\n    color: #d8d8d8;\n    opacity: ",";\n\n    ","\n"]);return I=function(){return e},e}function z(){var e=x(["\n            background-color: transparent;\n        "]);return z=function(){return e},e}function D(){var e=x(["\n    flex-grow: 1;\n    position: relative;\n    padding: 8px 4px 5px 5px;\n    padding-left: 28px;\n\n    ","\n"]);return D=function(){return e},e}function L(){var e=x(["\n    height: 10px;\n    width: 100%;\n    cursor: row-resize;\n    position: absolute;\n    bottom: -10px;\n    z-index: 99991;\n"]);return L=function(){return e},e}function M(){var e=x(["\n    display: none;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: 99990;\n"]);return M=function(){return e},e}var A=Object(c.default)(l.HeaderClose)(j()),q=c.default.div.attrs((function(e){return{style:{left:"".concat(e.leftSideOffset,"px"),height:"".concat(e.$height,"px"),display:e.visible?"flex":"none",width:"calc(100% - ".concat(e.leftSideOffset+e.rightSideOffset,"px)")}}}))(P(),80,100,(function(e){return e.theme.id===s.default.id&&Object(c.css)(R(),s.default.neutral60,s.default.white)})),N=c.default.div(k(),(function(e){return e.theme.id===s.default.id&&Object(c.css)(S())})),B=c.default.div(C()),U=c.default.span(I(),s.default.alpha40,(function(e){return e.theme.id===s.default.id&&Object(c.css)(T(),s.default.neutral600,s.default.fonts.ralewayBold)})),Y=c.default.div(D(),(function(e){return e.theme.id===s.default.id&&Object(c.css)(z())})),K=c.default.div(L()),X=c.default.div(M());t.default=Object(p.withFluxProps)([d.default,h.default],(function(){var e=d.default.activePageIndex,t=d.default.activePageId;return-1===e&&(e=0,t=h.default.editorState.getCurrentContent().getBlocks().get(0).getKey()),{pageId:t,pageIndex:e,pageCount:h.default.editorState.getCurrentContent().getBlocks().size,notes:h.default.editorState.getBlockNotes(t)}}))((function(e){var t=e.pageId,n=e.pageIndex,c=e.pageCount,l=e.notes,s=_(Object(r.useState)(60),2),p=s[0],d=s[1],h=_(function(e){var t=_(Object(r.useState)(e),2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var t=g.default.addListener((function(){o(e+(g.default.elementMenuOpen?282:0))}));return function(){return t.remove()}}),[e]),[n]}(50),1)[0],E=_(function(e){var t=_(Object(r.useState)(e),2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var t=b.default.addListener((function(){o(b.default.open?b.default.width:e)}));return function(){return t.remove()}}),[e]),[n]}(232),1)[0],x=Object(a.useSelector)((function(e){return e.get("presenterNotes")})).open,j=Object(r.useRef)(!0),R=Object(a.useDispatch)(),P=function(){Object(w.logClosePresenterNotesWebJs)({project_id:O.default.infographicId}),R({type:Object(u.getType)(f.closePresenterNotes)})},S=Object(r.useCallback)((function(e){R({type:Object(u.getType)(f.setHeightPresenterNotes),payload:e})}),[R]),k=o.a.createRef(),C=o.a.createRef(),T=_(Object(r.useState)(100),2),I=T[0],z=T[1],D=_(Object(r.useState)(100),2),L=D[0],M=D[1],H=_(o.a.useState(!0),2),G=H[0],Z=H[1],F=_(o.a.useState(!1),2),V=F[0],W=F[1],J=_(o.a.useState(0),2),Q=J[0],$=J[1],ee=function(){k.current&&k.current.style.removeProperty("display"),W(!1),d(I-40),sessionStorage.setItem("presenterNotesHeight",I.toString()),S(I),G||(P(),Z(!0))},te=function(e){var t=Q-e.clientY,n=Math.min(L-t,window.innerHeight/2),r=Math.max(100,n);z(r),n<50?Z(!1):!G&&n>=100&&Z(!0)};Object(r.useEffect)((function(){if(V)return document.addEventListener("mouseup",ee),document.addEventListener("mousemove",te),document.body.style.cursor="row-resize",function(){document.body.style.removeProperty("cursor"),document.removeEventListener("mouseup",ee),document.removeEventListener("mousemove",te)}})),Object(r.useEffect)((function(){var e=Number(sessionStorage.getItem("presenterNotesHeight"))||100;z(e),d(e-40),S(e)}),[S]),Object(r.useEffect)((function(){j.current=!0}),[j,n,x]);return x?o.a.createElement(q,{"data-lookup":"presenter-notes-sidebar",$height:I,leftSideOffset:h,rightSideOffset:E,visible:G},o.a.createElement(N,null,o.a.createElement(B,null,o.a.createElement(U,{"data-lookup":"presenter-notes-sidebar-title"},i.default.t("app.presenterNotes.pageTitle",{current:n+1,total:c})),o.a.createElement(A,{onClick:P}))),o.a.createElement(Y,null,o.a.createElement(y.default,{maxHeight:p},o.a.createElement(v.default,{placeholder:i.default.t("app.presenterNotes.placeholder"),pageId:t,notes:l,open:x,onBlur:function(e){Object(m.savePresenterNotes)(t,e.target.value)},onChange:function(e,t){j.current&&(l?Object(w.logModifiedPresenterNotesWebJs)({project_id:O.default.infographicId,step_index:n}):Object(w.logInsertPresenterNotesWebJs)({project_id:O.default.infographicId,step_index:n}),j.current=!1),Object(m.savePresenterNotesThrottled)(e,t)},customCss:"\n    padding-right: 12px;\n    color: #d8d8d8;\n    background: #3c3b3b;\n",fontSize:15}))),o.a.createElement(K,{ref:C,onMouseDown:function(e){W(!0),$(e.clientY),M(I),k.current&&(k.current.style.display="block")}}),o.a.createElement(X,{ref:k})):null}))},iDiz:function(e,t,n){e.exports=n.p+"cdbb3c99d1577e83f4177ae09e111ab6.svg"},"j/ps":function(e,t,n){e.exports=n.p+"2e576ee67aa180d0c2c83764793ee513.svg"},jjTP:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("Zcty"),o=n("hl5+");function i(){r.default.dispatch({type:o.TOGGLE_LAYOUT})}},"jx1/":function(e,t,n){e.exports=n.p+"cde1f32faace6aacd75159c153d54e99.svg"},k7Pb:function(e,t,n){e.exports=n.p+"be71796d9b787f4b93172d78f2bf1947.svg"},kFHh:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return V}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("vOnD"),u=n("17x9"),c=n.n(u),l=n("k0mc"),s=n("OsVm"),f=n("LoZg"),p=n.n(f),d=n("USB3"),h=n("70t9"),b=n("sXZY"),g=n("ySsV");function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?y(e):t}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function P(){var e=x(["\n    color: ",";\n"]);return P=function(){return e},e}function S(){var e=x(["\n    display: flex;\n    width: 100%;\n    padding-top: 20px;\n"]);return S=function(){return e},e}function k(){var e=x(["\n    margin-top: 20px;\n"]);return k=function(){return e},e}function C(){var e=x(["\n    flex-direction: row;\n    font-size: 0;\n    white-space: nowrap;\n    overflow: hidden;\n    line-height: 1;\n"]);return C=function(){return e},e}function T(){var e=x(["\n    width: calc(50% - 1px);\n    height: 24px;\n    display: inline-block;\n"]);return T=function(){return e},e}function I(){var e=x(["\n    border-radius: 5px 0 0 5px;\n    width: 25px;\n    height: 25px;\n    display: inline-block;\n    box-sizing: border-box;\n    vertical-align: middle;\n    border-radius: 4px;\n    background: linear-gradient(135deg, #fff, #fff 16px, #c23435 16px, #c23435 19px, #fff 19px, #fff 30px);\n    box-shadow: inset 0 0 0 2px #ebebee, inset 0 0 0 3px rgb(0 0 0 / 20%);\n"]);return I=function(){return e},e}function z(){var e=x(["\n    box-sizing: border-box;\n    border: 1px solid #c2c7cd;\n    border-radius: 3px;\n    background-color: ",";\n    padding-left: 0;\n    margin-left: 8px;\n    height: 24px;\n    flex-direction: row;\n    white-space: nowrap;\n    font-size: 0;\n    float: right;\n"]);return z=function(){return e},e}function D(){var e=x(["\n    display: inline-block;\n    width: 15px;\n    line-height: 22px;\n    font-size: 11px;\n    text-align: center;\n    border-radius: 5px 0 0 5px;\n    color: #6a6a6a;\n    background: none;\n"]);return D=function(){return e},e}function L(){var e=x(["\n    display: inline-block;\n    width: 70px;\n"]);return L=function(){return e},e}function M(){var e=x(["\n    box-sizing: border-box;\n    height: 22px;\n    border: none;\n    font-size: 11px;\n    text-align: left;\n    padding: 0;\n    margin: 0;\n    text-transform: uppercase;\n    border-radius: 0 5px 5px 0;\n    width: 100%;\n"]);return M=function(){return e},e}function A(){var e=x(["\n    margin-top: -12px;\n"]);return A=function(){return e},e}var q=a.default.div(P(),d.default.text),N=a.default.div(S()),B=Object(a.default)(h.SectionHeader)(k()),U=a.default.div(C()),Y=a.default.span(T()),K=Object(a.default)(Y).attrs((function(e){return{style:{background:e.color}}}))(I()),X=a.default.div(z(),d.default.background),H=a.default.div(D()),G=a.default.div(L()),Z=a.default.input(M()),F=a.default.div(A()),V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(u,e);var t,n,o,a=R(u);function u(){var e;return v(this,u),O(y(e=a.apply(this,arguments)),"_colorInput",i.a.createRef()),O(y(e),"state",{activeColor:e.props.activeColor}),O(y(e),"changeIntensity",(function(t){l.glassboxWebPrezigram.logModifyTintingIntensity({prezi_oid:g.default.infographicId,upload_object_type:e.props.graphicType}),e.props.onChange({source:"custom",value:e.props.resolvedActiveColor,displayValue:e.props.resolvedActiveColor,intensity:t})})),O(y(e),"_resetToOriginal",(function(){e._handlePaletteColorChange(e.state.activeColor)})),O(y(e),"_handlePaletteColorChange",(function(t){e.props.onChange({source:"custom",value:t,displayValue:t,intensity:e.props.intensity})})),O(y(e),"_changeCustomColor",(function(){var t=e._colorInput.current,n=t.value;if(W(n)){var r=n.toUpperCase();t.value=r;var o="#"+r;e.props.onChange({source:"custom",value:o,intensity:e.props.intensity,displayValue:o})}})),e}return t=u,(n=[{key:"render",value:function(){var e=this.props,t=e.resolvedActiveColor,n=e.children,o=e.inputColor;return(i.a.createElement(q,null,n,i.a.createElement(h.Section,null,i.a.createElement(h.SectionHeader,null,i.a.createElement(h.SectionTitle,null,r.default.t("app.color_picker.custom_colors"))),i.a.createElement(s.default,{color:t,onChange:this._handlePaletteColorChange}),i.a.createElement(N,null,i.a.createElement(U,null,i.a.createElement(K,{color:"transparent"!==t&&t})),i.a.createElement(X,null,i.a.createElement(H,null,"#"),i.a.createElement(G,null,i.a.createElement(Z,{type:"text",maxlength:"6",size:"6",defaultValue:o,onChange:this._changeCustomColor,ref:this._colorInput})))),void 0!==this.props.intensity&&i.a.createElement(i.a.Fragment,null,i.a.createElement(B,null,i.a.createElement(h.SectionTitle,null,r.default.t("app.color_picker.intensity"))),i.a.createElement(F,null,i.a.createElement(b.default,{inputSymbol:"%",min:0,max:100,value:this.props.intensity,onChange:this.changeIntensity,formatDecimals:0}))))))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.activeColor,n=e.design,r=e.entityPath;if(t&&t.startsWith("#"))this._setColorInputValue(t);else{var o=p()(n,r,t),i=o.match,a=o.value;i&&this._setColorInputValue(a)}}},{key:"_setColorInputValue",value:function(e){this._colorInput.current.value=e?e.substring(1).toUpperCase():""}}])&&m(t.prototype,n),o&&m(t,o),u}(o.PureComponent);function W(e){return/^([0-9a-fA-F]{3}){2}$/.test(e)}O(V,"propTypes",{activeColor:c.a.string,inputColor:c.a.string,graphicType:c.a.string,intensity:c.a.number,resolvedActiveColor:c.a.string,onChange:c.a.func.isRequired,design:c.a.object,entityPath:c.a.array,children:c.a.node}),O(V,"defaultProps",{resolvedActiveColor:"#000000",activeColor:"#000000"})},kHX3:function(e,t,n){e.exports=n.p+"b89eb01bd4cc6b8bde81001e5f37ea0e.svg"},kUYm:function(e,t,n){e.exports=n.p+"02d4c0b947774f92c3a8049b6604efb6.svg"},kaKj:function(e,t,n){e.exports=n.p+"757d207839a0cfbac2893754b659541b.svg"},kwfw:function(e,t,n){"use strict";n.r(t);var r=n("17x9"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("TSYQ"),c=n.n(u),l=n("Jgc/"),s=n("vOnD"),f=n("Sye6"),p=n("xVW7"),d=n("z3Ib"),h=n("avnT"),b=n("ZgL/"),g=n("USB3"),y=n("qLhN"),v=n.n(y),m=n("PXfb"),O=n.n(m);n("/fDD");function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function P(){var e,t,n=(e=["\n    border: 1px solid #3195cb;\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    bottom: 30px;\n    left: 30px;\n    cursor: move;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return P=function(){return n},n}var S,k,C,T=s.default.div(P(),(function(e){return e.theme.id===g.default.id&&"\n        border-color: ".concat(g.default.blue500,";\n    ")})),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(u,e);var t,n,r,o=R(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=o.call(this,e))._refs={},t._handlers={rotate:t._assignHandler("rotate"),resize:t._assignHandler("resize")},t}return t=u,r=[{key:"getStores",value:function(){return[f.default,p.default]}},{key:"calculateState",value:function(e,t){var n=p.default.activeHandle,r=f.default.boundingBox;return r&&["top","left","width","height"].some((function(e){return!isFinite(r[e])}))&&(r=null),{isRotating:n&&"rotate"===n.get("type")&&n.get("key")===t.handlerKey,isResizing:p.default.resizing,isDragging:p.default.dragging,boundingBox:r}}}],(n=[{key:"_assignHandler",value:function(e){var t=this;return function(n){n?b.default.addHandler(n,e,t.props.handlerKey):t._refs[e]&&b.default.removeHandler(t._refs[e],e,t.props.handlerKey),t._refs[e]=n}}},{key:"render",value:function(){var e=this.state,t=e.isRotating,n=e.isResizing,r=e.isDragging,o=e.boundingBox;if(!o)return null;var u={transform:"rotate(".concat(o.rotation||0,"deg)"),top:o.top*this.props.scaleY,left:o.left*this.props.scaleX,width:o.width*this.props.scaleX,height:o.height*this.props.scaleY,position:"absolute",pointerEvents:"none",zIndex:2,opacity:r?.5:1};return(a.a.createElement("div",{style:u},a.a.createElement("div",{className:c()(v.a.selector)},a.a.createElement(T,null),!this.props.commenting&&a.a.createElement(i.Fragment,null,(t||!n)&&a.a.createElement("img",{ref:this._handlers.rotate,className:v.a.rotationIcon,src:O.a}),!t&&!r&&a.a.createElement(i.Fragment,null,a.a.createElement(d.default,{width:u.width,height:u.height,handlers:this._handlers,rotation:o.rotation,resizing:n,mode:h.OVERLAY_MODES.RECTANGLE}))))))}}])&&w(t.prototype,n),r&&w(t,r),u}(i.Component);S=I,k="propTypes",C={scaleX:o.a.number.isRequired,scaleY:o.a.number.isRequired,handlerKey:o.a.string.isRequired,commenting:o.a.bool},k in S?Object.defineProperty(S,k,{value:C,enumerable:!0,configurable:!0,writable:!0}):S[k]=C,t.default=l.Container.create(I,{withProps:!0})},lUqP:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ye}));var r=n("LvDl"),o=n.n(r),i=n("XzT5"),a=n("q1tI"),u=n.n(a),c=n("17x9"),l=n.n(c),s=n("/MKj"),f=n("vOnD"),p=n("Zcty"),d=n("EKef"),h=n("h7h9"),b=n("USB3"),g=n("kxzZ"),y=n("ubkl"),v=n("M3jb"),m=n("HOYV"),O=n("TQFT"),w=n("QW3c"),E=n("up6U"),_=n("oRV5"),x=n("3o1Q"),j=n("+EWy"),R=n("WtYs"),P=n("dyKX"),S=n("eT4A");function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t&&T(e.prototype,t),n&&T(e,n),e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function M(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?k(e):t}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}var U,Y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},K=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function X(){var e=q(["\n    pointer-events: auto;\n    height: 100%;\n\n    ","\n"]);return X=function(){return e},e}function H(){var e=q(["\n    display: flex;\n    flex-direction: column;\n    margin-right: -1px;\n\n    ","\n"]);return H=function(){return e},e}function G(){var e=q(["\n    margin: 0 5px 5px 5px;\n    ","\n\n    ","\n"]);return G=function(){return e},e}function Z(){var e=q(["\n    margin: 5px 5px 0 5px;\n\n    ","\n\n    ","\n"]);return Z=function(){return e},e}function F(){var e=q(["\n    border: 1px solid ",";\n\n    ","\n"]);return F=function(){return e},e}function V(){var e=q(["\n    border-bottom: 1px dotted #777;\n    position: relative;\n    overflow: initial;\n    color: #2d2d2d;\n    pointer-events: auto;\n    display: flex;\n    margin-left: -1px;\n    margin-top: -1px;\n\n    &:last-child {\n        border-bottom: none;\n    }\n\n    ","\n\n    &:first-child {\n        "," {\n            height: 100%;\n            top: 0;\n        }\n    }\n\n    &:last-child {\n        "," {\n            height: 100%;\n        }\n    }\n"]);return V=function(){return e},e}function W(){var e=q(["\n    position: absolute;\n    top: 50%;\n    margin-top: -6px;\n    line-height: 12px;\n    width: 100%;\n    cursor: pointer;\n"]);return W=function(){return e},e}function J(){var e=q(["\n    position: absolute;\n    top: 5px;\n    background-image: url(",");\n    width: 100%;\n    background-position: center center;\n    background-size: 12px 6px;\n    background-repeat: no-repeat;\n    height: 6px;\n    cursor: pointer;\n\n    ","\n"]);return J=function(){return e},e}function Q(){var e=q(["\n    position: absolute;\n    bottom: 5px;\n    background-image: url(",");\n    background-position: center center;\n    background-size: 12px 6px;\n    background-repeat: no-repeat;\n    width: 100%;\n    height: 6px;\n    cursor: pointer;\n\n    ","\n"]);return Q=function(){return e},e}function $(){var e=q(["\n    pointer-events: auto;\n    cursor: pointer;\n    margin: 12px 9px 12px 16px;\n    width: ","px;\n    height: ","px;\n\n    &:hover {\n        border: 1px solid #3796c9;\n        margin: 11px 8px 11px 15px;\n    }\n\n    ","\n\n    ","\n"]);return $=function(){return e},e}function ee(){var e=q(["\n    position: absolute;\n    top: 1px;\n    left: -32px;\n    width: 30px;\n    height: calc(100% - 1px);\n    font-size: 12px;\n    text-align: center;\n    background: #2d2d2d;\n    vertical-align: middle;\n    color: #fff;\n    display: block;\n\n    ","\n"]);return ee=function(){return e},e}function te(){var e=q(["\n    cursor: pointer;\n    position: absolute;\n    right: -10px;\n    width: 20px;\n    height: 20px;\n    top: 50%;\n    margin-top: -10px;\n    background-color: #2d2d2d;\n    background-image: url(",");\n    background-size: 12px 12px;\n    background-position: center center;\n    background-repeat: no-repeat;\n    border-radius: 3px;\n    z-index: 2;\n    pointer-events: auto;\n\n    ","\n"]);return te=function(){return e},e}function ne(){var e=q(["\n    position: absolute;\n    margin-top: 1px;\n    left: -28px;\n    background-color: #2d2d2d;\n    background-image: url(",");\n    background-size: 10px 10px;\n    background-position: center center;\n    background-repeat: no-repeat;\n    width: 20px;\n    height: 20px;\n    display: block;\n    border-bottom-left-radius: 3px;\n    border-bottom-right-radius: 3px;\n    cursor: pointer;\n    pointer-events: auto;\n\n    &:hover {\n        background-color: #3195cb;\n    }\n\n    ","\n"]);return ne=function(){return e},e}var re=Object(E.default)((function(e,t,n,r){return u.a.createElement(w.default,{entity:e,design:t,location:r})})),oe=f.default.div(X(),(function(e){return e.marginTop&&"\n        margin-top: ".concat(e.marginTop,"px;\n    ")})),ie=f.default.div(H(),(function(e){return e.iconWidth&&"\n        width: calc(100% - ".concat(e.iconWidth+20,"px);\n    ")})),ae=f.default.div(G(),(function(e){return e.active&&"\n        border: 1px solid #3796c9;\n        margin: -1px 4px 4px 4px;\n    "}),(function(e){return e.active&&e.theme.id===b.default.id&&"\n        border: 1px solid ".concat(b.default.blue500,";\n    ")})),ue=f.default.h2(Z(),(function(e){return e.active&&"\n        margin: 4px 4px -1px 4px;\n        border: 1px solid #3796c9;\n    "}),(function(e){return e.active&&e.theme.id===b.default.id&&"\n        border: 1px solid ".concat(b.default.blue500,";\n    ")})),ce=f.default.div(F(),b.default.blue500,(function(e){return e.somethingIsFocused&&"\n        border-color: ".concat(b.default.neutral300,";\n\n        ").concat(le," {\n            border-color: ").concat(b.default.neutral300,";\n        }\n    ")})),le=f.default.div(V(),(function(e){return e.theme.id===b.default.id&&"\n        border-bottom: 1px dotted ".concat(b.default.blue500,";\n    ")}),he,he),se=f.default.div(W()),fe=f.default.div(J(),n("8bmW"),(function(e){return e.theme.id===b.default.id&&"\n        background-image: url(".concat(n("WJLs"),");\n        background-size: 8px 4px;\n        top: 0;\n        height: 30px;\n\n        &:hover {\n            background-image: url(").concat(n("7NQ5"),");\n        }\n    ")})),pe=f.default.div(Q(),n("zHDs"),(function(e){return e.theme.id===b.default.id&&"\n        background-image: url(".concat(n("DuYy"),");\n        background-size: 8px 4px;\n        bottom: 0px;\n        height: 30px;\n\n        &:hover {\n            background-image: url(").concat(n("eQHU"),");\n        }\n    ")})),de=f.default.div($(),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.active&&"\n        border: 1px solid #3796c9;\n        margin: 11px 8px 11px 15px;\n    "}),(function(e){return e.theme.id===b.default.id&&"\n        &:hover {\n            border: 1px solid ".concat(b.default.blue500,";\n        }\n\n        ").concat(e.active&&"\n            border: 1px solid ".concat(b.default.blue500,";\n        "),"\n    ")})),he=f.default.div(ee(),(function(e){return e.theme.id===b.default.id&&"\n        background: ".concat(b.default.neutral400,";\n    ")})),be=f.default.div(te(),n("Uvuq"),(function(e){return e.theme.id===b.default.id&&"\n        background-image: url(".concat(n("jx1/"),");\n        background-color: ").concat(b.default.white,";\n        box-shadow: ").concat(b.default.shadow.menus,";\n\n        &:hover {\n            background-image: url(").concat(n("Uvuq"),");\n            background-color: ").concat(b.default.red500,";\n        }\n    ")})),ge=f.default.div(ne(),n("o2uo"),(function(e){return e.theme.id===b.default.id&&"\n        background-color: ".concat(b.default.neutral400,";\n\n        &:hover {\n            background-color: ").concat(b.default.neutral500,";\n        }\n    ")})),ye=(U=function(e){L(n,e);var t=B(n);function n(e){var r;return C(this,n),z(k(r=t.call(this,e)),"deselect",(function(){-1!==r.props.rowNumber&&(Object(y.popInspectorPanel)(),r.props.selectCell(-1,-1),Object(O.endEditing)())})),z(k(r),"onAddEntry",(function(){r.deselect();var e=r.props,t=e.sheetIndex,n=e.updateChartData,i=r.props.chartEntity.chart,a=i.get("data"),u=o.a.clone(a[t][a[t].length-1]);a[t].push(u),i.set("data",a),Object(g.updateChart)(i),n(a)})),z(k(r),"deleteEntry",(function(e){r.deselect(),e.stopPropagation();var t=parseInt(e.target.getAttribute("data-row-number"),10),n=r.props,o=n.sheetIndex,i=n.updateChartData,a=r.props.chartEntity.chart,u=a.get("data");u[o].splice(t,1);var c=a.get("sheets_settings");a.set("data",u),a.set("sheets_settings",c),Object(g.updateChart)(a),i(u)})),z(k(r),"moveUp",(function(e){r.deselect(),e.stopPropagation();var t,n=parseInt(e.target.getAttribute("data-row-number"),10),o=r.props,i=o.sheetIndex,a=o.updateChartData,u=r.props.chartEntity.chart,c=u.get("data"),l=c[i];t=[l[n-1],l[n]],l[n]=t[0],l[n-1]=t[1],u.set("data",c),Object(g.updateChart)(u),a(c)})),z(k(r),"moveDown",(function(e){r.deselect(),e.stopPropagation();var t,n=parseInt(e.target.getAttribute("data-row-number"),10),o=r.props,i=o.sheetIndex,a=o.updateChartData,u=r.props.chartEntity.chart,c=u.get("data"),l=c[i];t=[l[n+1],l[n]],l[n]=t[0],l[n+1]=t[1],u.set("data",c),Object(g.updateChart)(u),a(c)})),z(k(r),"changeIcon",(function(e){r.deselect(),e.stopPropagation();var t=parseInt(e.currentTarget.getAttribute("data-row-number"),10);r.props.selectIcon(t),Object(y.pushInspectorPanel)(v.default,{})})),z(k(r),"onTextEdit",(function(e){e.stopPropagation();var t=r.props,n=t.readOnly,o=t.selectCell,i=t.data,a=t.entity,u=t.sheetIndex;if(!n){var c=parseInt(e.currentTarget.getAttribute("data-row-number"),10),l=parseInt(e.currentTarget.getAttribute("data-col-number"),10);if(c===r.props.rowNumber&&l===r.props.colNumber)return Object(O.startEditingActiveCell)();r.deselect();var s=0===l?"h2":"body",f=i.get(c).get(l);Object(O.focusTextEditor)(f,c,l,u),Object(y.pushInspectorPanel)(m.default,{entity:a,design:d.default.editorState.getDesign(),template:s}),o(c,l)}})),z(k(r),"edit",(function(e){e.stopPropagation();var t=r.props.chartId;r.props.editFactsAndFigures(t)})),z(k(r),"showChart",(function(){var e=r.props.chartEntity;e&&e.instance.root.style("opacity",1)})),z(k(r),"componentDidUpdate",(function(e){r.props.editing&&!e.editing?Object(j.default)():!r.props.editing&&e.editing&&r.showChart()})),e.prepareEditor(),r}return I(n,[{key:"componentWillUnmount",value:function(){this.props.editing&&this.showChart()}},{key:"render",value:function(){if(this.props.editing){this.props.chartEntity.instance.root.style("opacity",0);var e=this.props.readOnly;return(u.a.createElement(oe,{onClick:this.deselect,marginTop:this.props.sheetSwitcherHeight},u.a.createElement(ve,{data:this.props.editorData,deleteEntry:this.deleteEntry,moveUp:this.moveUp,moveDown:this.moveDown,iconWidth:this.props.iconSize,changeIcon:this.changeIcon,design:this.props.design,entity:this.props.entity,sheetIndex:this.props.sheetIndex,onTextEdit:this.onTextEdit,activeRowNumber:this.props.rowNumber,activeColNumber:this.props.colNumber,deselect:this.deselect,canReorder:!e,id:this.props.chartId,zoom:this.props.zoom,showIcons:this.props.showIcons,somethingIsFocused:this.props.somethingIsFocused}),!e&&u.a.createElement(ge,{onClick:this.onAddEntry}),u.a.createElement(_.default,{onSelect:O.endEditing,maxWidth:this.props.maxWidth,inPlaceEditing:!0})))}return(u.a.createElement(R.default,{onClick:this.edit,"data-tooltip":i.default.t("app.freelayout_editor.edit"),"data-tooltip-position":"bottom"}))}}]),n}(a.PureComponent),z(U,"propTypes",{chartEntity:l.a.object,responsive:l.a.bool,editing:l.a.bool,sheetIndex:l.a.number,rowNumber:l.a.number,colNumber:l.a.number,chartId:l.a.any,data:l.a.object,readOnly:l.a.bool,updateChartData:l.a.func.isRequired,prepareEditor:l.a.func.isRequired,selectCell:l.a.func.isRequired,editFactsAndFigures:l.a.func.isRequired,selectIcon:l.a.func.isRequired,maxWidth:l.a.number,iconSize:l.a.number,entity:l.a.object,design:l.a.object,zoom:l.a.number,showIcons:l.a.bool,somethingIsFocused:l.a.bool,sheetSwitcherHeight:l.a.number,editorData:l.a.object}),U);ye=Y([Object(s.connect)((function(e,t){var n=h.default.getEntity(t.chartId),r=n.instance,o=n.container.getBoundingClientRect().width-92,i=e.get("chartEditor"),a=i.editing,u=i.sheetIndex,c=i.rowStart,l=i.colStart,s=i.iconSize,f=i.data,p=i.readOnly,b=i.showIcons,g=i.editorData,y=e.get("editorZoom"),v=r.root.node().getBoundingClientRect().top-r.container.node().getBoundingClientRect().top;return{editing:a,sheetIndex:u,rowNumber:c,colNumber:l,iconSize:s,data:f,readOnly:p,maxWidth:o,entity:t.entity,design:d.default.editorState.getDesign(),zoom:y.zoom,showIcons:b,somethingIsFocused:-1!==c||-1!==l,sheetSwitcherHeight:v,editorData:g,chartEntity:n}}),(function(e){return{prepareEditor:function(){e({type:P.FACTS_AND_FIGURES_PREPARE_EDITOR})},editFactsAndFigures:function(t){p.default.dispatch({type:S.DATA_TABLE_OPEN,inPlaceEditing:!0}),e({type:P.FACTS_AND_FIGURES_START_EDITING,payload:{chartId:t}})},selectCell:function(t,n){e({type:P.FACTS_AND_FIGURES_SELECT_CELL,payload:{rowNumber:t,colNumber:n}})},selectIcon:function(t){e({type:P.FACTS_AND_FIGURES_SELECT_ICON,payload:{rowNumber:t}})},updateChartData:function(t){e({type:P.FACTS_AND_FIGURES_UPDATE_CHART_DATA,payload:{data:t}})}}})),K("design:type",Function),K("design:paramtypes",[void 0])],ye);var ve=function(e){L(n,e);var t=B(n);function n(){return C(this,n),t.apply(this,arguments)}return I(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.iconWidth,r=t.id,o=t.sheetIndex,i=t.zoom,a=t.showIcons,c=t.somethingIsFocused,l=t.data,s=t.canReorder,f=t.activeRowNumber,p=t.activeColNumber;return u.a.createElement(ce,{onClick:this.props.deselect,somethingIsFocused:c},l.map((function(t,c){var l=t.get("icon"),d=t.get("figure"),h=t.get("fact"),b=a&&u.a.createElement(de,{onClick:e.props.changeIcon,"data-row-number":c,active:f===c&&-1===p,size:n,style:{zoom:i}},u.a.createElement("svg",{width:n,height:n,viewBox:l.get("viewBox"),style:{opacity:l.get("opacity")}},u.a.createElement("path",{className:"igc-textual-path",fill:l.get("color"),transform:l.get("transform"),d:l.get("path")})));return u.a.createElement(le,{key:c},s&&u.a.createElement(he,null,t.get("canMoveUp")&&u.a.createElement(fe,{"data-row-number":c,onClick:e.props.moveUp}),u.a.createElement(se,null,c+1),t.get("canMoveDown")&&u.a.createElement(pe,{"data-row-number":c,onClick:e.props.moveDown})),b&&(l.get("link")?u.a.createElement(x.default,{url:l.get("link")},b):b),u.a.createElement(ie,{iconWidth:n,style:{zoom:i}},d&&u.a.createElement(ue,{onClick:e.props.onTextEdit,"data-row-number":c,"data-col-number":0,active:f===c&&0===p},u.a.createElement(re,{scaleX:1,scaleY:1,entity:e.props.entity,design:e.props.design,location:{id:r,row:c,column:0,sheetIndex:o},color:d.get("color")})),h&&u.a.createElement(ae,{onClick:e.props.onTextEdit,"data-row-number":c,"data-col-number":1,active:f===c&&1===p},u.a.createElement(re,{scaleX:1,scaleY:1,entity:e.props.entity,design:e.props.design,location:{id:r,row:c,column:1,sheetIndex:o}}))),t.get("canDelete")&&u.a.createElement(be,{onClick:e.props.deleteEntry,"data-row-number":c}))})))}}]),n}(a.PureComponent)},lc1c:function(e,t,n){"use strict";n.r(t);var r=n("Jgc/"),o=n("Zcty"),i=n("hl5+");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var d=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(c,e);var t,n,r,o=p(c);function c(){return a(this,c),o.apply(this,arguments)}return t=c,(n=[{key:"getInitialState",value:function(){return!1}},{key:"reduce",value:function(e,t){switch(t.type){case i.EDITOR_ACTION_LOADING:return t.value}return e}},{key:"loading",get:function(){return this.getState()}}])&&u(t.prototype,n),r&&u(t,r),c}(r.ReduceStore))(o.default);t.default=d},maLv:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("91cT"),o=n("Zcty");function i(){o.default.dispatch({type:r.START_MOVING})}},o2uo:function(e,t,n){e.exports=n.p+"260ebc7d107d86b826eb7e8215079d1a.svg"},o8ip:function(e,t,n){e.exports=n.p+"533529adffa7fbc30f7acabd3b5299c9.svg"},pWtM:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return F}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("17x9"),u=n.n(a),c=n("/MKj"),l=n("TSYQ"),s=n.n(l),f=n("SC+/"),p=n("vOnD"),d=n("DvT9"),h=n("KEPE"),b=n("7fFl"),g=n("LoZg"),y=n.n(g),v=n("EKef"),m=n("38c5"),O=n("Sye6"),w=n("HhMr"),E=n("w6T9"),_=n("rQKZ"),x=n("CYb3"),j=n("7WHd"),R=n("3UVq"),P=n("ubkl"),S=n("mTiA"),k=n("RzNS"),C=n.n(k),T=n("mak8");function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?I(e):t}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var B=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}var Y,K=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function X(){var e=N(["\n    display: none;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    padding: 0 25px;\n    z-index: 1;\n"]);return X=function(){return e},e}function H(){var e=N(["\n    &:hover {\n        "," {\n            display: inline-block;\n        }\n    }\n"]);return H=function(){return e},e}var G=Object(p.default)(E.default)(X()),Z=p.default.div(H(),G),F=(Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(u,e);var t,n,o,a=U(u);function u(){var e;return z(this,u),L(I(e=a.apply(this,arguments)),"renderBlock",(function(t){switch(e.state.layout[t]){case"logo":return e.renderLogo();case"text":return e.renderText()}return null})),L(I(e),"onClick",(function(){if(e.state.showUpgradeLink)return window.app.router.navigate("//upgrade/embed_button",{promote:{from:"embed_button"}});Object(P.popInspectorPanel)(),e.makeFooterSelection(),Object(h.changeFreeLayoutSettingsTab)(1),Object(j.setActiveSection)(R.PROJECT_SETTINGS_FOOTER_SECTION)})),L(I(e),"makeFooterSelection",(function(){var e=O.default.currentSelection.clear();Object(d.updateSelectionState)(e),Object(b.selectFooter)()})),e}return t=u,o=[{key:"getStores",value:function(){return[m.default]}},{key:"calculateState",value:function(e,t){var n=v.default.editorState,r=v.default.isWhiteLabel,o=n&&n.getDesign()||{};if(!t.showFooter&&r)return{disabled:!0};var i=Object(x.calculateFooterStyles)(t.width,t.scaleY),a=i.containerStyle,u=i.blockStyle,c=i.centerBlockStyle,l=y()(o,null,t.backgroundColor);if(l&&l.value){var s=Object(f.color)(l.value);s.opacity=t.backgroundOpacity,a.background=s}var p=y()(o,null,t.textColor).value,d={};t.bold&&(d.fontWeight=T.FONT_WEIGHT_BOLD),t.italic&&(d.fontStyle="italic"),t.fontSize&&(d.fontSize=t.fontSize),p&&(d.color=p);var h={background:y()(o,null,t.buttonBackgroundColor).value,color:y()(o,null,t.buttonTextColor).value,marginTop:T.BUTTON_MARGIN};if(l&&l.value){var b=Object(f.color)(l.value);b.opacity=t.backgroundOpacity,a.background=b}var g=t.footnoteText;return"autoPagination"===t.footnoteType&&(g=Object(x.paginationString)(t.pageNumber,t.pageCount,t.paginationStartWith,t.paginationFormat)),{buttonStyle:h,containerStyle:a,disabled:!1,layout:Object(x.getFooterLayout)(t.footerLayout,t.logoType,t.footnoteType),selected:m.default.selected,showUpgradeLink:!r,text:g,textStyle:d,blockStyle:u,centerBlockStyle:c,fullWidthButton:t.width>T.FULL_WIDTH_BUTTON_LIMIT}}}],(n=[{key:"render",value:function(){if(this.state.disabled)return null;var e,t=this.state,n=t.containerStyle,o=t.showUpgradeLink,a=t.selected,u=i.a.createElement(G,{blue:!0,className:C.a.button,small:!0},r.default.t("app.infographic.edit_footer"));return o&&(u=i.a.createElement(G,{green:!0,className:C.a.button,small:!0},r.default.t("app.infographic.upgrade_to_customize"))),i.a.createElement(Z,{className:s()(C.a.container,C.a.selectable,(e={},L(e,C.a.selected,a),L(e,C.a.upgradable,o),L(e,C.a.disabled,!this.props.mouseEventsEnabled),e)),onClick:this.onClick,style:n},i.a.createElement("div",{className:C.a.innerContainer},i.a.createElement("div",{style:this.state.blockStyle,className:C.a.left},this.renderBlock("left")),i.a.createElement("div",{style:this.state.centerBlockStyle,className:C.a.center},this.renderBlock("center")),i.a.createElement("div",{style:this.state.blockStyle,className:C.a.right},this.renderBlock("right"))),u)}},{key:"renderLogo",value:function(){var e=this.props,t=e.logoType,n=e.logoImage;return"custom_logo-infogram"===t||"custom_logo-custom"===t?i.a.createElement("div",{className:C.a.logo},i.a.createElement(w.default,{background:this.props.logoColor,text:!n&&r.default.t("app.infographic.made_with")||"",url:n,link:this.props.logoLink,logoName:this.props.logoName,width:"custom_logo-infogram"===t?this.props.logoWidth:void 0,height:"custom_logo-infogram"===t?this.props.logoHeight:void 0})):null}},{key:"renderText",value:function(){var e=this.state,t=e.textStyle,n=e.buttonStyle,r=e.text;switch(this.props.footnoteType){case"shareButton":return i.a.createElement(S.default,{style:n,fullWidth:this.state.fullWidthButton,onButtonClick:this.onClick,text:this.props.buttonText});case"text":return this.props.customLink?i.a.createElement("a",{style:t,href:this.props.customLink,target:"_blank",rel:"nofollow noopener noreferrer"},r):i.a.createElement("div",{style:t},r);case"autoPagination":return i.a.createElement("div",{style:t},r)}}}])&&D(t.prototype,n),o&&D(t,o),u}(o.Component),L(Y,"propTypes",{mouseEventsEnabled:u.a.bool,backgroundColor:u.a.string,backgroundOpacity:u.a.number,bold:u.a.bool,buttonBackgroundColor:u.a.string,buttonText:u.a.string,buttonTextColor:u.a.string,customLink:u.a.string,flex:u.a.bool,fontSize:u.a.number,footerLayout:u.a.string,footnoteText:u.a.string,footnoteType:u.a.string,italic:u.a.bool,logoColor:u.a.string,logoType:u.a.string,logoImage:u.a.string,logoLink:u.a.string,logoName:u.a.string,pageNumber:u.a.number,pageCount:u.a.number,paginationFormat:u.a.string,paginationStartWith:u.a.number,showFooter:u.a.bool,textColor:u.a.string,logoWidth:u.a.number,logoHeight:u.a.number}),L(Y,"defaultProps",{mouseEventsEnabled:!0}),Y);F=K([Object(c.connect)((function(e){return Object(x.getFooterSettings)(e.get("footerSettings"))})),Object(_.default)({withProps:!0})],F)},qLhN:function(e,t,n){var r=n("L7g7");"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n("aET+")(r,o);r.locals&&(e.exports=r.locals)},"qM+k":function(e,t,n){e.exports=n.p+"6cb59cfe90ccd8384bd51e134b5ddcef.svg"},qxmC:function(e,t,n){"use strict";n.r(t);var r=n("17x9"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("Jgc/"),c=n("vOnD"),l=n("xVW7"),s=n("Tha3"),f=n("avnT"),p=n("B6Rb"),d=n("ZTyM"),h=n.n(d),b=n("USB3");function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return!t||"object"!==w(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}function _(){var e,t,n=(e=["\n    pointer-events: auto;\n    position: absolute;\n    height: 20px;\n    width: 20px;\n    background-color: #3195cb;\n    border-radius: 100%;\n    opacity: 0.5;\n\n    ","\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return _=function(){return n},n}var x=["nw","n","ne","w","center","e","sw","s","se"];var j,R,P,S=c.default.div(_(),(function(e){return e.theme.id===b.default.id&&"\n        background-color: ".concat(b.default.blue500,";\n    ")})),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(i,e);var t,n,r,o=E(i);function i(){return g(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getStores",value:function(){return[l.default]}},{key:"calculateState",value:function(e,t){var n,r,o,i=t.scaleX,a=t.scaleY,u=t.blockKey,c=l.default.connectorTargetEntity;if(c&&!c.locked&&c.getBlockKey()===u&&Object(p.getOverlayMode)(c)===f.OVERLAY_MODES.RECTANGLE&&(n=l.default.activeHandle,(r=n&&n.get("type"))&&-1!==["connectorCreate","from","to"].indexOf(r))){var d=Object(s.calculateClippedRectangle)(c);o={transform:"rotate(".concat(d.transform.rotate,"deg)"),top:d.top*a,left:d.left*i,width:d.width*i,height:d.height*a,position:"absolute",pointerEvents:"none",zIndex:1}}return{containerStyle:o}}}],(n=[{key:"render",value:function(){var e=this.state.containerStyle;return e?a.a.createElement("div",{style:e},x.map((function(e){return a.a.createElement(S,{className:h.a[e],key:e})}))):null}}])&&y(t.prototype,n),r&&y(t,r),i}(i.Component);j=k,R="propTypes",P={scaleX:o.a.number.isRequired,scaleY:o.a.number.isRequired,blockKey:o.a.string},R in j?Object.defineProperty(j,R,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[R]=P,t.default=u.Container.create(k,{withProps:!0})},qyGc:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return q}));var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("/MKj"),s=n("vOnD"),f=n("hl5+");function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?p(e):t}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}var w,E=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},_=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function x(){var e=v(["\n    width: 184px;\n    height: 138px;\n    background: white;\n    box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    overflow: hidden;\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return x=function(){return e},e}function j(){var e=v(["\n    position: relative;\n    pointer-events: none;\n"]);return j=function(){return e},e}function R(){var e=v(["\n    position: absolute;\n    background-color: blue;\n    opacity: 0.7;\n"]);return R=function(){return e},e}function P(){var e=v(["\n    position: absolute;\n    border: 1px solid black;\n"]);return P=function(){return e},e}var S,k,C,T,I,z,D=s.default.div(x()),L=s.default.div.attrs((function(e){return{style:{width:null!==(S=e.width)&&void 0!==S?S:0,height:null!==(k=e.height)&&void 0!==k?k:0}}}))(j()),M=s.default.div.attrs((function(e){return{style:{transform:"rotate(".concat(e.rotation,"deg) scale(").concat(e.flipHorizontal?-1:1,",").concat(e.flipVertical?-1:1,")"),width:e.width,height:e.height,left:e.left,top:e.top}}}))(R()),A=s.default.div.attrs((function(e){return{style:{width:null!==(C=e.width)&&void 0!==C?C:0,height:null!==(T=e.height)&&void 0!==T?T:0,left:null!==(I=e.left)&&void 0!==I?I:0,top:null!==(z=e.top)&&void 0!==z?z:0}}}))(P()),q=(w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,i=O(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),h(p(t=i.call(this,e)),"_handleMouseDown",(function(){t.setState({isDragging:!0})})),h(p(t),"_handleMouseUp",(function(){t.setState({isDragging:!1})})),h(p(t),"_handleMouseMove",(function(e){if(t.state.isDragging){var n=t.translateCoordsFromMiniMapToPage(e),r=n.x,o=n.y;t.props.updateEditorPosition(r,o),t.props.saveEditorPosition()}})),h(p(t),"_navigateToClickCoords",(function(e){var n=t.translateCoordsFromMiniMapToPage(e),r=n.x,o=n.y;t.props.updateEditorPosition(r,o),t.props.saveEditorPosition()})),t.state={isDragging:!1},t.mapContainerRef=o.a.createRef(),t}return t=a,(n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.props.updateViewRectangle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.props.updateViewRectangle)}},{key:"render",value:function(){return o.a.createElement(D,{onClick:this._navigateToClickCoords,onMouseDown:this._handleMouseDown,onMouseMove:this._handleMouseMove,onMouseUp:this._handleMouseUp},!this.props.entityRects.isEmpty()&&o.a.createElement(L,{ref:this.mapContainerRef,width:this.props.width,height:this.props.height},o.a.createElement(N,{entityRects:this.props.entityRects}),o.a.createElement(A,{width:this.props.viewRectangleWidth,height:this.props.viewRectangleHeight,left:this.props.viewRectangleLeft,top:this.props.viewRectangleTop})))}},{key:"translateCoordsFromMiniMapToPage",value:function(e){var t,n,r=this.props,o=r.viewRectangleWidth,i=r.viewRectangleHeight,a=r.viewRectangleLeft,u=r.viewRectangleTop,c=r.scale,l=this.mapContainerRef.current,s=e.nativeEvent.offsetX-(null!==(t=null==l?void 0:l.offsetLeft)&&void 0!==t?t:0),f=u+i/2-(e.nativeEvent.offsetY-(null!==(n=null==l?void 0:l.offsetTop)&&void 0!==n?n:0)),p=(a+o/2-s)*this.props.zoom/c,d=f*this.props.zoom/c;return{x:this.props.pagePositionX+p,y:this.props.pagePositionY+d}}}])&&d(t.prototype,n),r&&d(t,r),a}(r.PureComponent),h(w,"propTypes",{pagePositionX:a.a.number.isRequired,pagePositionY:a.a.number.isRequired,saveEditorPosition:a.a.func.isRequired,updateEditorPosition:a.a.func.isRequired,updateViewRectangle:a.a.func.isRequired,zoom:a.a.number.isRequired,viewRectangleWidth:a.a.number.isRequired,viewRectangleHeight:a.a.number.isRequired,viewRectangleLeft:a.a.number.isRequired,viewRectangleTop:a.a.number.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,scale:a.a.number.isRequired,entityRects:c.a.listOf(c.a.mapContains({key:a.a.string.isRequired,width:a.a.number.isRequired,height:a.a.number.isRequired,left:a.a.number.isRequired,top:a.a.number.isRequired,rotation:a.a.number.isRequired,flipVertical:a.a.bool.isRequired,flipHorizontal:a.a.bool.isRequired}))}),w);q=E([Object(l.connect)((function(e){var t=e.get("zoomPosition"),n=t.pagePositionX,r=t.pagePositionY,o=e.get("editorZoom"),i=o.zoom,a=o.zoomChange,u=e.get("miniMap");return{entityRects:u.entityRects,viewRectangleWidth:u.viewRectangleWidth,viewRectangleHeight:u.viewRectangleHeight,viewRectangleLeft:u.viewRectangleLeft,viewRectangleTop:u.viewRectangleTop,pagePositionX:n,pagePositionY:r,width:u.width,height:u.height,zoom:i*a,scale:u.scale}}),(function(e){return{saveEditorPosition:function(){e({type:f.EDITOR_STATIC_POSITION})},updateEditorPosition:function(t,n){e({type:f.EDITOR_POSITION,payload:{pagePosition:{x:t,y:n}}})},updateViewRectangle:function(){e({type:f.UPDATE_MINI_MAP_VIEW_RECTANGLE})}}}),null,{areStatesEqual:function(e,t){return e.get("zoomPosition")===t.get("zoomPosition")&&e.get("editorZoom")===t.get("editorZoom")&&e.get("miniMap")===t.get("miniMap")}}),_("design:type",Function),_("design:paramtypes",[void 0])],q);var N=function(e){return e.entityRects.map((function(e){return o.a.createElement(M,{key:e.get("key"),width:e.get("width"),height:e.get("height"),left:e.get("left"),top:e.get("top"),rotation:e.get("rotation"),flipHorizontal:e.get("flipHorizontal"),flipVertical:e.get("flipVertical")})}))}},r1UO:function(e,t,n){e.exports=n.p+"7b8bdf71864ed0e12c4f6b198fd54f99.svg"},r5Ws:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._1UMgMs7pUu-DWwYcmyw3gc {\n    background-color: #2d2d2d;\n    vertical-align: middle;\n    line-height: 45px;\n    padding-left: 17px;\n    margin: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo {\n    vertical-align: middle;\n    height: 40px;\n    font-size: 14px;\n    background-color: #c13134;\n    min-width: 190px;\n    padding: 0;\n}\n\n.rZlw9sQEa3FGwXfDi7Cpo:hover {\n    background-color: #dc5356;\n}\n\n.hJCgOEHrukZTvIl1NGGl1 {\n    position: fixed;\n    left: 50px;\n    right: 232px;\n    top: 80px;\n    padding-top: 20px;\n    bottom: 0px;\n    overflow-y: scroll;\n}\n\n.tz_48AX23UoEPMqG-1u_I {\n    overflow: initial;\n}\n\n._3mZK7nVc7dRO3ApTCfCeZI {\n    cursor: default;\n    font-size: 11px;\n    font-weight: 500;\n    color: #656565;\n    height: 23px;\n}\n\n.PQvtrNdK3kN1-d9ogcbX9 {\n    margin-bottom: 50px;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    background: linear-gradient(135.16deg, #419BAD 0%, #582E8D 100%);\n    height: 100%;\n    width: 100%;\n    opacity: 0.95;\n}\n\n._1WqTbSEH1c4DRuh5SWI3lH:after {\n    content: '';\n    background: url('/i/paywalls/waves.svg') no-repeat 100% 100%;\n    background-size: contain;\n    position: absolute;\n    width: 100%;\n    height: 205px;\n    max-width: 1600px;\n    bottom: 80px;\n    left: 50%;\n    transform: translateX(-50%);\n    pointer-events: none;\n}\n\n._3KYBwlRncafgN6BSCEtfd8 {\n    position: fixed;\n    top: 80px;\n    bottom: 0;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n    padding-top: 50px;\n}\n\n._36oLJBhM_gHNfjyLkE56sf {\n    width: 120px;\n}\n\n._3OOi6chTgLbxlN8YkZcbZ8 {\n    font-size: 37px;\n    margin: 24px 0 22px;\n    font-weight: 300;\n}\n\n._2DIKg1u6-uuKt1LiTloVQb {\n    line-height: 22px;\n    font-size: 15px;\n    font-weight: 500;\n}\n\n._2ArLGUIEAqw30-EVTK7uY- {\n    display: inline-block;\n    height: 50px;\n    width: 280px;\n    line-height: 48px;\n    border-radius: 4px;\n    margin: 28px 0;\n    font-size: 17px;\n}\n",""]),t.locals={panelTitle:"_1UMgMs7pUu-DWwYcmyw3gc",toolbarRestoreButton:"rZlw9sQEa3FGwXfDi7Cpo",contents:"hJCgOEHrukZTvIl1NGGl1",contentsPaywall:"tz_48AX23UoEPMqG-1u_I",pageIndicatorText:"_3mZK7nVc7dRO3ApTCfCeZI",blockContainer:"PQvtrNdK3kN1-d9ogcbX9",paywallBackground:"_1WqTbSEH1c4DRuh5SWI3lH",paywallContent:"_3KYBwlRncafgN6BSCEtfd8",paywallImage:"_36oLJBhM_gHNfjyLkE56sf",paywallTitle:"_3OOi6chTgLbxlN8YkZcbZ8",paywallText:"_2DIKg1u6-uuKt1LiTloVQb",paywallButton:"_2ArLGUIEAqw30-EVTK7uY-"}},r7UD:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ue}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("/MKj"),u=n("vOnD"),c=(n("k0mc"),n("rQKZ")),l=n("EKef"),s=n("F48k"),f=n("dqxC"),p=n("PINJ"),d=n("USB3"),h=n("w6T9"),b=n("UJ0y"),g=n("12ou"),y=n("JwJ8"),v=n("hl5+"),m=n("ySsV"),O=n("dwEA"),w=n("1+J2");function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}var k=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function C(){var e=R(["\n    background-color: #434343;\n    height: 30px;\n    text-align: center;\n    line-height: 30px;\n    color: #ffffff;\n    font-size: 11px;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    font-weight: 500;\n\n    ","\n"]);return C=function(){return e},e}function T(){var e=R(["\n    min-width: 180px;\n    background-color: #434343;\n    border-radius: 4px;\n    box-shadow: 0px 10px 40px rgba(0, 0, 0, 0.5);\n    text-align: left;\n    cursor: default;\n\n    ","\n"]);return T=function(){return e},e}function I(){var e=R(["\n    padding: 0px;\n    font-size: 11px;\n    background-color: #2d2d2d;\n    border-bottom-right-radius: 4px;\n    border-bottom-left-radius: 4px;\n\n    ","\n"]);return I=function(){return e},e}function z(){var e=R(["\n    height: 134px;\n    display: flex;\n    flex-direction: column;\n"]);return z=function(){return e},e}function D(){var e=R(["\n    width: 100%;\n    height: 87px;\n    background-repeat: no-repeat;\n    background-position: center 26px;\n    background-size: 64px 36px;\n    background-image: ",";\n"]);return D=function(){return e},e}function L(){var e=R(["\n    width: 100%;\n    text-align: center;\n    margin-bottom: 9px;\n"]);return L=function(){return e},e}function M(){var e=R(["\n            color: ",";\n            font-family: ",";\n        "]);return M=function(){return e},e}function A(){var e=R(["\n                color: ",";\n            "]);return A=function(){return e},e}function q(){var e=R(["\n                    color: ",";\n                "]);return q=function(){return e},e}function N(){var e=R(["\n            cursor: pointer;\n            color: #c13134;\n            ","\n        "]);return N=function(){return e},e}function B(){var e=R(["\n    font-family: Roboto;\n    font-weight: 500;\n    font-size: 11px;\n    line-height: 13px;\n    color: #ffffff;\n    display: inline-block;\n\n    ","\n\n    &:hover {\n        text-decoration: underline;\n        ","\n    }\n\n    ","\n    ","\n"]);return B=function(){return e},e}function U(){var e=R(["\n    padding: 10px;\n"]);return U=function(){return e},e}function Y(){var e=R(["\n    display: block;\n    width: 100%;\n    padding-top: 7px;\n    padding-bottom: 8px;\n    padding-left: 20px;\n    padding-right: 11px;\n    font-size: 11px;\n    font-weight: 500;\n    font-style: normal;\n    line-height: 15px;\n    text-align: center;\n    white-space: nowrap;\n    background-color: #656565;\n    outline: none;\n    color: white;\n\n    background-image: url(",");\n    background-size: 9px 15px;\n    background-repeat: no-repeat;\n    background-position: 11px 7px;\n\n    &:hover {\n        background-color: #7d7d7d;\n        text-decoration: none;\n    }\n\n    ","\n"]);return Y=function(){return e},e}function K(){var e=R(["\n    padding: 33px 19px 38px;\n    line-height: 13px;\n    font-size: 11px;\n    text-align: center;\n"]);return K=function(){return e},e}function X(){var e=R(["\n    background: #434343;\n    border: 0 none;\n    height: 2px;\n    margin: 0;\n\n    ","\n"]);return X=function(){return e},e}function H(){var e=R(["\n    padding-top: 10px;\n    padding-left: 10px;\n    padding-right: 12px;\n    padding-bottom: 10px;\n"]);return H=function(){return e},e}var G={default:"url(".concat(n("XGeZ"),")"),mobile:"url(".concat(n("9Glu"),")")},Z=u.default.div(C(),(function(e){return e.theme.id===d.default.id&&"\n        font-family: ".concat(d.default.fonts.ralewayBold,";\n        background-color: ").concat(d.default.neutral60,";\n        color: ").concat(d.default.neutral600,";\n    ")})),F=u.default.div(T(),(function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.white,";\n        box-shadow: ").concat(d.default.shadow.default,";\n    ")})),V=u.default.div(I(),(function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.white,";\n    ")})),W=u.default.div(z()),J=u.default.div(D(),(function(e){return G[e.icon]})),Q=u.default.div(L()),$=u.default.a(B(),(function(e){return e.theme.id===d.default.id&&Object(u.css)(M(),d.default.neutral600,d.default.fonts.ralewayBold)}),(function(e){return e.theme.id===d.default.id&&Object(u.css)(A(),d.default.red500)}),(function(e){return"default"===e.type&&"\n        pointer-events: none;\n    "}),(function(e){return"mobile"===e.type&&Object(u.css)(N(),(function(e){return e.theme.id===d.default.id&&Object(u.css)(q(),d.default.red500)}))})),ee=u.default.div(U()),te=Object(u.default)(h.default)(Y(),n("svD7"),(function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.blue500,";\n        color: ").concat(d.default.white,";\n        border: none;\n\n        &:hover {\n            color: ").concat(d.default.white,";\n            background-color: ").concat(d.default.blue400,";\n        }\n    ")})),ne=u.default.div(K()),re=u.default.hr(X(),(function(e){return e.theme.id===d.default.id&&"\n        background-color: ".concat(d.default.neutral60,";\n    ")})),oe=u.default.div(H()),ie=[{id:"default",text:r.default.t("app.freelayout_editor.layout.type.desktop"),statusText:r.default.t("app.freelayout_editor.layout.typeStatus.desktop"),icon:"url(".concat(n("uGvS"),")")},{id:"mobile",text:r.default.t("app.freelayout_editor.layout.type.mobile"),statusText:r.default.t("app.freelayout_editor.layout.typeStatus.mobile"),icon:"url(".concat(n("GTRv"),")")}],ae={setElementsOutsideBlockVisible:function(e){return{type:v.ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:{projectId:m.default.infographicId,enabled:e}}},toggleElementsOutsideBlockVisible:function(){return{type:v.TOGGLE_ELEMENTS_OUTSIDE_BLOCK_VISIBLE,payload:m.default.infographicId}}},ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(n,e);var t=S(n);function n(){var e;return E(this,n),(e=t.apply(this,arguments))._changeLayout=function(e){Object(s.default)(e.id)},e._removeMobileLayout=function(e){return e.stopPropagation(),Object(p.default)("mobile"),Object(w.logRemoveLayoutWebJs)({layout_name:"mobile"}),!1},e._addMobileLayout=function(){Object(f.default)(ie[1].id),e.props.setElementsOutsideBlockVisible(!0),Object(w.logAddLayoutWebJs)({layout_name:"mobile"})},e._toggleElementsOutsideBlockVisible=function(){e.props.toggleElementsOutsideBlockVisible(),Object(w.logShowOverflowWebJs)({})},e}return n.prototype.render=function(){return i.a.createElement(F,null,i.a.createElement(Z,null,r.default.t("app.freelayout_editor.layout.popupTitle3")),i.a.createElement(V,null,this.state.hasLayouts&&i.a.createElement(i.a.Fragment,null,i.a.createElement(g.default,{selected:this.state.selected,items:ie,onClick:this._changeLayout}),i.a.createElement(W,null,i.a.createElement(J,{icon:this.state.selected.id}),i.a.createElement(Q,null,i.a.createElement($,{onClick:this._removeMobileLayout,type:this.state.selected.id},this.state.selected.statusText),i.a.createElement(O.default,null,r.default.t("app.freelayout_editor.layout.shortcut",{shortcut:"L"}))))),!this.state.hasLayouts&&i.a.createElement(i.a.Fragment,null,i.a.createElement(ee,null,i.a.createElement(te,{onClick:this._addMobileLayout},r.default.t("app.freelayout_editor.layout.add.mobile")),i.a.createElement(ne,{dangerouslySetInnerHTML:{__html:r.default.t("app.freelayout_editor.layout.description2",{descriptionLink:r.default.t("app.freelayout_editor.layout.descriptionLink2"),descriptionLinkUrl:"https://support.infogram.com/hc/articles/360015748799"})}}))),i.a.createElement(re,null),i.a.createElement(oe,null,i.a.createElement(b.default,{label:r.default.t("app.freelayout_editor.layout.overflow.label"),onChange:this._toggleElementsOutsideBlockVisible,active:this.props.elementsOutsideBlockVisible,singleLine:!0}),i.a.createElement(y.HelpButton,{"data-tooltip-position":"right","data-tooltip-html":r.default.t("app.freelayout_editor.layout.overflow.info")}))))},n.getStores=function(){return[l.default]},n.calculateState=function(){return{selected:ie[l.default.editingDefaultLayout?0:1],hasLayouts:l.default.editorState.getLayouts().size>0}},n}(o.Component);ue=k([Object(a.connect)((function(e){return{elementsOutsideBlockVisible:e.get("localProjectSettings").elementsOutsideBlockVisible}}),ae),Object(c.default)()],ue)},rRPG:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._4dlW5NPA5B4XBQ6CsoxMI {\n    font-size: 15px;\n    font-weight: 500;\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 25px;\n}\n\n._31bPTCHKYRvGLxztuyvCL- {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._1cGeIkQFWJwmcvwwiJ7_5j {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 5px;\n}\n\n._3agSnovTsqf6vhTz5FsdiO {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n}\n\n._1mpctopZvYgtBUZbwJDKND {\n    display: inline-block;\n    vertical-align: middle;\n}\n\n._3UdC45V_jOWnMS_tFe5I7U {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 20px;\n    width: 35px;\n    height: 35px;\n    line-height: 37px;\n    background-size: cover;\n    border-radius: 100%;\n}\n\n._2JYlnyvEcYU7S196gRlJLh {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px;\n    color: #9d9d9d;\n}\n",""]),t.locals={title:"_4dlW5NPA5B4XBQ6CsoxMI",icon:"_31bPTCHKYRvGLxztuyvCL-",label:"_1cGeIkQFWJwmcvwwiJ7_5j",version:"_3agSnovTsqf6vhTz5FsdiO",date:"_1mpctopZvYgtBUZbwJDKND",avatar:"_3UdC45V_jOWnMS_tFe5I7U",name:"_2JYlnyvEcYU7S196gRlJLh"}},svD7:function(e,t,n){e.exports=n.p+"60802bcb3fc57ff75316884c9c74dc5a.svg"},tE8V:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2dtVQRXWUiPmbQfj-fIzjb {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0 0 70px 0;\n}\n\n._2510-zrO9rAtpsUf7OJ6td {\n\tdisplay: block;\n\tposition: relative;\n\tpadding: 15px 0 15px 40px;\n\tmargin: 0;\n\tcursor: pointer;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:before {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 1px;\n\ttop: 0;\n\tleft: 20px;\n\tbottom: 0;\n\tbackground-color: #656565;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:after {\n\tcontent: '';\n\tposition: absolute;\n\tleft: 17px;\n\ttop: 17px;\n\twidth: 7px;\n\theight: 7px;\n\tbackground-color: #656565;\n\tborder-radius: 50%;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:last-child:before {\n\tbottom: auto;\n\theight: 17px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:before {\n\ttop: 15px;\n}\n\n._2510-zrO9rAtpsUf7OJ6td:first-child:after {\n\twidth: 11px;\n\theight: 11px;\n\tleft: 15px;\n\ttop: 15px;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW {\n\tbackground-color: #656565;\n}\n\n._1-f7CRhhtCLpjPiDSfKMKW:after {\n\tbackground-color: #cacaca;\n}\n\n._1qghFzpelIhDHSXMsrTLrR {\n\tmargin-top: 5px;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n._3nxToVRFV-oCqxLHdMj-Gb {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\twidth: 20px;\n\theight: 20px;\n\tline-height: 21px;\n\tbackground-size: cover;\n\tborder-radius: 100%;\n\tborder: none;\n\tfont-size: 10px;\n\tfont-weight: 500;\n}\n\n.A051V1q8Qr3yRgunJdA5z {\n\tdisplay: inline-block;\n\tfont-size: 11px;\n\tmargin-left: 5px;\n\tcolor: #fff;\n\topacity: 0.5;\n}\n",""]),t.locals={list:"_2dtVQRXWUiPmbQfj-fIzjb",item:"_2510-zrO9rAtpsUf7OJ6td",selected:"_1-f7CRhhtCLpjPiDSfKMKW",author:"_1qghFzpelIhDHSXMsrTLrR",avatar:"_3nxToVRFV-oCqxLHdMj-Gb",name:"A051V1q8Qr3yRgunJdA5z"}},tY9K:function(e,t,n){"use strict";n.r(t);var r=n("r7UD");n.d(t,"default",(function(){return r.default}))},"u/T2":function(e,t,n){"use strict";n.r(t),n.d(t,"BrandKitUpdateNotification",(function(){return p}));var r=n("q1tI"),o=n.n(r),i=n("/MKj"),a=n("XzT5"),u=n("tFc1"),c=n("EKef"),l=n("hrfg"),s=n("I/LR"),f=n("I3ee"),p=function(e){var t,n=e.activeBrandkit,r=Object(i.useSelector)((function(e){return e.get("branding")})),u=Object(i.useDispatch)(),c=null===(t=r.brandkits)||void 0===t?void 0:t.some((function(e){var t=e.id,r=e.hash;return t===(null==n?void 0:n.get("id"))&&r!==(null==n?void 0:n.get("hash"))}));return n&&c?o.a.createElement(s.ConfirmationNotification,{icon:o.a.createElement(f.BrandkitIcon,null),info:a.default.t("app.brandkit.brandkit_update_notification"),confirmLabel:a.default.t("app.brandkit.brandkit_update_apply"),dismissLabel:a.default.t("app.brandkit.brandkit_update_dismiss"),onConfirm:function(){var e,t=null===(e=r.brandkits)||void 0===e?void 0:e.find((function(e){return e.id===(null==n?void 0:n.get("id"))}));t?u(Object(l.applyBrandkit)(t)):console.warn("Unexpected: after succesful brand kit verification, it should be available here")}}):null};t.default=Object(u.withFluxProps)([c.default],(function(){return{activeBrandkit:c.default.brandkit}}))(p)},uD2d:function(e,t,n){"use strict";n.r(t),n.d(t,"savePresenterNotes",(function(){return s})),n.d(t,"savePresenterNotesThrottled",(function(){return p}));var r=n("LvDl"),o=n.n(r),i=n("Zcty"),a=n("hl5+");function u(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function s(e,t){return f.apply(this,arguments)}function f(){return(f=c((function(e,t){return l(this,(function(n){return i.default.dispatch({type:a.SET_PAGE_PRESENTER_NOTES,payload:{pageId:e,notes:t}}),[2]}))}))).apply(this,arguments)}var p=o.a.throttle(s,500)},uGvS:function(e,t,n){e.exports=n.p+"9438e1361cced3513805c35e84f678ec.svg"},uwfs:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return G}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("i8i4"),u=n.n(a),c=n("/MKj"),l=n("vOnD"),s=n("17x9"),f=n.n(s),p=n("yb06"),d=n.n(p),h=n("kFHh"),b=n("Mo2j"),g=n("ySsV"),y=n("EKef"),v=n("Sye6"),m=n("70t9"),O=n("jeSZ"),w=n("fhZ6"),E=n("rQKZ"),_=n("amct"),x=n("VYD4"),j=n("USB3"),R=n("/80h"),P=n("Uwx8");function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),e}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}function L(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}function M(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?S(e):t}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}var U,Y=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};function K(){var e=q(["\n    position: fixed;\n    z-index: 99999;\n    transform: translate(-100%, 0);\n    padding-right: 5px;\n"]);return K=function(){return e},e}function X(){var e=q(["\n    box-sizing: border-box;\n    position: relative;\n    background-color: ",";\n    padding: ","px;\n    border: none;\n    border-radius: 4px;\n    box-shadow: 0 1px 4px 0 rgba(46, 58, 74, 0.5);\n    max-width: 298px;\n"]);return X=function(){return e},e}function H(){var e=q(["\n    position: absolute;\n    width: 11px;\n    height: 11px;\n    top: 10px;\n    right: 10px;\n    cursor: pointer;\n    background: url(",") center no-repeat;\n    background-size: contain;\n"]);return H=function(){return e},e}var G=(U=function(e){D(n,e);var t=B(n);function n(){var e;return k(this,n),I(S(e=t.apply(this,arguments)),"state",{paletteVisible:!1}),I(S(e),"_panel",i.a.createRef()),I(S(e),"_popup",i.a.createRef()),I(S(e),"_chooseThemeColor",(function(t){var n=t.displayValue,r=t.value;e._panel.current._colorInput.current.value="",e.props.onChange({source:"theme",value:r,intensity:e.props.intensity,displayValue:n})})),I(S(e),"_updateGradientColor",(function(t){e.props.onChange({source:"custom",value:t,displayValue:t})})),e}return T(n,[{key:"render",value:function(){var e=this.state,t=e.design,n=e.graphicType,r=e.entityPath,o=e.inputColor,a=e.resolvedActiveColor,c=e.colorSections,l=this.props,s=l.availableColorModes,f=l.showOpacity,p=l.bonusColors,d=l.intensity;if(s){var b=a||"transparent",g=this.props.showTransparent||void 0!==d||void 0!==p;return u.a.createPortal(i.a.createElement(W,{x:this.props.x,y:this.props.y+-12,onClose:this.props.onClose,isGradientColorPicker:!0},i.a.createElement(P.EditorColorPicker,{availableColorModes:s,color:b,onChange:this._updateGradientColor,showOpacity:f,showTransparent:g,colorpickerObject:"BLOCK"===(null==r?void 0:r[0])?"PAGE_BACKGROUND":"SHAPE"})),document.body)}return(u.a.createPortal(i.a.createElement(W,{key:"panel",ref:this._popup,x:this.props.x,y:this.props.y+-12,onClose:this.props.onClose},i.a.createElement(h.default,{key:"panel",ref:this._panel,onChange:this.props.onChange,activeColor:this.props.color,intensity:this.props.intensity,inputColor:o,resolvedActiveColor:a,design:t,graphicType:n,entityPath:r},c.theme&&i.a.createElement(m.default,{title:c.theme.title,colors:c.theme.colors,onChoose:this._chooseThemeColor,showTransparent:this.props.showTransparent||void 0!==this.props.intensity}),!this.state.brandkit&&i.a.createElement(O.default,{hasCreatedABrandkit:this.props.hasCreatedABrandkit,locked:this.state.brandkitLocked}))),document.body))}}],[{key:"getStores",value:function(){return[b.default,g.default,y.default,v.default]}},{key:"calculateState",value:function(e,t){var n,o,i,a={},u=b.default.themeColors,c="block";if(g.default.isFreeLayout){var l=y.default.editorState,s=v.default.currentSelection;n=l.getDesign();var f=s;if(f.isEmpty())o=["BLOCK"];else{var p=f.getEntities(),d=p.first(),h=l.getEntity(d),m=h.getType();o=[m];var O=Object.keys(p.map((function(e){return l.getEntity(e)})).reduce((function(e,t){return e[t.getProperty("graphicType")]=!0,e}),{}));if(c=1===O.length?O[0]:"multiselection","TEXT"===m){var w=h.getIn(["props","template"]);w&&o.push(w)}}}u.isEmpty()||(a.theme={title:y.default.brandkit?(null===(i=y.default.brandkit)||void 0===i?void 0:i.get("palette"))?r.default.t("app.color_picker.section_brand"):r.default.t("app.color_picker.section_colors"):r.default.t("app.color_picker.section_palette"),colors:t.bonusColors?u.concat(t.bonusColors):u,id:"colors"});return L(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},Object(R.populateColorData)({sections:a,entityPath:o,design:n,activeColor:t.color})),{design:n,entityPath:o,graphicType:c,brandkit:y.default.brandkit,brandkitLocked:!x.default.features.brand_kit})}}]),n}(o.Component),I(U,"propTypes",{x:f.a.number.isRequired,y:f.a.number.isRequired,color:f.a.string,intensity:f.a.number,onChange:f.a.func.isRequired,onClose:f.a.func,children:f.a.node,bonusColors:d.a.listOf(f.a.string),openDialog:f.a.func,featureSwitches:f.a.object,hasCreatedABrandkit:f.a.bool,showTransparent:f.a.bool,availableColorModes:f.a.array,showOpacity:f.a.bool}),U);G=Y([Object(c.connect)((function(e){var t,n;return{hasCreatedABrandkit:!!(null===(t=e.get("branding"))||void 0===t?void 0:null===(n=t.brandkits)||void 0===n?void 0:n.length)}}),null,null,{areStatesEqual:function(e,t){return e.get("branding")===t.get("branding")}}),Object(_.withDialogs)(),Object(E.default)({withProps:!0})],G);var Z=l.default.div(K()),F=l.default.div(X(),j.default.background,(function(e){return e.isGradientColorPicker?2:20})),V=l.default.a(H(),n("M5lW")),W=function(e){D(n,e);var t=B(n);function n(){var e;return k(this,n),I(S(e=t.apply(this,arguments)),"_element",i.a.createRef()),I(S(e),"state",{hasDimensions:!1}),I(S(e),"_closeIfRequired",(function(t){"keydown"===t.type?t.keyCode===w.default.ESCAPE&&(t.stopPropagation(),t.preventDefault(),e.props.onClose()):"mousedown"===t.type&&(e._element.current.contains(t.target)||e.props.onClose())})),e}return T(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.children,r=e.isGradientColorPicker,o={left:this.props.x,top:this.props.y};if(this.state.hasDimensions){var a=this.state,u=a.elementRight,c=a.elementBottom,l=a.viewportWidth,s=a.viewportHeight;u>=l&&(delete o.left,o.right=0),c>=s&&(delete o.top,o.bottom=0)}return(i.a.createElement(Z,{style:o,ref:this._element},i.a.createElement(F,{isGradientColorPicker:r},n,i.a.createElement(V,{role:"button",onClick:t}))))}},{key:"componentDidMount",value:function(){window.document.addEventListener("keydown",this._closeIfRequired,!0),window.document.addEventListener("mousedown",this._closeIfRequired,!1),this.update()}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("mousedown",this._closeIfRequired,!1),window.document.removeEventListener("keydown",this._closeIfRequired,!0)}},{key:"update",value:function(){var e=window.innerWidth,t=window.innerHeight,n=this._element.current.getBoundingClientRect(),r=n.right,o=n.bottom;this.setState({hasDimensions:!0,elementRight:Math.ceil(r),elementBottom:Math.ceil(o),viewportWidth:e,viewportHeight:t})}}]),n}(o.PureComponent);I(W,"propTypes",{children:f.a.node,x:f.a.number.isRequired,y:f.a.number.isRequired,onClose:f.a.func.isRequired,isGradientColorPicker:f.a.bool})},v8xS:function(e,t,n){"use strict";n.r(t),n.d(t,"loadTemplate",(function(){return s}));var r=n("Zcty"),o=n("1QDN"),i=n("kOm4"),a=n("Aw7l");function u(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}var l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function s(e){return f.apply(this,arguments)}function f(){return(f=c((function(e){var t,n,u,c,s;return l(this,(function(l){switch(l.label){case 0:if(!e)return r.default.dispatch({type:o.FLEX_TEMPLATE_LOADED,data:{pages:[],assets:{}}}),window.loadingLog&&window.loadingLog.push("no templateId FLEX_TEMPLATE_LOADED"),[2];r.default.dispatch({type:o.FLEX_TEMPLATE_LOADING}),l.label=1;case 1:return l.trys.push([1,6,,7]),[4,fetch("/api/flex/template/".concat(e),{credentials:"same-origin"})];case 2:return t=l.sent(),window.loadingLog&&window.loadingLog.push("template fetched"),t.ok?[3,4]:(n=Error.bind,[4,t.text()]);case 3:throw new(n.apply(Error,[void 0,l.sent()]));case 4:return[4,t.json()];case 5:return u=l.sent(),c=u.pages.map((function(e){return i.default.createFromJSONObject(e.key,e)})),window.loadingLog&&window.loadingLog.push("data parsed and FLEX_TEMPLATE_LOADED"),r.default.dispatch({type:o.FLEX_TEMPLATE_LOADED,data:{pages:c,assets:u.assets}}),[3,7];case 6:return s=l.sent(),r.default.dispatch({type:o.FLEX_TEMPLATE_LOADING_ERROR}),Object(a.logError)("Flex template loading error",s),[3,7];case 7:return[2]}}))}))).apply(this,arguments)}},vly6:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),o=n.n(r),i=n("17x9"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("9s3c"),s=n("qxmC");function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}var v,m,O,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(u,e);var t,n,i,a=y(u);function u(){return f(this,u),a.apply(this,arguments)}return t=u,(n=[{key:"render",value:function(){var e=this.props.entity;return(o.a.createElement(r.Fragment,null,e&&o.a.createElement(l.default,{handlerKey:e.getKey(),entity:e,scaleX:this.props.scaleX,scaleY:this.props.scaleY}),o.a.createElement(s.default,{scaleX:this.props.scaleX,scaleY:this.props.scaleY,blockKey:this.props.blockKey})))}}])&&p(t.prototype,n),i&&p(t,i),u}(r.PureComponent);v=w,m="propTypes",O={entity:c.a.record,scaleX:a.a.number.isRequired,scaleY:a.a.number.isRequired,blockKey:a.a.string.isRequired},m in v?Object.defineProperty(v,m,{value:O,enumerable:!0,configurable:!0,writable:!0}):v[m]=O,t.default=w},w3Az:function(e,t,n){e.exports=n.p+"392cfefe00f9c952032783eb0243410d.svg"},wa9k:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._3FcCNm_K416zuBH3V4S85y {\n    top: -10px;\n    left: -10px;\n}\n._1v3_xhjaCYhJivWNY6SSXf {\n    top: -10px;\n    left: calc(50% - 10px);\n}\n._3IkWwYgbKUn50oG8I2Gzh7 {\n    top: -10px;\n    right: -10px;\n}\n.rXDWt5byIe9ZZjVwKcKaW {\n    left: -10px;\n    top: calc(50% - 10px);\n}\n.Q1o9UdUFzoVnyZnsI4RRu {\n    left: calc(50% - 10px);\n    top: calc(50% - 10px);\n}\n._39fZePyY5DIyZvdKypTDsq {\n    right: -10px;\n    top: calc(50% - 10px);\n}\n.Kf5HZ96DKy41PJ1QdKFO1 {\n    bottom: -10px;\n    left: -10px;\n}\n._263CPDCgA3ld7DzUSXWQ76 {\n    bottom: -10px;\n    left: calc(50% - 10px);\n}\n._3qxD5pL_D6d1IdSzCpDEmh {\n    bottom: -10px;\n    right: -10px;\n}\n",""]),t.locals={nw:"_3FcCNm_K416zuBH3V4S85y",n:"_1v3_xhjaCYhJivWNY6SSXf",ne:"_3IkWwYgbKUn50oG8I2Gzh7",w:"rXDWt5byIe9ZZjVwKcKaW",center:"Q1o9UdUFzoVnyZnsI4RRu",e:"_39fZePyY5DIyZvdKypTDsq",sw:"Kf5HZ96DKy41PJ1QdKFO1",s:"_263CPDCgA3ld7DzUSXWQ76",se:"_3qxD5pL_D6d1IdSzCpDEmh"}},weSN:function(e,t,n){"use strict";n.r(t),n.d(t,"LayerItem",(function(){return z}));var r=n("XzT5"),o=n("q1tI"),i=n.n(o),a=n("IYwU"),u=n("vOnD"),c=n("USB3"),l=n("9tnV"),s=n.n(l),f=n("pWQL"),p=n("6Aeb");function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(){var e=b(["\n            &:before {\n                background: ",";\n\n                ","\n            }\n        "]);return g=function(){return e},e}function y(){var e=b(["\n    &:before {\n        height: 3px;\n        background: #7d7d7d;\n        border-radius: 3px;\n        content: '';\n        display: block;\n        margin-bottom: 1px;\n    }\n\n    ","\n\n    ","\n"]);return y=function(){return e},e}function v(){var e=b(["\n            background-image: url(",");\n        "]);return v=function(){return e},e}function m(){var e=b(["\n            background-image: url(",");\n\n            ","\n        "]);return m=function(){return e},e}function O(){var e=b(["\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background-image: url(",");\n    background-size: 16px 16px;\n    visibility: hidden;\n    margin-right: 10px;\n\n    ","\n\n    ","\n"]);return O=function(){return e},e}function w(){var e=b(["\n            background-image: url(",");\n        "]);return w=function(){return e},e}function E(){var e=b(["\n            background-image: url(",");\n\n            ","\n        "]);return E=function(){return e},e}function _(){var e=b(["\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    background-image: url(",");\n    background-size: 16px 16px;\n    visibility: ",";\n\n    ","\n\n    ","\n"]);return _=function(){return e},e}function x(){var e=b(["\n    display: inline-block;\n    width: 123px;\n"]);return x=function(){return e},e}function j(){var e=b(["\n            background-color: ",";\n            background-image: url(",");\n            color: ",";\n\n            &:hover {\n                background-color: ",";\n            }\n\n            ","\n        "]);return j=function(){return e},e}function R(){var e=b(["\n    background-color: #2d2d2d;\n    color: #d8d8d8;\n    padding: 5px;\n    display: flex;\n    align-items: left;\n    justify-content: space-between;\n    cursor: pointer;\n    margin-top: 1px;\n    margin-bottom: 1px;\n    background-position: 10px 12px;\n    background-size: 10px 6px;\n    background-repeat: no-repeat;\n    padding: 7px 10px 7px 30px;\n    border-radius: 3px;\n    background-image: url(",");\n\n    &:hover {\n        background-color: #3796c9;\n\n        "," {\n            visibility: visible;\n        }\n\n        "," {\n            visibility: visible;\n        }\n    }\n\n    ","\n\n    ","\n"]);return R=function(){return e},e}var P=s()(r.default),S=u.default.div(y(),(function(e){return e.draggingOver&&"\n        &:before {\n            background: #3796C9;\n        }\n    "}),(function(e){return Object(c.prezigram)(e.theme)&&Object(u.css)(g(),c.default.white,e.draggingOver&&"\n                background: ".concat(c.default.blue500,";\n            "))})),k=u.default.div(O(),n("kUYm"),(function(e){return Object(c.prezigram)(e.theme)&&Object(u.css)(v(),n("/g9H"))}),(function(e){return e.locked&&Object(u.css)(m(),n("j/ps"),Object(c.prezigram)(e.theme)&&"\n            background-image: url(".concat(n("UF7a"),");\n        "))})),C=u.default.div(_(),n("LvMK"),(function(e){return e.enabled?"hidden":"visible"}),(function(e){return Object(c.prezigram)(e.theme)&&Object(u.css)(w(),n("o8ip"))}),(function(e){return e.enabled&&Object(u.css)(E(),n("gO3o"),Object(c.prezigram)(e.theme)&&"\n            background-image: url(".concat(n("DPv0"),");\n        "))})),T=u.default.div(x()),I=u.default.div(R(),n("kHX3"),k,C,(function(e){return e.selected&&"\n        background-color: #3796C9;\n\n        ".concat(k," {\n            visibility: visible;\n        }\n\n        ").concat(C," {\n            visibility: visible;\n        }\n    ")}),(function(e){return Object(c.prezigram)(e.theme)&&Object(u.css)(j(),c.default.neutral80,n("xysm"),c.default.neutral600,c.default.neutral200,e.selected&&"\n            background-color: ".concat(c.default.neutral200,";\n        "))}));var z=function(e){var t=e.entity,n=e.index,o=e.onDrop,u=e.onLayerClick,c=e.onVisibilityToggle,l=e.onLockToggle,s=e.isSelected,d=h(Object(a.useDrag)({item:{type:"ENTITY",id:t.getKey()}}),2)[1],b=h(Object(a.useDrop)({accept:"ENTITY",drop:function(e){return o(n,e.id)},collect:function(e){return{draggingOver:!!e.isOver()}}}),2),g=b[0].draggingOver,y=b[1];return i.a.createElement(S,{draggingOver:g,key:t.getKey(),ref:y,onClick:function(e){u(t,e.shiftKey)}},i.a.createElement(I,{selected:s,ref:t.isLocked()?void 0:d},i.a.createElement(T,null,function(e){switch(e.getType()){case"CHART":var t=e.getIn(["props","chartData"]),n="".concat(t.get("chart_type_nr"),"_").concat(t.get("modifier"));if(n===f.MAP){var o=t.getIn(["custom","title"]);return o?"".concat(P[n].fullTitle," (").concat(o,")"):P[n].fullTitle}return P[n].fullTitle;case"IMAGE":return"icon"===e.getIn(["props","subType"])?r.default.t("inspector.responsive.graphics.icon"):r.default.t("inspector.responsive.graphics.image");case"MEDIA":var i=e.getIn(["props","mediaType"]);return"gallery_image"===i||"flickr"===i?r.default.t("app.download.media_type_image"):"twitter"===i?r.default.t("app.download.media_type_tweet"):"slideshare"===i?r.default.t("app.download.media_type_slides"):"vimeo"===i||"youtube"===i?r.default.t("app.download.media_type_video"):"url"===i?r.default.t("app.download.media_type_link"):r.default.t("app.download.media_type_unknown");case"SHAPE":return p.SHAPE_TYPE_LABELS[e.getIn(["props","type"])];case"CONNECTOR":return r.default.t("inspector.free.entity.title.CONNECTOR");case"TEXT":return r.default.t("components.rte.header_title");case"GROUP":return r.default.t("inspector.free.entity.title.GROUP");default:return e.getType()}}(t)),i.a.createElement(k,{onClick:function(e){e.stopPropagation(),l(t)},locked:t.isLocked()}),i.a.createElement(C,{onClick:function(e){e.stopPropagation(),c(t)},enabled:!t.isHidden()})))};t.default=z},wwJs:function(e,t,n){(t=e.exports=n("I1BE")(!1)).push([e.i,"._2_xxOi2TPNc73E6mzdDyyE {\r\n  position: relative;\r\n}\r\n\r\n._2y3VeXYY9DPuN659Ozq9rL {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n",""]),t.locals={droppableInfographicEditor:"_2_xxOi2TPNc73E6mzdDyyE",zoomContainer:"_2y3VeXYY9DPuN659Ozq9rL"}},x6X5:function(e,t,n){e.exports=n.p+"3251acd3588c6b5e4d2a7fdd3defafc9.svg"},xysm:function(e,t,n){e.exports=n.p+"806ae3cda9017f0f6c8a2c0a58223a9b.svg"},yGHk:function(e,t,n){e.exports=n.p+"a7a8404e251f73dcaab3b6111da2087c.svg"},"ys+c":function(e,t,n){e.exports=n.p+"fdc934992380bbc6488a717096c9e90b.svg"},z3Ib:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return Z}));var r=n("17x9"),o=n.n(r),i=n("q1tI"),a=n.n(i),u=n("yb06"),c=n.n(u),l=n("vOnD"),s=n("/MKj"),f=n("TSYQ"),p=n.n(f),d=n("Sye6"),h=n("TJ0u"),b=n("vmwM"),g=n("rQKZ"),y=n("avnT"),v=n("USB3"),m=n("qLhN"),O=n.n(m);function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return!t||"object"!==S(t)&&"function"!=typeof t?w(e):t}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var S=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}var C,T=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},I=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function z(){var e=P(["\n    position: absolute;\n    top: 50%;\n    border-left: 1px solid #3195cb;\n    border-right: 1px solid #3195cb;\n    width: 5px;\n    height: 10px;\n    margin-top: -5px;\n    pointer-events: none;\n\n    ","\n"]);return z=function(){return e},e}function D(){var e=P(["\n    position: absolute;\n    width: 10px;\n    top: 27px;\n    bottom: 27px;\n    pointer-events: auto;\n    cursor: ew-resize;\n\n    "," {\n        box-sizing: border-box;\n    }\n"]);return D=function(){return e},e}function L(){var e=P(["\n    right: 23px;\n"]);return L=function(){return e},e}function M(){var e=P(["\n    left: 28px;\n"]);return M=function(){return e},e}function A(){var e=P(["\n    pointer-events: none;\n    background: #3195cb;\n    transition: transform 50ms ease-in-out;\n    backface-visibility: hidden;\n\n    ","\n\n    ","\n\n    ","\n"]);return A=function(){return e},e}var q=["begin","end"],N=["n","ne","e","se","s","sw","w","nw"],B=["ne","nw","sw","se"],U=["ns-resize","nesw-resize","ew-resize","nwse-resize"],Y=l.default.div(z(),(function(e){return e.theme.id===v.default.id&&"\n        border-right-color: ".concat(v.default.blue500,";\n        border-left-color: ").concat(v.default.blue500,";\n    ")})),K=l.default.div(D(),Y),X=Object(l.default)(K)(L()),H=Object(l.default)(K)(M()),G=l.default.div(A(),(function(e){return e.rectangle&&"\n        height: 11px;\n        width: 11px;\n        outline: solid 1px #fff;\n    "}),(function(e){return e.line&&"\n        height: 12px;\n        width: 12px;\n        border: 1px solid #fff;\n        border-radius: 7px;\n    "}),(function(e){return e.theme.id===v.default.id&&"\n        background: ".concat(v.default.blue500,";\n    ")})),Z=(C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(u,e);var t,n,r,o=k(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),_(w(t=o.call(this,e)),"_assignHandler",(function(e,n){var r;if(t.props.mode===y.OVERLAY_MODES.LINE)r=t.props.handlers[e];else if(t.props.mode===y.OVERLAY_MODES.TEXT)r=N.includes(e)?t.props.handlers.scaleText:t.props.handlers.resizeWidth;else{r=N.indexOf(e)%2?t.props.handlers.resize:t.props.handlers.resizeSide}r(n,e),t._refs[e]=n})),t._setRef=t._setRef.bind(w(t)),t._storePositions=t._storePositions.bind(w(t)),t._getCursor=t._getCursor.bind(w(t)),t._findActiveResize=t._findActiveResize.bind(w(t)),t._handleMouseDown=t._handleMouseDown.bind(w(t)),t._handleMouseUp=t._handleMouseUp.bind(w(t)),t._refs={},t}return t=u,r=[{key:"getStores",value:function(){return[h.default,d.default,b.default]}},{key:"calculateState",value:function(e,t){var n=h.default.scrolling,r=t&&t.resizing,o=e&&e.positions,i=!d.default.multiSelectionActive&&!t.isGroup,a=d.default.currentSelection,u=e&&e.selected;return e&&e.resizing&&!r&&(u=null),{positions:o,selected:u,scrolling:n,resizing:r,clipping:!!b.default.activeType,sideResizeEnabled:i,selection:a}}}],(n=[{key:"componentDidMount",value:function(){this._storePositions()}},{key:"componentDidUpdate",value:function(e,t){(t.scrolling&&!this.state.scrolling||e.zoom!==this.props.zoom||t.resizing&&!this.state.resizing||t.clipping&&!this.state.clipping||t.selection!==this.state.selection||e.width!==this.props.width||e.height!==this.props.height||e.rotation!==this.props.rotation)&&this._storePositions()}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this._refs).forEach((function(t){return e._assignHandler(t,null)}))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.mode,o=n.width,u=n.height,c=this.state.sideResizeEnabled,l=this._findActiveResize();if(y.OVERLAY_MODES.LINE===r)e=q;else if(r===y.OVERLAY_MODES.TEXT||r===y.OVERLAY_MODES.CONTAINERLESS)e=c&&B||[];else{var s=[c&&o>24,!0,c&&u>24,!0];e=N.filter((function(e,t){return s[t%4]}))}var f=y.OVERLAY_MODES.RECTANGLE===r||r===y.OVERLAY_MODES.TEXT||r===y.OVERLAY_MODES.CONTAINERLESS;return(a.a.createElement("div",null,(r===y.OVERLAY_MODES.TEXT||r===y.OVERLAY_MODES.CONTAINERLESS)&&c&&a.a.createElement(i.Fragment,null,a.a.createElement(X,{ref:this._setRef,style:{cursor:this._getCursor("left")},"data-type":"left",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},a.a.createElement(Y,{style:{transform:this._getTransform("left",l)}})),a.a.createElement(H,{ref:this._setRef,style:{cursor:this._getCursor("right")},"data-type":"right",onMouseDown:this._handleMouseDown,onMouseUp:this._handleMouseUp},a.a.createElement(Y,{style:{transform:this._getTransform("right",l)}}))),r!==y.OVERLAY_MODES.CONTAINERLESS&&e.map((function(e){var n;return(a.a.createElement("div",{className:p()((n={},_(n,O.a.lineResizeHandle,y.OVERLAY_MODES.LINE===r),_(n,O.a.resizeHandle,f),_(n,O.a[e],!0),n)),style:{cursor:t._getCursor(e)},key:e,"data-type":e,ref:t._setRef,onMouseDown:t._handleMouseDown,onMouseUp:t._handleMouseUp},a.a.createElement(G,{line:y.OVERLAY_MODES.LINE===r,rectangle:f,style:{transform:t._getTransform(e,l)}})))}))))}},{key:"_findActiveResize",value:function(){var e=this.props,t=e.resizing,n=e.mousePosition,r=this.state,o=r.positions,i=r.selected;if(i)return{type:i,scale:1};var a=null;return!o||i||t||Object.keys(o).forEach((function(e){var t,r,i=o[e],u=i?(t=i,r=n,Math.floor(Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)))):1/0;(!a||u<a.distance)&&(a={type:e,distance:u})})),a?{type:a.type,scale:this._calculateScale(a.distance)}:void 0}},{key:"_calculateScale",value:function(e){if(e>70)return 0;var t=.75*(83-e)/70+.25;return t=(t=Math.min(1,t)).toFixed(2)}},{key:"_getCursor",value:function(e){if(this.props.mode===y.OVERLAY_MODES.LINE)return"move";this.props.mode===y.OVERLAY_MODES.TEXT&&("left"===e?e="e":"right"===e&&(e="w"));var t=N.indexOf(e),n=this.props.rotation+112.5,r=Math.floor(n/45)-2;return U[(U.length+t+r)%U.length]}},{key:"_getTransform",value:function(e,t){var n=0;return this.props.mode===y.OVERLAY_MODES.LINE?n=1:t&&t.type===e&&(n=t.scale),"scale(".concat(n,")")}},{key:"_getPosition",value:function(e){var t=e.getBoundingClientRect();return{x:t.width/2+t.left,y:t.height/2+t.top}}},{key:"_storePositions",value:function(){var e=this,t={};Object.keys(this._refs).forEach((function(n){var r=e._refs[n];t[n]=r?e._getPosition(r):null})),this.setState({positions:t})}},{key:"_setRef",value:function(e){if(e){var t=e.getAttribute("data-type");this._assignHandler(t,e)}}},{key:"_handleMouseDown",value:function(e){var t=e.target.getAttribute("data-type");this.setState({selected:t})}},{key:"_handleMouseUp",value:function(){this.setState({selected:null})}}])&&E(t.prototype,n),r&&E(t,r),u}(i.Component),_(C,"propTypes",{width:o.a.number.isRequired,height:o.a.number.isRequired,handlers:o.a.object.isRequired,rotation:o.a.number.isRequired,zoom:o.a.number.isRequired,resizing:o.a.bool.isRequired,mode:o.a.string.isRequired,isGroup:o.a.bool,mousePosition:c.a.contains({x:o.a.number.isRequired,y:o.a.number.isRequired})}),C);Z=T([Object(s.connect)((function(e){var t=e.get("editorZoom");return{mousePosition:e.get("mousePosition"),zoom:t.zoom}}),null,null,{areStatesEqual:function(e,t){return e.get("mousePosition")===t.get("mousePosition")&&e.get("editorZoom")===t.get("editorZoom")},areStatePropsEqual:function(e,t){return e.zoom===t.zoom&&e.mousePosition===t.mousePosition}}),Object(g.default)({withProps:!0}),I("design:type",Function),I("design:paramtypes",[void 0])],Z)},zHDs:function(e,t,n){e.exports=n.p+"39994a8515b2aa321703d40dafe8a743.svg"},zHWi:function(e,t,n){"use strict";n.r(t),n.d(t,"EditorWatermark",(function(){return g}));var r=n("q1tI"),o=n.n(r),i=n("vOnD"),a=n("amct"),u=n("Muuz"),c=n("/cSm"),l=n("JlNS"),s=n("VYD4"),f=n("ySsV"),p=n("gRra");function d(){var e,t,n=(e=["\n    width: 8px;\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return d=function(){return n},n}var h=Object(r.lazy)((function(){return Promise.resolve().then(n.bind(null,"Fr46"))})),b=i.default.div(d()),g=function(e){var t=e.openDialog,n=e.scaleX,r=e.scaleY,i=function(){return s.default.features.publish_no_watermark?o.a.createElement(h,{feature:"publish_custom_logo"}):o.a.createElement(h,{feature:"publish_no_watermark"})};return o.a.createElement(l.Watermark,{onClick:function(){s.default.features.publish_custom_logo?(Object(c.openWatermarkSettingsPanel)(),Object(p.logOpenWatermark)({prezi_oid:f.default.infographicId})):t(o.a.createElement(i,null))},scaleX:n,scaleY:r},o.a.createElement(b,null),o.a.createElement(u.default,{onClick:function(){Object(c.openWatermarkSettingsPanel)(),Object(p.logOpenWatermarkSidebar)({prezi_oid:f.default.infographicId})}}))};t.default=Object(a.withDialogs)()(g)},zkXd:function(e,t,n){"use strict";n.r(t),n.d(t,"createBackgroundDragHandler",(function(){return l}));var r=n("WdyC"),o=n("vmwM"),i=n("XjPQ"),a=n("CS6a"),u=n("G5AB"),c=n("C9vw");function l(e){var t=e.moveClip,n=e.getBounds,l=e.onStart,s=e.onEnd;return function(e){var f,p,d=function(e){e.stopPropagation();var n=o.default.ongoingClipTransform.get("startPoint"),r=e.clientX-n.x,a=e.clientY-n.y;if(h){var u=Object(o.calculateLocalCoordinates)(r,a,v.getTransform().getRotate());r=Math.max(Math.min(u.x,h.left),-(v.width*g-h.left-h.width)),a=Math.max(Math.min(u.y,h.top),-(v.height*y-h.top-h.height));var l=Object(o.calculateLocalCoordinates)(r,a,-v.getTransform().getRotate());r=l.x,a=l.y}t(Object(i.Point)(n.x-r,n.y-a)),Object(c.default)([v.getKey()],{left:f.x+r/g,top:f.y+a/y})},h=n&&n(),b=this.props,g=b.scaleX,y=b.scaleY,v=b.entity;function m(){Object(u.default)(),s&&s(),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",m)}(p=e).nativeEvent.stopImmediatePropagation(),p.stopPropagation(),p.preventDefault(),Object(a.default)(),Object(r.startClipMove)({startPoint:Object(i.Point)(p.clientX,p.clientY),scaleX:g,scaleY:y}),f=Object(i.Point)(v.left,v.top),l&&l(),document.addEventListener("mousemove",d),document.addEventListener("mouseup",m)}}}}]);